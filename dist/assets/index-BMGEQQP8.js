const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MembersTab-BTSRacMh.js","assets/PermissionGuard-xFP_RhYz.js","assets/InboxTab-CIqbEhRj.js","assets/AdvancedDashboardTab-BVXPwd4F.js","assets/progress-DZcl_Gst.js","assets/generateCategoricalChart-D8FD0QKt.js","assets/LineChart-Bk2ezXLH.js","assets/CustomerInsightsTab-BGEBJuW9.js","assets/BarChart-DLzCwvd4.js","assets/SentimentTab-CwnaTIbb.js","assets/PerformanceTab-CVhjRtYy.js","assets/FeedbackTab-19MZf6Yr.js","assets/IntegrationsTab-grslYCmt.js","assets/switch-BRG4GqV3.js","assets/QuestionsTab-P3gztEp8.js","assets/SettingsTab-BhDJcYT-.js"])))=>i.map(i=>d[i]);
var _2=Object.defineProperty;var v0=e=>{throw TypeError(e)};var N2=(e,t,r)=>t in e?_2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var di=(e,t,r)=>N2(e,typeof t!="symbol"?t+"":t,r),wf=(e,t,r)=>t.has(e)||v0("Cannot "+r);var k=(e,t,r)=>(wf(e,t,"read from private field"),r?r.call(e):t.get(e)),ee=(e,t,r)=>t.has(e)?v0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),H=(e,t,r,n)=>(wf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ue=(e,t,r)=>(wf(e,t,"access private method"),r);var lc=(e,t,r,n)=>({set _(s){H(e,t,s,r)},get _(){return k(e,t,n)}});function k2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var hw={exports:{}},nd={},mw={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=Symbol.for("react.element"),E2=Symbol.for("react.portal"),P2=Symbol.for("react.fragment"),R2=Symbol.for("react.strict_mode"),T2=Symbol.for("react.profiler"),A2=Symbol.for("react.provider"),O2=Symbol.for("react.context"),M2=Symbol.for("react.forward_ref"),D2=Symbol.for("react.suspense"),I2=Symbol.for("react.memo"),L2=Symbol.for("react.lazy"),x0=Symbol.iterator;function $2(e){return e===null||typeof e!="object"?null:(e=x0&&e[x0]||e["@@iterator"],typeof e=="function"?e:null)}var pw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gw=Object.assign,vw={};function Ua(e,t,r){this.props=e,this.context=t,this.refs=vw,this.updater=r||pw}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xw(){}xw.prototype=Ua.prototype;function kp(e,t,r){this.props=e,this.context=t,this.refs=vw,this.updater=r||pw}var Cp=kp.prototype=new xw;Cp.constructor=kp;gw(Cp,Ua.prototype);Cp.isPureReactComponent=!0;var y0=Array.isArray,yw=Object.prototype.hasOwnProperty,Ep={current:null},ww={key:!0,ref:!0,__self:!0,__source:!0};function bw(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)yw.call(t,n)&&!ww.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Pl,type:e,key:o,ref:i,props:s,_owner:Ep.current}}function F2(e,t){return{$$typeof:Pl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pl}function z2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var w0=/\/+/g;function bf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?z2(""+e.key):t.toString(36)}function qc(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Pl:case E2:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+bf(i,0):n,y0(s)?(r="",e!=null&&(r=e.replace(w0,"$&/")+"/"),qc(s,t,r,"",function(u){return u})):s!=null&&(Pp(s)&&(s=F2(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(w0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",y0(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+bf(o,l);i+=qc(o,t,r,c,s)}else if(c=$2(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+bf(o,l++),i+=qc(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function cc(e,t,r){if(e==null)return e;var n=[],s=0;return qc(e,n,"","",function(o){return t.call(r,o,s++)}),n}function U2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nt={current:null},Vc={transition:null},B2={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Vc,ReactCurrentOwner:Ep};function jw(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:cc,forEach:function(e,t,r){cc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cc(e,function(){t++}),t},toArray:function(e){return cc(e,function(t){return t})||[]},only:function(e){if(!Pp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Ua;fe.Fragment=P2;fe.Profiler=T2;fe.PureComponent=kp;fe.StrictMode=R2;fe.Suspense=D2;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B2;fe.act=jw;fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gw({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Ep.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yw.call(t,c)&&!ww.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Pl,type:e.type,key:s,ref:o,props:n,_owner:i}};fe.createContext=function(e){return e={$$typeof:O2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:A2,_context:e},e.Consumer=e};fe.createElement=bw;fe.createFactory=function(e){var t=bw.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:M2,render:e}};fe.isValidElement=Pp;fe.lazy=function(e){return{$$typeof:L2,_payload:{_status:-1,_result:e},_init:U2}};fe.memo=function(e,t){return{$$typeof:I2,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Vc.transition;Vc.transition={};try{e()}finally{Vc.transition=t}};fe.unstable_act=jw;fe.useCallback=function(e,t){return Nt.current.useCallback(e,t)};fe.useContext=function(e){return Nt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Nt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Nt.current.useEffect(e,t)};fe.useId=function(){return Nt.current.useId()};fe.useImperativeHandle=function(e,t,r){return Nt.current.useImperativeHandle(e,t,r)};fe.useInsertionEffect=function(e,t){return Nt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Nt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Nt.current.useMemo(e,t)};fe.useReducer=function(e,t,r){return Nt.current.useReducer(e,t,r)};fe.useRef=function(e){return Nt.current.useRef(e)};fe.useState=function(e){return Nt.current.useState(e)};fe.useSyncExternalStore=function(e,t,r){return Nt.current.useSyncExternalStore(e,t,r)};fe.useTransition=function(){return Nt.current.useTransition()};fe.version="18.3.1";mw.exports=fe;var m=mw.exports;const A=fw(m),Sw=k2({__proto__:null,default:A},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2=m,q2=Symbol.for("react.element"),V2=Symbol.for("react.fragment"),H2=Object.prototype.hasOwnProperty,K2=W2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y2={key:!0,ref:!0,__self:!0,__source:!0};function _w(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)H2.call(t,n)&&!Y2.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:q2,type:e,key:o,ref:i,props:s,_owner:K2.current}}nd.Fragment=V2;nd.jsx=_w;nd.jsxs=_w;hw.exports=nd;var a=hw.exports,Nw={exports:{}},tr={},kw={exports:{}},Cw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,P){var B=_.length;_.push(P);e:for(;0<B;){var z=B-1>>>1,W=_[z];if(0<s(W,P))_[z]=P,_[B]=W,B=z;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var P=_[0],B=_.pop();if(B!==P){_[0]=B;e:for(var z=0,W=_.length,Z=W>>>1;z<Z;){var se=2*(z+1)-1,je=_[se],ae=se+1,X=_[ae];if(0>s(je,B))ae<W&&0>s(X,je)?(_[z]=X,_[ae]=B,z=ae):(_[z]=je,_[se]=B,z=se);else if(ae<W&&0>s(X,B))_[z]=X,_[ae]=B,z=ae;else break e}}return P}function s(_,P){var B=_.sortIndex-P.sortIndex;return B!==0?B:_.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=_)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function j(_){if(g=!1,b(_),!v)if(r(c)!==null)v=!0,U(S);else{var P=r(u);P!==null&&M(j,P.startTime-_)}}function S(_,P){v=!1,g&&(g=!1,w(E),E=-1),p=!0;var B=h;try{for(b(P),f=r(c);f!==null&&(!(f.expirationTime>P)||_&&!L());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var W=z(f.expirationTime<=P);P=e.unstable_now(),typeof W=="function"?f.callback=W:f===r(c)&&n(c),b(P)}else n(c);f=r(c)}if(f!==null)var Z=!0;else{var se=r(u);se!==null&&M(j,se.startTime-P),Z=!1}return Z}finally{f=null,h=B,p=!1}}var N=!1,C=null,E=-1,T=5,R=-1;function L(){return!(e.unstable_now()-R<T)}function $(){if(C!==null){var _=e.unstable_now();R=_;var P=!0;try{P=C(!0,_)}finally{P?K():(N=!1,C=null)}}else N=!1}var K;if(typeof y=="function")K=function(){y($)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,G=I.port2;I.port1.onmessage=$,K=function(){G.postMessage(null)}}else K=function(){x($,0)};function U(_){C=_,N||(N=!0,K())}function M(_,P){E=x(function(){_(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,U(S))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var B=h;h=P;try{return _()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,P){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var B=h;h=_;try{return P()}finally{h=B}},e.unstable_scheduleCallback=function(_,P,B){var z=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?z+B:z):B=z,_){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=B+W,_={id:d++,callback:P,priorityLevel:_,startTime:B,expirationTime:W,sortIndex:-1},B>z?(_.sortIndex=B,t(u,_),r(c)===null&&_===r(u)&&(g?(w(E),E=-1):g=!0,M(j,B-z))):(_.sortIndex=W,t(c,_),v||p||(v=!0,U(S))),_},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(_){var P=h;return function(){var B=h;h=P;try{return _.apply(this,arguments)}finally{h=B}}}})(Cw);kw.exports=Cw;var G2=kw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2=m,Zt=G2;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ew=new Set,Gi={};function fo(e,t){ba(e,t),ba(e+"Capture",t)}function ba(e,t){for(Gi[e]=t,e=0;e<t.length;e++)Ew.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ph=Object.prototype.hasOwnProperty,X2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b0={},j0={};function J2(e){return Ph.call(j0,e)?!0:Ph.call(b0,e)?!1:X2.test(e)?j0[e]=!0:(b0[e]=!0,!1)}function Z2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eP(e,t,r,n){if(t===null||typeof t>"u"||Z2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rp=/[\-:]([a-z])/g;function Tp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rp,Tp);ct[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rp,Tp);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rp,Tp);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ap(e,t,r,n){var s=ct.hasOwnProperty(t)?ct[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eP(t,r,s,n)&&(r=null),n||s===null?J2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cn=Q2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),Pw=Symbol.for("react.provider"),Rw=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),Th=Symbol.for("react.suspense"),Ah=Symbol.for("react.suspense_list"),Dp=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Tw=Symbol.for("react.offscreen"),S0=Symbol.iterator;function fi(e){return e===null||typeof e!="object"?null:(e=S0&&e[S0]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,jf;function ki(e){if(jf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);jf=t&&t[1]||""}return`
`+jf+e}var Sf=!1;function _f(e,t){if(!e||Sf)return"";Sf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Sf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ki(e):""}function tP(e){switch(e.tag){case 5:return ki(e.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 2:case 15:return e=_f(e.type,!1),e;case 11:return e=_f(e.type.render,!1),e;case 1:return e=_f(e.type,!0),e;default:return""}}function Oh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Io:return"Fragment";case Do:return"Portal";case Rh:return"Profiler";case Op:return"StrictMode";case Th:return"Suspense";case Ah:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rw:return(e.displayName||"Context")+".Consumer";case Pw:return(e._context.displayName||"Context")+".Provider";case Mp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dp:return t=e.displayName||null,t!==null?t:Oh(e.type)||"Memo";case Un:t=e._payload,e=e._init;try{return Oh(e(t))}catch{}}return null}function rP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oh(t);case 8:return t===Op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ps(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Aw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nP(e){var t=Aw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dc(e){e._valueTracker||(e._valueTracker=nP(e))}function Ow(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Aw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function du(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mh(e,t){var r=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ps(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mw(e,t){t=t.checked,t!=null&&Ap(e,"checked",t,!1)}function Dh(e,t){Mw(e,t);var r=ps(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ih(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ih(e,t.type,ps(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function N0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ih(e,t,r){(t!=="number"||du(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ci=Array.isArray;function Go(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ps(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Lh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function k0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Ci(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ps(r)}}function Dw(e,t){var r=ps(t.value),n=ps(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function C0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Iw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $h(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Iw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fc,Lw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sP=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(e){sP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mi[t]=Mi[e]})});function $w(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mi.hasOwnProperty(e)&&Mi[e]?(""+t).trim():t+"px"}function Fw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$w(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var oP=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fh(e,t){if(t){if(oP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function zh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=null;function Ip(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bh=null,Qo=null,Xo=null;function E0(e){if(e=Al(e)){if(typeof Bh!="function")throw Error(F(280));var t=e.stateNode;t&&(t=ld(t),Bh(e.stateNode,e.type,t))}}function zw(e){Qo?Xo?Xo.push(e):Xo=[e]:Qo=e}function Uw(){if(Qo){var e=Qo,t=Xo;if(Xo=Qo=null,E0(e),t)for(e=0;e<t.length;e++)E0(t[e])}}function Bw(e,t){return e(t)}function Ww(){}var Nf=!1;function qw(e,t,r){if(Nf)return e(t,r);Nf=!0;try{return Bw(e,t,r)}finally{Nf=!1,(Qo!==null||Xo!==null)&&(Ww(),Uw())}}function Xi(e,t){var r=e.stateNode;if(r===null)return null;var n=ld(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var Wh=!1;if(wn)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{Wh=!1}function aP(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Di=!1,fu=null,hu=!1,qh=null,iP={onError:function(e){Di=!0,fu=e}};function lP(e,t,r,n,s,o,i,l,c){Di=!1,fu=null,aP.apply(iP,arguments)}function cP(e,t,r,n,s,o,i,l,c){if(lP.apply(this,arguments),Di){if(Di){var u=fu;Di=!1,fu=null}else throw Error(F(198));hu||(hu=!0,qh=u)}}function ho(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P0(e){if(ho(e)!==e)throw Error(F(188))}function uP(e){var t=e.alternate;if(!t){if(t=ho(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return P0(s),e;if(o===n)return P0(s),t;o=o.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function Hw(e){return e=uP(e),e!==null?Kw(e):null}function Kw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kw(e);if(t!==null)return t;e=e.sibling}return null}var Yw=Zt.unstable_scheduleCallback,R0=Zt.unstable_cancelCallback,dP=Zt.unstable_shouldYield,fP=Zt.unstable_requestPaint,He=Zt.unstable_now,hP=Zt.unstable_getCurrentPriorityLevel,Lp=Zt.unstable_ImmediatePriority,Gw=Zt.unstable_UserBlockingPriority,mu=Zt.unstable_NormalPriority,mP=Zt.unstable_LowPriority,Qw=Zt.unstable_IdlePriority,sd=null,Qr=null;function pP(e){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(sd,e,void 0,(e.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:xP,gP=Math.log,vP=Math.LN2;function xP(e){return e>>>=0,e===0?32:31-(gP(e)/vP|0)|0}var hc=64,mc=4194304;function Ei(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Ei(l):(o&=i,o!==0&&(n=Ei(o)))}else i=r&~s,i!==0?n=Ei(i):o!==0&&(n=Ei(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Nr(t),s=1<<r,n|=e[r],t&=~s;return n}function yP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Nr(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=yP(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Vh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xw(){var e=hc;return hc<<=1,!(hc&4194240)&&(hc=64),e}function kf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nr(t),e[t]=r}function bP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Nr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function $p(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Nr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ke=0;function Jw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zw,Fp,eb,tb,rb,Hh=!1,pc=[],os=null,as=null,is=null,Ji=new Map,Zi=new Map,qn=[],jP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T0(e,t){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zi.delete(t.pointerId)}}function mi(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Al(t),t!==null&&Fp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function SP(e,t,r,n,s){switch(t){case"focusin":return os=mi(os,e,t,r,n,s),!0;case"dragenter":return as=mi(as,e,t,r,n,s),!0;case"mouseover":return is=mi(is,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Ji.set(o,mi(Ji.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Zi.set(o,mi(Zi.get(o)||null,e,t,r,n,s)),!0}return!1}function nb(e){var t=Us(e.target);if(t!==null){var r=ho(t);if(r!==null){if(t=r.tag,t===13){if(t=Vw(r),t!==null){e.blockedOn=t,rb(e.priority,function(){eb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Uh=n,r.target.dispatchEvent(n),Uh=null}else return t=Al(r),t!==null&&Fp(t),e.blockedOn=r,!1;t.shift()}return!0}function A0(e,t,r){Hc(e)&&r.delete(t)}function _P(){Hh=!1,os!==null&&Hc(os)&&(os=null),as!==null&&Hc(as)&&(as=null),is!==null&&Hc(is)&&(is=null),Ji.forEach(A0),Zi.forEach(A0)}function pi(e,t){e.blockedOn===t&&(e.blockedOn=null,Hh||(Hh=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,_P)))}function el(e){function t(s){return pi(s,e)}if(0<pc.length){pi(pc[0],e);for(var r=1;r<pc.length;r++){var n=pc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(os!==null&&pi(os,e),as!==null&&pi(as,e),is!==null&&pi(is,e),Ji.forEach(t),Zi.forEach(t),r=0;r<qn.length;r++)n=qn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qn.length&&(r=qn[0],r.blockedOn===null);)nb(r),r.blockedOn===null&&qn.shift()}var Jo=Cn.ReactCurrentBatchConfig,gu=!0;function NP(e,t,r,n){var s=ke,o=Jo.transition;Jo.transition=null;try{ke=1,zp(e,t,r,n)}finally{ke=s,Jo.transition=o}}function kP(e,t,r,n){var s=ke,o=Jo.transition;Jo.transition=null;try{ke=4,zp(e,t,r,n)}finally{ke=s,Jo.transition=o}}function zp(e,t,r,n){if(gu){var s=Kh(e,t,r,n);if(s===null)If(e,t,n,vu,r),T0(e,n);else if(SP(s,e,t,r,n))n.stopPropagation();else if(T0(e,n),t&4&&-1<jP.indexOf(e)){for(;s!==null;){var o=Al(s);if(o!==null&&Zw(o),o=Kh(e,t,r,n),o===null&&If(e,t,n,vu,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else If(e,t,n,null,r)}}var vu=null;function Kh(e,t,r,n){if(vu=null,e=Ip(n),e=Us(e),e!==null)if(t=ho(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vu=e,null}function sb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hP()){case Lp:return 1;case Gw:return 4;case mu:case mP:return 16;case Qw:return 536870912;default:return 16}default:return 16}}var rs=null,Up=null,Kc=null;function ob(){if(Kc)return Kc;var e,t=Up,r=t.length,n,s="value"in rs?rs.value:rs.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Kc=s.slice(e,1<n?1-n:void 0)}function Yc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gc(){return!0}function O0(){return!1}function rr(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gc:O0,this.isPropagationStopped=O0,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),t}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bp=rr(Ba),Tl=Be({},Ba,{view:0,detail:0}),CP=rr(Tl),Cf,Ef,gi,od=Be({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(Cf=e.screenX-gi.screenX,Ef=e.screenY-gi.screenY):Ef=Cf=0,gi=e),Cf)},movementY:function(e){return"movementY"in e?e.movementY:Ef}}),M0=rr(od),EP=Be({},od,{dataTransfer:0}),PP=rr(EP),RP=Be({},Tl,{relatedTarget:0}),Pf=rr(RP),TP=Be({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),AP=rr(TP),OP=Be({},Ba,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MP=rr(OP),DP=Be({},Ba,{data:0}),D0=rr(DP),IP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$P={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$P[e])?!!t[e]:!1}function Wp(){return FP}var zP=Be({},Tl,{key:function(e){if(e.key){var t=IP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wp,charCode:function(e){return e.type==="keypress"?Yc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UP=rr(zP),BP=Be({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=rr(BP),WP=Be({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wp}),qP=rr(WP),VP=Be({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),HP=rr(VP),KP=Be({},od,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YP=rr(KP),GP=[9,13,27,32],qp=wn&&"CompositionEvent"in window,Ii=null;wn&&"documentMode"in document&&(Ii=document.documentMode);var QP=wn&&"TextEvent"in window&&!Ii,ab=wn&&(!qp||Ii&&8<Ii&&11>=Ii),L0=" ",$0=!1;function ib(e,t){switch(e){case"keyup":return GP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lo=!1;function XP(e,t){switch(e){case"compositionend":return lb(t);case"keypress":return t.which!==32?null:($0=!0,L0);case"textInput":return e=t.data,e===L0&&$0?null:e;default:return null}}function JP(e,t){if(Lo)return e==="compositionend"||!qp&&ib(e,t)?(e=ob(),Kc=Up=rs=null,Lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ab&&t.locale!=="ko"?null:t.data;default:return null}}var ZP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZP[e.type]:t==="textarea"}function cb(e,t,r,n){zw(n),t=xu(t,"onChange"),0<t.length&&(r=new Bp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Li=null,tl=null;function eR(e){wb(e,0)}function ad(e){var t=zo(e);if(Ow(t))return e}function tR(e,t){if(e==="change")return t}var ub=!1;if(wn){var Rf;if(wn){var Tf="oninput"in document;if(!Tf){var z0=document.createElement("div");z0.setAttribute("oninput","return;"),Tf=typeof z0.oninput=="function"}Rf=Tf}else Rf=!1;ub=Rf&&(!document.documentMode||9<document.documentMode)}function U0(){Li&&(Li.detachEvent("onpropertychange",db),tl=Li=null)}function db(e){if(e.propertyName==="value"&&ad(tl)){var t=[];cb(t,tl,e,Ip(e)),qw(eR,t)}}function rR(e,t,r){e==="focusin"?(U0(),Li=t,tl=r,Li.attachEvent("onpropertychange",db)):e==="focusout"&&U0()}function nR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ad(tl)}function sR(e,t){if(e==="click")return ad(t)}function oR(e,t){if(e==="input"||e==="change")return ad(t)}function aR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cr=typeof Object.is=="function"?Object.is:aR;function rl(e,t){if(Cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ph.call(t,s)||!Cr(e[s],t[s]))return!1}return!0}function B0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W0(e,t){var r=B0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=B0(r)}}function fb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hb(){for(var e=window,t=du();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=du(e.document)}return t}function Vp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iR(e){var t=hb(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fb(r.ownerDocument.documentElement,r)){if(n!==null&&Vp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=W0(r,o);var i=W0(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lR=wn&&"documentMode"in document&&11>=document.documentMode,$o=null,Yh=null,$i=null,Gh=!1;function q0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||$o==null||$o!==du(n)||(n=$o,"selectionStart"in n&&Vp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$i&&rl($i,n)||($i=n,n=xu(Yh,"onSelect"),0<n.length&&(t=new Bp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$o)))}function vc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fo={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},Af={},mb={};wn&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function id(e){if(Af[e])return Af[e];if(!Fo[e])return e;var t=Fo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mb)return Af[e]=t[r];return e}var pb=id("animationend"),gb=id("animationiteration"),vb=id("animationstart"),xb=id("transitionend"),yb=new Map,V0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(e,t){yb.set(e,t),fo(t,[e])}for(var Of=0;Of<V0.length;Of++){var Mf=V0[Of],cR=Mf.toLowerCase(),uR=Mf[0].toUpperCase()+Mf.slice(1);Ss(cR,"on"+uR)}Ss(pb,"onAnimationEnd");Ss(gb,"onAnimationIteration");Ss(vb,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(xb,"onTransitionEnd");ba("onMouseEnter",["mouseout","mouseover"]);ba("onMouseLeave",["mouseout","mouseover"]);ba("onPointerEnter",["pointerout","pointerover"]);ba("onPointerLeave",["pointerout","pointerover"]);fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pi));function H0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cP(n,t,void 0,e),e.currentTarget=null}function wb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;H0(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;H0(s,l,u),o=c}}}if(hu)throw e=qh,hu=!1,qh=null,e}function Me(e,t){var r=t[em];r===void 0&&(r=t[em]=new Set);var n=e+"__bubble";r.has(n)||(bb(t,e,2,!1),r.add(n))}function Df(e,t,r){var n=0;t&&(n|=4),bb(r,e,n,t)}var xc="_reactListening"+Math.random().toString(36).slice(2);function nl(e){if(!e[xc]){e[xc]=!0,Ew.forEach(function(r){r!=="selectionchange"&&(dR.has(r)||Df(r,!1,e),Df(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xc]||(t[xc]=!0,Df("selectionchange",!1,t))}}function bb(e,t,r,n){switch(sb(t)){case 1:var s=NP;break;case 4:s=kP;break;default:s=zp}r=s.bind(null,t,r,e),s=void 0,!Wh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function If(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Us(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}qw(function(){var u=o,d=Ip(r),f=[];e:{var h=yb.get(e);if(h!==void 0){var p=Bp,v=e;switch(e){case"keypress":if(Yc(r)===0)break e;case"keydown":case"keyup":p=UP;break;case"focusin":v="focus",p=Pf;break;case"focusout":v="blur",p=Pf;break;case"beforeblur":case"afterblur":p=Pf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qP;break;case pb:case gb:case vb:p=AP;break;case xb:p=HP;break;case"scroll":p=CP;break;case"wheel":p=YP;break;case"copy":case"cut":case"paste":p=MP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=I0}var g=(t&4)!==0,x=!g&&e==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,w!==null&&(j=Xi(y,w),j!=null&&g.push(sl(y,j,b)))),x)break;y=y.return}0<g.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Uh&&(v=r.relatedTarget||r.fromElement)&&(Us(v)||v[bn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Us(v):null,v!==null&&(x=ho(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=M0,j="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=I0,j="onPointerLeave",w="onPointerEnter",y="pointer"),x=p==null?h:zo(p),b=v==null?h:zo(v),h=new g(j,y+"leave",p,r,d),h.target=x,h.relatedTarget=b,j=null,Us(d)===u&&(g=new g(w,y+"enter",v,r,d),g.target=b,g.relatedTarget=x,j=g),x=j,p&&v)t:{for(g=p,w=v,y=0,b=g;b;b=_o(b))y++;for(b=0,j=w;j;j=_o(j))b++;for(;0<y-b;)g=_o(g),y--;for(;0<b-y;)w=_o(w),b--;for(;y--;){if(g===w||w!==null&&g===w.alternate)break t;g=_o(g),w=_o(w)}g=null}else g=null;p!==null&&K0(f,h,p,g,!1),v!==null&&x!==null&&K0(f,x,v,g,!0)}}e:{if(h=u?zo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=tR;else if(F0(h))if(ub)S=oR;else{S=nR;var N=rR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=sR);if(S&&(S=S(e,u))){cb(f,S,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Ih(h,"number",h.value)}switch(N=u?zo(u):window,e){case"focusin":(F0(N)||N.contentEditable==="true")&&($o=N,Yh=u,$i=null);break;case"focusout":$i=Yh=$o=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,q0(f,r,d);break;case"selectionchange":if(lR)break;case"keydown":case"keyup":q0(f,r,d)}var C;if(qp)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Lo?ib(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(ab&&r.locale!=="ko"&&(Lo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Lo&&(C=ob()):(rs=d,Up="value"in rs?rs.value:rs.textContent,Lo=!0)),N=xu(u,E),0<N.length&&(E=new D0(E,e,null,r,d),f.push({event:E,listeners:N}),C?E.data=C:(C=lb(r),C!==null&&(E.data=C)))),(C=QP?XP(e,r):JP(e,r))&&(u=xu(u,"onBeforeInput"),0<u.length&&(d=new D0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}wb(f,t)})}function sl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Xi(e,r),o!=null&&n.unshift(sl(e,o,s)),o=Xi(e,t),o!=null&&n.push(sl(e,o,s))),e=e.return}return n}function _o(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function K0(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Xi(r,o),c!=null&&i.unshift(sl(r,c,l))):s||(c=Xi(r,o),c!=null&&i.push(sl(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var fR=/\r\n?/g,hR=/\u0000|\uFFFD/g;function Y0(e){return(typeof e=="string"?e:""+e).replace(fR,`
`).replace(hR,"")}function yc(e,t,r){if(t=Y0(t),Y0(e)!==t&&r)throw Error(F(425))}function yu(){}var Qh=null,Xh=null;function Jh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,mR=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,pR=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(e){return G0.resolve(null).then(e).catch(gR)}:Zh;function gR(e){setTimeout(function(){throw e})}function Lf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),el(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);el(t)}function ls(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Q0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Wa,ol="__reactProps$"+Wa,bn="__reactContainer$"+Wa,em="__reactEvents$"+Wa,vR="__reactListeners$"+Wa,xR="__reactHandles$"+Wa;function Us(e){var t=e[Hr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bn]||r[Hr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Q0(e);e!==null;){if(r=e[Hr])return r;e=Q0(e)}return t}e=r,r=e.parentNode}return null}function Al(e){return e=e[Hr]||e[bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function ld(e){return e[ol]||null}var tm=[],Uo=-1;function _s(e){return{current:e}}function Le(e){0>Uo||(e.current=tm[Uo],tm[Uo]=null,Uo--)}function Re(e,t){Uo++,tm[Uo]=e.current,e.current=t}var gs={},pt=_s(gs),It=_s(!1),Zs=gs;function ja(e,t){var r=e.type.contextTypes;if(!r)return gs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Lt(e){return e=e.childContextTypes,e!=null}function wu(){Le(It),Le(pt)}function X0(e,t,r){if(pt.current!==gs)throw Error(F(168));Re(pt,t),Re(It,r)}function jb(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,rP(e)||"Unknown",s));return Be({},r,n)}function bu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gs,Zs=pt.current,Re(pt,e),Re(It,It.current),!0}function J0(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=jb(e,t,Zs),n.__reactInternalMemoizedMergedChildContext=e,Le(It),Le(pt),Re(pt,e)):Le(It),Re(It,r)}var mn=null,cd=!1,$f=!1;function Sb(e){mn===null?mn=[e]:mn.push(e)}function yR(e){cd=!0,Sb(e)}function Ns(){if(!$f&&mn!==null){$f=!0;var e=0,t=ke;try{var r=mn;for(ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mn=null,cd=!1}catch(s){throw mn!==null&&(mn=mn.slice(e+1)),Yw(Lp,Ns),s}finally{ke=t,$f=!1}}return null}var Bo=[],Wo=0,ju=null,Su=0,ar=[],ir=0,eo=null,gn=1,vn="";function Is(e,t){Bo[Wo++]=Su,Bo[Wo++]=ju,ju=e,Su=t}function _b(e,t,r){ar[ir++]=gn,ar[ir++]=vn,ar[ir++]=eo,eo=e;var n=gn;e=vn;var s=32-Nr(n)-1;n&=~(1<<s),r+=1;var o=32-Nr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,gn=1<<32-Nr(t)+s|r<<s|n,vn=o+e}else gn=1<<o|r<<s|n,vn=e}function Hp(e){e.return!==null&&(Is(e,1),_b(e,1,0))}function Kp(e){for(;e===ju;)ju=Bo[--Wo],Bo[Wo]=null,Su=Bo[--Wo],Bo[Wo]=null;for(;e===eo;)eo=ar[--ir],ar[ir]=null,vn=ar[--ir],ar[ir]=null,gn=ar[--ir],ar[ir]=null}var Xt=null,Qt=null,$e=!1,Sr=null;function Nb(e,t){var r=lr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Z0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Qt=ls(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=eo!==null?{id:gn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=lr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xt=e,Qt=null,!0):!1;default:return!1}}function rm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nm(e){if($e){var t=Qt;if(t){var r=t;if(!Z0(e,t)){if(rm(e))throw Error(F(418));t=ls(r.nextSibling);var n=Xt;t&&Z0(e,t)?Nb(n,r):(e.flags=e.flags&-4097|2,$e=!1,Xt=e)}}else{if(rm(e))throw Error(F(418));e.flags=e.flags&-4097|2,$e=!1,Xt=e}}}function ex(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function wc(e){if(e!==Xt)return!1;if(!$e)return ex(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jh(e.type,e.memoizedProps)),t&&(t=Qt)){if(rm(e))throw kb(),Error(F(418));for(;t;)Nb(e,t),t=ls(t.nextSibling)}if(ex(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qt=ls(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Xt?ls(e.stateNode.nextSibling):null;return!0}function kb(){for(var e=Qt;e;)e=ls(e.nextSibling)}function Sa(){Qt=Xt=null,$e=!1}function Yp(e){Sr===null?Sr=[e]:Sr.push(e)}var wR=Cn.ReactCurrentBatchConfig;function vi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function bc(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tx(e){var t=e._init;return t(e._payload)}function Cb(e){function t(w,y){if(e){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function r(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=fs(w,y),w.index=0,w.sibling=null,w}function o(w,y,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,y,b,j){return y===null||y.tag!==6?(y=Vf(b,w.mode,j),y.return=w,y):(y=s(y,b),y.return=w,y)}function c(w,y,b,j){var S=b.type;return S===Io?d(w,y,b.props.children,j,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Un&&tx(S)===y.type)?(j=s(y,b.props),j.ref=vi(w,y,b),j.return=w,j):(j=tu(b.type,b.key,b.props,null,w.mode,j),j.ref=vi(w,y,b),j.return=w,j)}function u(w,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Hf(b,w.mode,j),y.return=w,y):(y=s(y,b.children||[]),y.return=w,y)}function d(w,y,b,j,S){return y===null||y.tag!==7?(y=Js(b,w.mode,j,S),y.return=w,y):(y=s(y,b),y.return=w,y)}function f(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Vf(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case uc:return b=tu(y.type,y.key,y.props,null,w.mode,b),b.ref=vi(w,null,y),b.return=w,b;case Do:return y=Hf(y,w.mode,b),y.return=w,y;case Un:var j=y._init;return f(w,j(y._payload),b)}if(Ci(y)||fi(y))return y=Js(y,w.mode,b,null),y.return=w,y;bc(w,y)}return null}function h(w,y,b,j){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(w,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case uc:return b.key===S?c(w,y,b,j):null;case Do:return b.key===S?u(w,y,b,j):null;case Un:return S=b._init,h(w,y,S(b._payload),j)}if(Ci(b)||fi(b))return S!==null?null:d(w,y,b,j,null);bc(w,b)}return null}function p(w,y,b,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(b)||null,l(y,w,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case uc:return w=w.get(j.key===null?b:j.key)||null,c(y,w,j,S);case Do:return w=w.get(j.key===null?b:j.key)||null,u(y,w,j,S);case Un:var N=j._init;return p(w,y,b,N(j._payload),S)}if(Ci(j)||fi(j))return w=w.get(b)||null,d(y,w,j,S,null);bc(y,j)}return null}function v(w,y,b,j){for(var S=null,N=null,C=y,E=y=0,T=null;C!==null&&E<b.length;E++){C.index>E?(T=C,C=null):T=C.sibling;var R=h(w,C,b[E],j);if(R===null){C===null&&(C=T);break}e&&C&&R.alternate===null&&t(w,C),y=o(R,y,E),N===null?S=R:N.sibling=R,N=R,C=T}if(E===b.length)return r(w,C),$e&&Is(w,E),S;if(C===null){for(;E<b.length;E++)C=f(w,b[E],j),C!==null&&(y=o(C,y,E),N===null?S=C:N.sibling=C,N=C);return $e&&Is(w,E),S}for(C=n(w,C);E<b.length;E++)T=p(C,w,E,b[E],j),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?E:T.key),y=o(T,y,E),N===null?S=T:N.sibling=T,N=T);return e&&C.forEach(function(L){return t(w,L)}),$e&&Is(w,E),S}function g(w,y,b,j){var S=fi(b);if(typeof S!="function")throw Error(F(150));if(b=S.call(b),b==null)throw Error(F(151));for(var N=S=null,C=y,E=y=0,T=null,R=b.next();C!==null&&!R.done;E++,R=b.next()){C.index>E?(T=C,C=null):T=C.sibling;var L=h(w,C,R.value,j);if(L===null){C===null&&(C=T);break}e&&C&&L.alternate===null&&t(w,C),y=o(L,y,E),N===null?S=L:N.sibling=L,N=L,C=T}if(R.done)return r(w,C),$e&&Is(w,E),S;if(C===null){for(;!R.done;E++,R=b.next())R=f(w,R.value,j),R!==null&&(y=o(R,y,E),N===null?S=R:N.sibling=R,N=R);return $e&&Is(w,E),S}for(C=n(w,C);!R.done;E++,R=b.next())R=p(C,w,E,R.value,j),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?E:R.key),y=o(R,y,E),N===null?S=R:N.sibling=R,N=R);return e&&C.forEach(function($){return t(w,$)}),$e&&Is(w,E),S}function x(w,y,b,j){if(typeof b=="object"&&b!==null&&b.type===Io&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case uc:e:{for(var S=b.key,N=y;N!==null;){if(N.key===S){if(S=b.type,S===Io){if(N.tag===7){r(w,N.sibling),y=s(N,b.props.children),y.return=w,w=y;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Un&&tx(S)===N.type){r(w,N.sibling),y=s(N,b.props),y.ref=vi(w,N,b),y.return=w,w=y;break e}r(w,N);break}else t(w,N);N=N.sibling}b.type===Io?(y=Js(b.props.children,w.mode,j,b.key),y.return=w,w=y):(j=tu(b.type,b.key,b.props,null,w.mode,j),j.ref=vi(w,y,b),j.return=w,w=j)}return i(w);case Do:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(w,y.sibling),y=s(y,b.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else t(w,y);y=y.sibling}y=Hf(b,w.mode,j),y.return=w,w=y}return i(w);case Un:return N=b._init,x(w,y,N(b._payload),j)}if(Ci(b))return v(w,y,b,j);if(fi(b))return g(w,y,b,j);bc(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(w,y.sibling),y=s(y,b),y.return=w,w=y):(r(w,y),y=Vf(b,w.mode,j),y.return=w,w=y),i(w)):r(w,y)}return x}var _a=Cb(!0),Eb=Cb(!1),_u=_s(null),Nu=null,qo=null,Gp=null;function Qp(){Gp=qo=Nu=null}function Xp(e){var t=_u.current;Le(_u),e._currentValue=t}function sm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zo(e,t){Nu=e,Gp=qo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mt=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(Gp!==e)if(e={context:e,memoizedValue:t,next:null},qo===null){if(Nu===null)throw Error(F(308));qo=e,Nu.dependencies={lanes:0,firstContext:e}}else qo=qo.next=e;return t}var Bs=null;function Jp(e){Bs===null?Bs=[e]:Bs.push(e)}function Pb(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Jp(t)):(r.next=s.next,s.next=r),t.interleaved=r,jn(e,n)}function jn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bn=!1;function Zp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,jn(e,r)}return s=n.interleaved,s===null?(t.next=t,Jp(n)):(t.next=s.next,s.next=t),n.interleaved=t,jn(e,r)}function Gc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$p(e,r)}}function rx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ku(e,t,r,n){var s=e.updateQueue;Bn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(h=t,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Be({},f,h);break e;case 2:Bn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ro|=i,e.lanes=i,e.memoizedState=f}}function nx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var Ol={},Xr=_s(Ol),al=_s(Ol),il=_s(Ol);function Ws(e){if(e===Ol)throw Error(F(174));return e}function eg(e,t){switch(Re(il,t),Re(al,e),Re(Xr,Ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$h(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$h(t,e)}Le(Xr),Re(Xr,t)}function Na(){Le(Xr),Le(al),Le(il)}function Tb(e){Ws(il.current);var t=Ws(Xr.current),r=$h(t,e.type);t!==r&&(Re(al,e),Re(Xr,r))}function tg(e){al.current===e&&(Le(Xr),Le(al))}var ze=_s(0);function Cu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ff=[];function rg(){for(var e=0;e<Ff.length;e++)Ff[e]._workInProgressVersionPrimary=null;Ff.length=0}var Qc=Cn.ReactCurrentDispatcher,zf=Cn.ReactCurrentBatchConfig,to=0,Ue=null,Xe=null,tt=null,Eu=!1,Fi=!1,ll=0,bR=0;function dt(){throw Error(F(321))}function ng(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cr(e[r],t[r]))return!1;return!0}function sg(e,t,r,n,s,o){if(to=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qc.current=e===null||e.memoizedState===null?NR:kR,e=r(n,s),Fi){o=0;do{if(Fi=!1,ll=0,25<=o)throw Error(F(301));o+=1,tt=Xe=null,t.updateQueue=null,Qc.current=CR,e=r(n,s)}while(Fi)}if(Qc.current=Pu,t=Xe!==null&&Xe.next!==null,to=0,tt=Xe=Ue=null,Eu=!1,t)throw Error(F(300));return e}function og(){var e=ll!==0;return ll=0,e}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ue.memoizedState=tt=e:tt=tt.next=e,tt}function mr(){if(Xe===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=tt===null?Ue.memoizedState:tt.next;if(t!==null)tt=t,Xe=e;else{if(e===null)throw Error(F(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},tt===null?Ue.memoizedState=tt=e:tt=tt.next=e}return tt}function cl(e,t){return typeof t=="function"?t(e):t}function Uf(e){var t=mr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Xe,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((to&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Ue.lanes|=d,ro|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Cr(n,t.memoizedState)||(Mt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ue.lanes|=o,ro|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bf(e){var t=mr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Cr(o,t.memoizedState)||(Mt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Ab(){}function Ob(e,t){var r=Ue,n=mr(),s=t(),o=!Cr(n.memoizedState,s);if(o&&(n.memoizedState=s,Mt=!0),n=n.queue,ag(Ib.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,ul(9,Db.bind(null,r,n,s,t),void 0,null),st===null)throw Error(F(349));to&30||Mb(r,t,s)}return s}function Mb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Db(e,t,r,n){t.value=r,t.getSnapshot=n,Lb(t)&&$b(e)}function Ib(e,t,r){return r(function(){Lb(t)&&$b(e)})}function Lb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cr(e,r)}catch{return!0}}function $b(e){var t=jn(e,1);t!==null&&kr(t,e,1,-1)}function sx(e){var t=zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},t.queue=e,e=e.dispatch=_R.bind(null,Ue,e),[t.memoizedState,e]}function ul(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Fb(){return mr().memoizedState}function Xc(e,t,r,n){var s=zr();Ue.flags|=e,s.memoizedState=ul(1|t,r,void 0,n===void 0?null:n)}function ud(e,t,r,n){var s=mr();n=n===void 0?null:n;var o=void 0;if(Xe!==null){var i=Xe.memoizedState;if(o=i.destroy,n!==null&&ng(n,i.deps)){s.memoizedState=ul(t,r,o,n);return}}Ue.flags|=e,s.memoizedState=ul(1|t,r,o,n)}function ox(e,t){return Xc(8390656,8,e,t)}function ag(e,t){return ud(2048,8,e,t)}function zb(e,t){return ud(4,2,e,t)}function Ub(e,t){return ud(4,4,e,t)}function Bb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wb(e,t,r){return r=r!=null?r.concat([e]):null,ud(4,4,Bb.bind(null,t,e),r)}function ig(){}function qb(e,t){var r=mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ng(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vb(e,t){var r=mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ng(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hb(e,t,r){return to&21?(Cr(r,t)||(r=Xw(),Ue.lanes|=r,ro|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mt=!0),e.memoizedState=r)}function jR(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var n=zf.transition;zf.transition={};try{e(!1),t()}finally{ke=r,zf.transition=n}}function Kb(){return mr().memoizedState}function SR(e,t,r){var n=ds(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yb(e))Gb(t,r);else if(r=Pb(e,t,r,n),r!==null){var s=jt();kr(r,e,n,s),Qb(r,t,n)}}function _R(e,t,r){var n=ds(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yb(e))Gb(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Cr(l,i)){var c=t.interleaved;c===null?(s.next=s,Jp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Pb(e,t,s,n),r!==null&&(s=jt(),kr(r,e,n,s),Qb(r,t,n))}}function Yb(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Gb(e,t){Fi=Eu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$p(e,r)}}var Pu={readContext:hr,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},NR={readContext:hr,useCallback:function(e,t){return zr().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:ox,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xc(4194308,4,Bb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xc(4,2,e,t)},useMemo:function(e,t){var r=zr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=SR.bind(null,Ue,e),[n.memoizedState,e]},useRef:function(e){var t=zr();return e={current:e},t.memoizedState=e},useState:sx,useDebugValue:ig,useDeferredValue:function(e){return zr().memoizedState=e},useTransition:function(){var e=sx(!1),t=e[0];return e=jR.bind(null,e[1]),zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ue,s=zr();if($e){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),st===null)throw Error(F(349));to&30||Mb(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,ox(Ib.bind(null,n,o,e),[e]),n.flags|=2048,ul(9,Db.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=zr(),t=st.identifierPrefix;if($e){var r=vn,n=gn;r=(n&~(1<<32-Nr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ll++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kR={readContext:hr,useCallback:qb,useContext:hr,useEffect:ag,useImperativeHandle:Wb,useInsertionEffect:zb,useLayoutEffect:Ub,useMemo:Vb,useReducer:Uf,useRef:Fb,useState:function(){return Uf(cl)},useDebugValue:ig,useDeferredValue:function(e){var t=mr();return Hb(t,Xe.memoizedState,e)},useTransition:function(){var e=Uf(cl)[0],t=mr().memoizedState;return[e,t]},useMutableSource:Ab,useSyncExternalStore:Ob,useId:Kb,unstable_isNewReconciler:!1},CR={readContext:hr,useCallback:qb,useContext:hr,useEffect:ag,useImperativeHandle:Wb,useInsertionEffect:zb,useLayoutEffect:Ub,useMemo:Vb,useReducer:Bf,useRef:Fb,useState:function(){return Bf(cl)},useDebugValue:ig,useDeferredValue:function(e){var t=mr();return Xe===null?t.memoizedState=e:Hb(t,Xe.memoizedState,e)},useTransition:function(){var e=Bf(cl)[0],t=mr().memoizedState;return[e,t]},useMutableSource:Ab,useSyncExternalStore:Ob,useId:Kb,unstable_isNewReconciler:!1};function yr(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function om(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dd={isMounted:function(e){return(e=e._reactInternals)?ho(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jt(),s=ds(e),o=xn(n,s);o.payload=t,r!=null&&(o.callback=r),t=cs(e,o,s),t!==null&&(kr(t,e,s,n),Gc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jt(),s=ds(e),o=xn(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=cs(e,o,s),t!==null&&(kr(t,e,s,n),Gc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jt(),n=ds(e),s=xn(r,n);s.tag=2,t!=null&&(s.callback=t),t=cs(e,s,n),t!==null&&(kr(t,e,n,r),Gc(t,e,n))}};function ax(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!rl(r,n)||!rl(s,o):!0}function Xb(e,t,r){var n=!1,s=gs,o=t.contextType;return typeof o=="object"&&o!==null?o=hr(o):(s=Lt(t)?Zs:pt.current,n=t.contextTypes,o=(n=n!=null)?ja(e,s):gs),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function ix(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dd.enqueueReplaceState(t,t.state,null)}function am(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Zp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=hr(o):(o=Lt(t)?Zs:pt.current,s.context=ja(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(om(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&dd.enqueueReplaceState(s,s.state,null),ku(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ka(e,t){try{var r="",n=t;do r+=tP(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Wf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function im(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ER=typeof WeakMap=="function"?WeakMap:Map;function Jb(e,t,r){r=xn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Tu||(Tu=!0,vm=n),im(e,t)},r}function Zb(e,t,r){r=xn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){im(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){im(e,t),typeof n!="function"&&(us===null?us=new Set([this]):us.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function lx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ER;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=BR.bind(null,e,t,r),t.then(e,e))}function cx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ux(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xn(-1,1),t.tag=2,cs(r,t,1))),r.lanes|=1),e)}var PR=Cn.ReactCurrentOwner,Mt=!1;function wt(e,t,r,n){t.child=e===null?Eb(t,null,r,n):_a(t,e.child,r,n)}function dx(e,t,r,n,s){r=r.render;var o=t.ref;return Zo(t,s),n=sg(e,t,r,n,o,s),r=og(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):($e&&r&&Hp(t),t.flags|=1,wt(e,t,n,s),t.child)}function fx(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!pg(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,e1(e,t,o,n,s)):(e=tu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:rl,r(i,n)&&e.ref===t.ref)return Sn(e,t,s)}return t.flags|=1,e=fs(o,n),e.ref=t.ref,e.return=t,t.child=e}function e1(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(rl(o,n)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Mt=!0);else return t.lanes=e.lanes,Sn(e,t,s)}return lm(e,t,r,n,s)}function t1(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ho,Ht),Ht|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Ho,Ht),Ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Re(Ho,Ht),Ht|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Re(Ho,Ht),Ht|=n;return wt(e,t,s,r),t.child}function r1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lm(e,t,r,n,s){var o=Lt(r)?Zs:pt.current;return o=ja(t,o),Zo(t,s),r=sg(e,t,r,n,o,s),n=og(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):($e&&n&&Hp(t),t.flags|=1,wt(e,t,r,s),t.child)}function hx(e,t,r,n,s){if(Lt(r)){var o=!0;bu(t)}else o=!1;if(Zo(t,s),t.stateNode===null)Jc(e,t),Xb(t,r,n),am(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Lt(r)?Zs:pt.current,u=ja(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ix(t,i,n,u),Bn=!1;var h=t.memoizedState;i.state=h,ku(t,n,i,s),c=t.memoizedState,l!==n||h!==c||It.current||Bn?(typeof d=="function"&&(om(t,r,d,n),c=t.memoizedState),(l=Bn||ax(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Rb(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yr(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=hr(c):(c=Lt(r)?Zs:pt.current,c=ja(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ix(t,i,n,c),Bn=!1,h=t.memoizedState,i.state=h,ku(t,n,i,s);var v=t.memoizedState;l!==f||h!==v||It.current||Bn?(typeof p=="function"&&(om(t,r,p,n),v=t.memoizedState),(u=Bn||ax(t,r,u,n,h,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return cm(e,t,r,n,o,s)}function cm(e,t,r,n,s,o){r1(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&J0(t,r,!1),Sn(e,t,o);n=t.stateNode,PR.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=_a(t,e.child,null,o),t.child=_a(t,null,l,o)):wt(e,t,l,o),t.memoizedState=n.state,s&&J0(t,r,!0),t.child}function n1(e){var t=e.stateNode;t.pendingContext?X0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&X0(e,t.context,!1),eg(e,t.containerInfo)}function mx(e,t,r,n,s){return Sa(),Yp(s),t.flags|=256,wt(e,t,r,n),t.child}var um={dehydrated:null,treeContext:null,retryLane:0};function dm(e){return{baseLanes:e,cachePool:null,transitions:null}}function s1(e,t,r){var n=t.pendingProps,s=ze.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Re(ze,s&1),e===null)return nm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=md(i,n,0,null),e=Js(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=dm(r),t.memoizedState=um,e):lg(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return RR(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=fs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=fs(l,o):(o=Js(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?dm(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=um,n}return o=e.child,e=o.sibling,n=fs(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function lg(e,t){return t=md({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jc(e,t,r,n){return n!==null&&Yp(n),_a(t,e.child,null,r),e=lg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RR(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Wf(Error(F(422))),jc(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=md({mode:"visible",children:n.children},s,0,null),o=Js(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&_a(t,e.child,null,i),t.child.memoizedState=dm(i),t.memoizedState=um,o);if(!(t.mode&1))return jc(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(F(419)),n=Wf(o,n,void 0),jc(e,t,i,n)}if(l=(i&e.childLanes)!==0,Mt||l){if(n=st,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,jn(e,s),kr(n,e,s,-1))}return mg(),n=Wf(Error(F(421))),jc(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=WR.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Qt=ls(s.nextSibling),Xt=t,$e=!0,Sr=null,e!==null&&(ar[ir++]=gn,ar[ir++]=vn,ar[ir++]=eo,gn=e.id,vn=e.overflow,eo=t),t=lg(t,n.children),t.flags|=4096,t)}function px(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sm(e.return,t,r)}function qf(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function o1(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(wt(e,t,n.children,r),n=ze.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&px(e,r,t);else if(e.tag===19)px(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(ze,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Cu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),qf(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}qf(t,!0,r,null,o);break;case"together":qf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ro|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=fs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function TR(e,t,r){switch(t.tag){case 3:n1(t),Sa();break;case 5:Tb(t);break;case 1:Lt(t.type)&&bu(t);break;case 4:eg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Re(_u,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(ze,ze.current&1),t.flags|=128,null):r&t.child.childLanes?s1(e,t,r):(Re(ze,ze.current&1),e=Sn(e,t,r),e!==null?e.sibling:null);Re(ze,ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return o1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(ze,ze.current),n)break;return null;case 22:case 23:return t.lanes=0,t1(e,t,r)}return Sn(e,t,r)}var a1,fm,i1,l1;a1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fm=function(){};i1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ws(Xr.current);var o=null;switch(r){case"input":s=Mh(e,s),n=Mh(e,n),o=[];break;case"select":s=Be({},s,{value:void 0}),n=Be({},n,{value:void 0}),o=[];break;case"textarea":s=Lh(e,s),n=Lh(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yu)}Fh(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};l1=function(e,t,r,n){r!==n&&(t.flags|=4)};function xi(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function AR(e,t,r){var n=t.pendingProps;switch(Kp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return Lt(t.type)&&wu(),ft(t),null;case 3:return n=t.stateNode,Na(),Le(It),Le(pt),rg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sr!==null&&(wm(Sr),Sr=null))),fm(e,t),ft(t),null;case 5:tg(t);var s=Ws(il.current);if(r=t.type,e!==null&&t.stateNode!=null)i1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return ft(t),null}if(e=Ws(Xr.current),wc(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Hr]=t,n[ol]=o,e=(t.mode&1)!==0,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<Pi.length;s++)Me(Pi[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":_0(n,o),Me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Me("invalid",n);break;case"textarea":k0(n,o),Me("invalid",n)}Fh(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&yc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&yc(n.textContent,l,e),s=["children",""+l]):Gi.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Me("scroll",n)}switch(r){case"input":dc(n),N0(n,o,!0);break;case"textarea":dc(n),C0(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=yu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Iw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Hr]=t,e[ol]=n,a1(e,t,!1,!1),t.stateNode=e;e:{switch(i=zh(r,n),r){case"dialog":Me("cancel",e),Me("close",e),s=n;break;case"iframe":case"object":case"embed":Me("load",e),s=n;break;case"video":case"audio":for(s=0;s<Pi.length;s++)Me(Pi[s],e);s=n;break;case"source":Me("error",e),s=n;break;case"img":case"image":case"link":Me("error",e),Me("load",e),s=n;break;case"details":Me("toggle",e),s=n;break;case"input":_0(e,n),s=Mh(e,n),Me("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Be({},n,{value:void 0}),Me("invalid",e);break;case"textarea":k0(e,n),s=Lh(e,n),Me("invalid",e);break;default:s=n}Fh(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Fw(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lw(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qi(e,c):typeof c=="number"&&Qi(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gi.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Me("scroll",e):c!=null&&Ap(e,o,c,i))}switch(r){case"input":dc(e),N0(e,n,!1);break;case"textarea":dc(e),C0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ps(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Go(e,!!n.multiple,o,!1):n.defaultValue!=null&&Go(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(e&&t.stateNode!=null)l1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=Ws(il.current),Ws(Xr.current),wc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Hr]=t,(o=n.nodeValue!==r)&&(e=Xt,e!==null))switch(e.tag){case 3:yc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yc(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Hr]=t,t.stateNode=n}return ft(t),null;case 13:if(Le(ze),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Qt!==null&&t.mode&1&&!(t.flags&128))kb(),Sa(),t.flags|=98560,o=!1;else if(o=wc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[Hr]=t}else Sa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),o=!1}else Sr!==null&&(wm(Sr),Sr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?Ze===0&&(Ze=3):mg())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return Na(),fm(e,t),e===null&&nl(t.stateNode.containerInfo),ft(t),null;case 10:return Xp(t.type._context),ft(t),null;case 17:return Lt(t.type)&&wu(),ft(t),null;case 19:if(Le(ze),o=t.memoizedState,o===null)return ft(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)xi(o,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Cu(e),i!==null){for(t.flags|=128,xi(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(ze,ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&He()>Ca&&(t.flags|=128,n=!0,xi(o,!1),t.lanes=4194304)}else{if(!n)if(e=Cu(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!$e)return ft(t),null}else 2*He()-o.renderingStartTime>Ca&&r!==1073741824&&(t.flags|=128,n=!0,xi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=He(),t.sibling=null,r=ze.current,Re(ze,n?r&1|2:r&1),t):(ft(t),null);case 22:case 23:return hg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ht&1073741824&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function OR(e,t){switch(Kp(t),t.tag){case 1:return Lt(t.type)&&wu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Na(),Le(It),Le(pt),rg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tg(t),null;case 13:if(Le(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(ze),null;case 4:return Na(),null;case 10:return Xp(t.type._context),null;case 22:case 23:return hg(),null;case 24:return null;default:return null}}var Sc=!1,mt=!1,MR=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Vo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function hm(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var gx=!1;function DR(e,t){if(Qh=gu,e=hb(),Vp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===o&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xh={focusedElem:e,selectionRange:r},gu=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:yr(t.type,g),x);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){Ve(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return v=gx,gx=!1,v}function zi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&hm(t,r,o)}s=s.next}while(s!==n)}}function fd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function c1(e){var t=e.alternate;t!==null&&(e.alternate=null,c1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hr],delete t[ol],delete t[em],delete t[vR],delete t[xR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u1(e){return e.tag===5||e.tag===3||e.tag===4}function vx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yu));else if(n!==4&&(e=e.child,e!==null))for(pm(e,t,r),e=e.sibling;e!==null;)pm(e,t,r),e=e.sibling}function gm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gm(e,t,r),e=e.sibling;e!==null;)gm(e,t,r),e=e.sibling}var it=null,br=!1;function Mn(e,t,r){for(r=r.child;r!==null;)d1(e,t,r),r=r.sibling}function d1(e,t,r){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(sd,r)}catch{}switch(r.tag){case 5:mt||Vo(r,t);case 6:var n=it,s=br;it=null,Mn(e,t,r),it=n,br=s,it!==null&&(br?(e=it,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):it.removeChild(r.stateNode));break;case 18:it!==null&&(br?(e=it,r=r.stateNode,e.nodeType===8?Lf(e.parentNode,r):e.nodeType===1&&Lf(e,r),el(e)):Lf(it,r.stateNode));break;case 4:n=it,s=br,it=r.stateNode.containerInfo,br=!0,Mn(e,t,r),it=n,br=s;break;case 0:case 11:case 14:case 15:if(!mt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&hm(r,t,i),s=s.next}while(s!==n)}Mn(e,t,r);break;case 1:if(!mt&&(Vo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ve(r,t,l)}Mn(e,t,r);break;case 21:Mn(e,t,r);break;case 22:r.mode&1?(mt=(n=mt)||r.memoizedState!==null,Mn(e,t,r),mt=n):Mn(e,t,r);break;default:Mn(e,t,r)}}function xx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MR),t.forEach(function(n){var s=qR.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function gr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:it=l.stateNode,br=!1;break e;case 3:it=l.stateNode.containerInfo,br=!0;break e;case 4:it=l.stateNode.containerInfo,br=!0;break e}l=l.return}if(it===null)throw Error(F(160));d1(o,i,s),it=null,br=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f1(t,e),t=t.sibling}function f1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gr(t,e),Fr(e),n&4){try{zi(3,e,e.return),fd(3,e)}catch(g){Ve(e,e.return,g)}try{zi(5,e,e.return)}catch(g){Ve(e,e.return,g)}}break;case 1:gr(t,e),Fr(e),n&512&&r!==null&&Vo(r,r.return);break;case 5:if(gr(t,e),Fr(e),n&512&&r!==null&&Vo(r,r.return),e.flags&32){var s=e.stateNode;try{Qi(s,"")}catch(g){Ve(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Mw(s,o),zh(l,i);var u=zh(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Fw(s,f):d==="dangerouslySetInnerHTML"?Lw(s,f):d==="children"?Qi(s,f):Ap(s,d,f,u)}switch(l){case"input":Dh(s,o);break;case"textarea":Dw(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Go(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Go(s,!!o.multiple,o.defaultValue,!0):Go(s,!!o.multiple,o.multiple?[]:"",!1))}s[ol]=o}catch(g){Ve(e,e.return,g)}}break;case 6:if(gr(t,e),Fr(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Ve(e,e.return,g)}}break;case 3:if(gr(t,e),Fr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{el(t.containerInfo)}catch(g){Ve(e,e.return,g)}break;case 4:gr(t,e),Fr(e);break;case 13:gr(t,e),Fr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(dg=He())),n&4&&xx(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(mt=(u=mt)||d,gr(t,e),mt=u):gr(t,e),Fr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(f=Y=d;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:zi(4,h,h.return);break;case 1:Vo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ve(n,r,g)}}break;case 5:Vo(h,h.return);break;case 22:if(h.memoizedState!==null){wx(f);continue}}p!==null?(p.return=h,Y=p):wx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$w("display",i))}catch(g){Ve(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ve(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gr(t,e),Fr(e),n&4&&xx(e);break;case 21:break;default:gr(t,e),Fr(e)}}function Fr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(u1(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qi(s,""),n.flags&=-33);var o=vx(e);gm(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=vx(e);pm(e,l,i);break;default:throw Error(F(161))}}catch(c){Ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IR(e,t,r){Y=e,h1(e)}function h1(e,t,r){for(var n=(e.mode&1)!==0;Y!==null;){var s=Y,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Sc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||mt;l=Sc;var u=mt;if(Sc=i,(mt=c)&&!u)for(Y=s;Y!==null;)i=Y,c=i.child,i.tag===22&&i.memoizedState!==null?bx(s):c!==null?(c.return=i,Y=c):bx(s);for(;o!==null;)Y=o,h1(o),o=o.sibling;Y=s,Sc=l,mt=u}yx(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Y=o):yx(e)}}function yx(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mt||fd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!mt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:yr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&nx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nx(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&el(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}mt||t.flags&512&&mm(t)}catch(h){Ve(t,t.return,h)}}if(t===e){Y=null;break}if(r=t.sibling,r!==null){r.return=t.return,Y=r;break}Y=t.return}}function wx(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Y=r;break}Y=t.return}}function bx(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fd(4,t)}catch(c){Ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ve(t,s,c)}}var o=t.return;try{mm(t)}catch(c){Ve(t,o,c)}break;case 5:var i=t.return;try{mm(t)}catch(c){Ve(t,i,c)}}}catch(c){Ve(t,t.return,c)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var LR=Math.ceil,Ru=Cn.ReactCurrentDispatcher,cg=Cn.ReactCurrentOwner,ur=Cn.ReactCurrentBatchConfig,ye=0,st=null,Ye=null,lt=0,Ht=0,Ho=_s(0),Ze=0,dl=null,ro=0,hd=0,ug=0,Ui=null,At=null,dg=0,Ca=1/0,fn=null,Tu=!1,vm=null,us=null,_c=!1,ns=null,Au=0,Bi=0,xm=null,Zc=-1,eu=0;function jt(){return ye&6?He():Zc!==-1?Zc:Zc=He()}function ds(e){return e.mode&1?ye&2&&lt!==0?lt&-lt:wR.transition!==null?(eu===0&&(eu=Xw()),eu):(e=ke,e!==0||(e=window.event,e=e===void 0?16:sb(e.type)),e):1}function kr(e,t,r,n){if(50<Bi)throw Bi=0,xm=null,Error(F(185));Rl(e,r,n),(!(ye&2)||e!==st)&&(e===st&&(!(ye&2)&&(hd|=r),Ze===4&&Vn(e,lt)),$t(e,n),r===1&&ye===0&&!(t.mode&1)&&(Ca=He()+500,cd&&Ns()))}function $t(e,t){var r=e.callbackNode;wP(e,t);var n=pu(e,e===st?lt:0);if(n===0)r!==null&&R0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&R0(r),t===1)e.tag===0?yR(jx.bind(null,e)):Sb(jx.bind(null,e)),pR(function(){!(ye&6)&&Ns()}),r=null;else{switch(Jw(n)){case 1:r=Lp;break;case 4:r=Gw;break;case 16:r=mu;break;case 536870912:r=Qw;break;default:r=mu}r=b1(r,m1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function m1(e,t){if(Zc=-1,eu=0,ye&6)throw Error(F(327));var r=e.callbackNode;if(ea()&&e.callbackNode!==r)return null;var n=pu(e,e===st?lt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ou(e,n);else{t=n;var s=ye;ye|=2;var o=g1();(st!==e||lt!==t)&&(fn=null,Ca=He()+500,Xs(e,t));do try{zR();break}catch(l){p1(e,l)}while(!0);Qp(),Ru.current=o,ye=s,Ye!==null?t=0:(st=null,lt=0,t=Ze)}if(t!==0){if(t===2&&(s=Vh(e),s!==0&&(n=s,t=ym(e,s))),t===1)throw r=dl,Xs(e,0),Vn(e,n),$t(e,He()),r;if(t===6)Vn(e,n);else{if(s=e.current.alternate,!(n&30)&&!$R(s)&&(t=Ou(e,n),t===2&&(o=Vh(e),o!==0&&(n=o,t=ym(e,o))),t===1))throw r=dl,Xs(e,0),Vn(e,n),$t(e,He()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Ls(e,At,fn);break;case 3:if(Vn(e,n),(n&130023424)===n&&(t=dg+500-He(),10<t)){if(pu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){jt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zh(Ls.bind(null,e,At,fn),t);break}Ls(e,At,fn);break;case 4:if(Vn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Nr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=He()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LR(n/1960))-n,10<n){e.timeoutHandle=Zh(Ls.bind(null,e,At,fn),n);break}Ls(e,At,fn);break;case 5:Ls(e,At,fn);break;default:throw Error(F(329))}}}return $t(e,He()),e.callbackNode===r?m1.bind(null,e):null}function ym(e,t){var r=Ui;return e.current.memoizedState.isDehydrated&&(Xs(e,t).flags|=256),e=Ou(e,t),e!==2&&(t=At,At=r,t!==null&&wm(t)),e}function wm(e){At===null?At=e:At.push.apply(At,e)}function $R(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Cr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t){for(t&=~ug,t&=~hd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nr(t),n=1<<r;e[r]=-1,t&=~n}}function jx(e){if(ye&6)throw Error(F(327));ea();var t=pu(e,0);if(!(t&1))return $t(e,He()),null;var r=Ou(e,t);if(e.tag!==0&&r===2){var n=Vh(e);n!==0&&(t=n,r=ym(e,n))}if(r===1)throw r=dl,Xs(e,0),Vn(e,t),$t(e,He()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ls(e,At,fn),$t(e,He()),null}function fg(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(Ca=He()+500,cd&&Ns())}}function no(e){ns!==null&&ns.tag===0&&!(ye&6)&&ea();var t=ye;ye|=1;var r=ur.transition,n=ke;try{if(ur.transition=null,ke=1,e)return e()}finally{ke=n,ur.transition=r,ye=t,!(ye&6)&&Ns()}}function hg(){Ht=Ho.current,Le(Ho)}function Xs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mR(r)),Ye!==null)for(r=Ye.return;r!==null;){var n=r;switch(Kp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wu();break;case 3:Na(),Le(It),Le(pt),rg();break;case 5:tg(n);break;case 4:Na();break;case 13:Le(ze);break;case 19:Le(ze);break;case 10:Xp(n.type._context);break;case 22:case 23:hg()}r=r.return}if(st=e,Ye=e=fs(e.current,null),lt=Ht=t,Ze=0,dl=null,ug=hd=ro=0,At=Ui=null,Bs!==null){for(t=0;t<Bs.length;t++)if(r=Bs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Bs=null}return e}function p1(e,t){do{var r=Ye;try{if(Qp(),Qc.current=Pu,Eu){for(var n=Ue.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Eu=!1}if(to=0,tt=Xe=Ue=null,Fi=!1,ll=0,cg.current=null,r===null||r.return===null){Ze=1,dl=t,Ye=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=cx(i);if(p!==null){p.flags&=-257,ux(p,i,l,o,t),p.mode&1&&lx(o,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){lx(o,u,t),mg();break e}c=Error(F(426))}}else if($e&&l.mode&1){var x=cx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ux(x,i,l,o,t),Yp(ka(c,l));break e}}o=c=ka(c,l),Ze!==4&&(Ze=2),Ui===null?Ui=[o]:Ui.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Jb(o,c,t);rx(o,w);break e;case 1:l=c;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(us===null||!us.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Zb(o,l,t);rx(o,j);break e}}o=o.return}while(o!==null)}x1(r)}catch(S){t=S,Ye===r&&r!==null&&(Ye=r=r.return);continue}break}while(!0)}function g1(){var e=Ru.current;return Ru.current=Pu,e===null?Pu:e}function mg(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),st===null||!(ro&268435455)&&!(hd&268435455)||Vn(st,lt)}function Ou(e,t){var r=ye;ye|=2;var n=g1();(st!==e||lt!==t)&&(fn=null,Xs(e,t));do try{FR();break}catch(s){p1(e,s)}while(!0);if(Qp(),ye=r,Ru.current=n,Ye!==null)throw Error(F(261));return st=null,lt=0,Ze}function FR(){for(;Ye!==null;)v1(Ye)}function zR(){for(;Ye!==null&&!dP();)v1(Ye)}function v1(e){var t=w1(e.alternate,e,Ht);e.memoizedProps=e.pendingProps,t===null?x1(e):Ye=t,cg.current=null}function x1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OR(r,t),r!==null){r.flags&=32767,Ye=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,Ye=null;return}}else if(r=AR(r,t,Ht),r!==null){Ye=r;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Ze===0&&(Ze=5)}function Ls(e,t,r){var n=ke,s=ur.transition;try{ur.transition=null,ke=1,UR(e,t,r,n)}finally{ur.transition=s,ke=n}return null}function UR(e,t,r,n){do ea();while(ns!==null);if(ye&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(bP(e,o),e===st&&(Ye=st=null,lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_c||(_c=!0,b1(mu,function(){return ea(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ur.transition,ur.transition=null;var i=ke;ke=1;var l=ye;ye|=4,cg.current=null,DR(e,r),f1(r,e),iR(Xh),gu=!!Qh,Xh=Qh=null,e.current=r,IR(r),fP(),ye=l,ke=i,ur.transition=o}else e.current=r;if(_c&&(_c=!1,ns=e,Au=s),o=e.pendingLanes,o===0&&(us=null),pP(r.stateNode),$t(e,He()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Tu)throw Tu=!1,e=vm,vm=null,e;return Au&1&&e.tag!==0&&ea(),o=e.pendingLanes,o&1?e===xm?Bi++:(Bi=0,xm=e):Bi=0,Ns(),null}function ea(){if(ns!==null){var e=Jw(Au),t=ur.transition,r=ke;try{if(ur.transition=null,ke=16>e?16:e,ns===null)var n=!1;else{if(e=ns,ns=null,Au=0,ye&6)throw Error(F(331));var s=ye;for(ye|=4,Y=e.current;Y!==null;){var o=Y,i=o.child;if(Y.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:zi(8,d,o)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var h=d.sibling,p=d.return;if(c1(d),d===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Y=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Y=i;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zi(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Y=w;break e}Y=o.return}}var y=e.current;for(Y=y;Y!==null;){i=Y;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,Y=b;else e:for(i=y;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fd(9,l)}}catch(S){Ve(l,l.return,S)}if(l===i){Y=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Y=j;break e}Y=l.return}}if(ye=s,Ns(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(sd,e)}catch{}n=!0}return n}finally{ke=r,ur.transition=t}}return!1}function Sx(e,t,r){t=ka(r,t),t=Jb(e,t,1),e=cs(e,t,1),t=jt(),e!==null&&(Rl(e,1,t),$t(e,t))}function Ve(e,t,r){if(e.tag===3)Sx(e,e,r);else for(;t!==null;){if(t.tag===3){Sx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(us===null||!us.has(n))){e=ka(r,e),e=Zb(t,e,1),t=cs(t,e,1),e=jt(),t!==null&&(Rl(t,1,e),$t(t,e));break}}t=t.return}}function BR(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&r,st===e&&(lt&r)===r&&(Ze===4||Ze===3&&(lt&130023424)===lt&&500>He()-dg?Xs(e,0):ug|=r),$t(e,t)}function y1(e,t){t===0&&(e.mode&1?(t=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):t=1);var r=jt();e=jn(e,t),e!==null&&(Rl(e,t,r),$t(e,r))}function WR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),y1(e,r)}function qR(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),y1(e,r)}var w1;w1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)Mt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Mt=!1,TR(e,t,r);Mt=!!(e.flags&131072)}else Mt=!1,$e&&t.flags&1048576&&_b(t,Su,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jc(e,t),e=t.pendingProps;var s=ja(t,pt.current);Zo(t,r),s=sg(null,t,n,e,s,r);var o=og();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(n)?(o=!0,bu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zp(t),s.updater=dd,t.stateNode=s,s._reactInternals=t,am(t,n,e,r),t=cm(null,t,n,!0,o,r)):(t.tag=0,$e&&o&&Hp(t),wt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=HR(n),e=yr(n,e),s){case 0:t=lm(null,t,n,e,r);break e;case 1:t=hx(null,t,n,e,r);break e;case 11:t=dx(null,t,n,e,r);break e;case 14:t=fx(null,t,n,yr(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),lm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),hx(e,t,n,s,r);case 3:e:{if(n1(t),e===null)throw Error(F(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Rb(e,t),ku(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ka(Error(F(423)),t),t=mx(e,t,n,r,s);break e}else if(n!==s){s=ka(Error(F(424)),t),t=mx(e,t,n,r,s);break e}else for(Qt=ls(t.stateNode.containerInfo.firstChild),Xt=t,$e=!0,Sr=null,r=Eb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sa(),n===s){t=Sn(e,t,r);break e}wt(e,t,n,r)}t=t.child}return t;case 5:return Tb(t),e===null&&nm(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Jh(n,s)?i=null:o!==null&&Jh(n,o)&&(t.flags|=32),r1(e,t),wt(e,t,i,r),t.child;case 6:return e===null&&nm(t),null;case 13:return s1(e,t,r);case 4:return eg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_a(t,null,n,r):wt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),dx(e,t,n,s,r);case 7:return wt(e,t,t.pendingProps,r),t.child;case 8:return wt(e,t,t.pendingProps.children,r),t.child;case 12:return wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Re(_u,n._currentValue),n._currentValue=i,o!==null)if(Cr(o.value,i)){if(o.children===s.children&&!It.current){t=Sn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=xn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),sm(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(F(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),sm(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}wt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Zo(t,r),s=hr(s),n=n(s),t.flags|=1,wt(e,t,n,r),t.child;case 14:return n=t.type,s=yr(n,t.pendingProps),s=yr(n.type,s),fx(e,t,n,s,r);case 15:return e1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),Jc(e,t),t.tag=1,Lt(n)?(e=!0,bu(t)):e=!1,Zo(t,r),Xb(t,n,s),am(t,n,s,r),cm(null,t,n,!0,e,r);case 19:return o1(e,t,r);case 22:return t1(e,t,r)}throw Error(F(156,t.tag))};function b1(e,t){return Yw(e,t)}function VR(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,t,r,n){return new VR(e,t,r,n)}function pg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HR(e){if(typeof e=="function")return pg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mp)return 11;if(e===Dp)return 14}return 2}function fs(e,t){var r=e.alternate;return r===null?(r=lr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tu(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")pg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Io:return Js(r.children,s,o,t);case Op:i=8,s|=8;break;case Rh:return e=lr(12,r,t,s|2),e.elementType=Rh,e.lanes=o,e;case Th:return e=lr(13,r,t,s),e.elementType=Th,e.lanes=o,e;case Ah:return e=lr(19,r,t,s),e.elementType=Ah,e.lanes=o,e;case Tw:return md(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pw:i=10;break e;case Rw:i=9;break e;case Mp:i=11;break e;case Dp:i=14;break e;case Un:i=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=lr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Js(e,t,r,n){return e=lr(7,e,n,t),e.lanes=r,e}function md(e,t,r,n){return e=lr(22,e,n,t),e.elementType=Tw,e.lanes=r,e.stateNode={isHidden:!1},e}function Vf(e,t,r){return e=lr(6,e,null,t),e.lanes=r,e}function Hf(e,t,r){return t=lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KR(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gg(e,t,r,n,s,o,i,l,c){return e=new KR(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=lr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zp(o),e}function YR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function j1(e){if(!e)return gs;e=e._reactInternals;e:{if(ho(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Lt(r))return jb(e,r,t)}return t}function S1(e,t,r,n,s,o,i,l,c){return e=gg(r,n,!0,e,s,o,i,l,c),e.context=j1(null),r=e.current,n=jt(),s=ds(r),o=xn(n,s),o.callback=t??null,cs(r,o,s),e.current.lanes=s,Rl(e,s,n),$t(e,n),e}function pd(e,t,r,n){var s=t.current,o=jt(),i=ds(s);return r=j1(r),t.context===null?t.context=r:t.pendingContext=r,t=xn(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=cs(s,t,i),e!==null&&(kr(e,s,i,o),Gc(e,s,i)),i}function Mu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _x(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vg(e,t){_x(e,t),(e=e.alternate)&&_x(e,t)}function GR(){return null}var _1=typeof reportError=="function"?reportError:function(e){console.error(e)};function xg(e){this._internalRoot=e}gd.prototype.render=xg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));pd(e,t,null,null)};gd.prototype.unmount=xg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;no(function(){pd(null,e,null,null)}),t[bn]=null}};function gd(e){this._internalRoot=e}gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=tb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qn.length&&t!==0&&t<qn[r].priority;r++);qn.splice(r,0,e),r===0&&nb(e)}};function yg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nx(){}function QR(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Mu(i);o.call(u)}}var i=S1(t,n,e,0,null,!1,!1,"",Nx);return e._reactRootContainer=i,e[bn]=i.current,nl(e.nodeType===8?e.parentNode:e),no(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Mu(c);l.call(u)}}var c=gg(e,0,!1,null,null,!1,!1,"",Nx);return e._reactRootContainer=c,e[bn]=c.current,nl(e.nodeType===8?e.parentNode:e),no(function(){pd(t,c,r,n)}),c}function xd(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Mu(i);l.call(c)}}pd(t,i,e,s)}else i=QR(r,t,e,s,n);return Mu(i)}Zw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ei(t.pendingLanes);r!==0&&($p(t,r|1),$t(t,He()),!(ye&6)&&(Ca=He()+500,Ns()))}break;case 13:no(function(){var n=jn(e,1);if(n!==null){var s=jt();kr(n,e,1,s)}}),vg(e,1)}};Fp=function(e){if(e.tag===13){var t=jn(e,134217728);if(t!==null){var r=jt();kr(t,e,134217728,r)}vg(e,134217728)}};eb=function(e){if(e.tag===13){var t=ds(e),r=jn(e,t);if(r!==null){var n=jt();kr(r,e,t,n)}vg(e,t)}};tb=function(){return ke};rb=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}};Bh=function(e,t,r){switch(t){case"input":if(Dh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ld(n);if(!s)throw Error(F(90));Ow(n),Dh(n,s)}}}break;case"textarea":Dw(e,r);break;case"select":t=r.value,t!=null&&Go(e,!!r.multiple,t,!1)}};Bw=fg;Ww=no;var XR={usingClientEntryPoint:!1,Events:[Al,zo,ld,zw,Uw,fg]},yi={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JR={bundleType:yi.bundleType,version:yi.version,rendererPackageName:yi.rendererPackageName,rendererConfig:yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hw(e),e===null?null:e.stateNode},findFiberByHostInstance:yi.findFiberByHostInstance||GR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{sd=Nc.inject(JR),Qr=Nc}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XR;tr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yg(t))throw Error(F(200));return YR(e,t,null,r)};tr.createRoot=function(e,t){if(!yg(e))throw Error(F(299));var r=!1,n="",s=_1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gg(e,1,!1,null,null,r,!1,n,s),e[bn]=t.current,nl(e.nodeType===8?e.parentNode:e),new xg(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Hw(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return no(e)};tr.hydrate=function(e,t,r){if(!vd(t))throw Error(F(200));return xd(null,e,t,!0,r)};tr.hydrateRoot=function(e,t,r){if(!yg(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=_1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=S1(t,null,e,1,r??null,s,!1,o,i),e[bn]=t.current,nl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new gd(t)};tr.render=function(e,t,r){if(!vd(t))throw Error(F(200));return xd(null,e,t,!1,r)};tr.unmountComponentAtNode=function(e){if(!vd(e))throw Error(F(40));return e._reactRootContainer?(no(function(){xd(null,null,e,!1,function(){e._reactRootContainer=null,e[bn]=null})}),!0):!1};tr.unstable_batchedUpdates=fg;tr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vd(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return xd(e,t,r,!1,n)};tr.version="18.3.1-next-f1338f8080-20240426";function N1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N1)}catch(e){console.error(e)}}N1(),Nw.exports=tr;var mo=Nw.exports;const k1=fw(mo);var C1,kx=mo;C1=kx.createRoot,kx.hydrateRoot;const ZR=1,eT=1e6;let Kf=0;function tT(){return Kf=(Kf+1)%Number.MAX_SAFE_INTEGER,Kf.toString()}const Yf=new Map,Cx=e=>{if(Yf.has(e))return;const t=setTimeout(()=>{Yf.delete(e),Wi({type:"REMOVE_TOAST",toastId:e})},eT);Yf.set(e,t)},rT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ZR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Cx(r):e.toasts.forEach(n=>{Cx(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},ru=[];let nu={toasts:[]};function Wi(e){nu=rT(nu,e),ru.forEach(t=>{t(nu)})}function Ur({...e}){const t=tT(),r=s=>Wi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Wi({type:"DISMISS_TOAST",toastId:t});return Wi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function rn(){const[e,t]=A.useState(nu);return A.useEffect(()=>(ru.push(t),()=>{const r=ru.indexOf(t);r>-1&&ru.splice(r,1)}),[e]),{...e,toast:Ur,dismiss:r=>Wi({type:"DISMISS_TOAST",toastId:r})}}function D(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function nT(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function yd(...e){return t=>e.forEach(r=>nT(r,t))}function te(...e){return m.useCallback(yd(...e),e)}function sT(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:p,...v}=f,g=(h==null?void 0:h[e][c])||l,x=m.useMemo(()=>v,Object.values(v));return a.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,v=m.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,oT(s,...t)]}function oT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var St=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),o=s.find(aT);if(o){const i=o.props.children,l=s.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return a.jsx(bm,{...n,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return a.jsx(bm,{...n,ref:t,children:r})});St.displayName="Slot";var bm=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=lT(r);return m.cloneElement(r,{...iT(n,r.props),ref:t?yd(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});bm.displayName="SlotClone";var wg=({children:e})=>a.jsx(a.Fragment,{children:e});function aT(e){return m.isValidElement(e)&&e.type===wg}function iT(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function lT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qa(e){const t=e+"CollectionProvider",[r,n]=sT(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:g}=p,x=A.useRef(null),w=A.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:w,collectionRef:x,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=A.forwardRef((p,v)=>{const{scope:g,children:x}=p,w=o(l,g),y=te(v,w.collectionRef);return a.jsx(St,{ref:y,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=A.forwardRef((p,v)=>{const{scope:g,children:x,...w}=p,y=A.useRef(null),b=te(v,y),j=o(u,g);return A.useEffect(()=>(j.itemMap.set(y,{ref:y,...w}),()=>void j.itemMap.delete(y))),a.jsx(St,{[d]:"",ref:b,children:x})});f.displayName=u;function h(p){const v=o(e+"CollectionConsumer",p);return A.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((j,S)=>w.indexOf(j.ref.current)-w.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}function cT(e,t){const r=m.createContext(t),n=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function ut(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var w;const{scope:h,children:p,...v}=f,g=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,x=m.useMemo(()=>v,Object.values(v));return a.jsx(g.Provider,{value:x,children:p})};u.displayName=o+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=m.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,uT(s,...t)]}function uT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var dT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],V=dT.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:o,...i}=n,l=o?St:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bg(e,t){e&&mo.flushSync(()=>e.dispatchEvent(t))}function Fe(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function fT(e,t=globalThis==null?void 0:globalThis.document){const r=Fe(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var hT="DismissableLayer",jm="dismissableLayer.update",mT="dismissableLayer.pointerDownOutside",pT="dismissableLayer.focusOutside",Ex,E1=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),po=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(E1),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),v=te(t,C=>f(C)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(x),y=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=w,S=vT(C=>{const E=C.target,T=[...u.branches].some(R=>R.contains(E));!j||T||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},h),N=xT(C=>{const E=C.target;[...u.branches].some(R=>R.contains(E))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},h);return fT(C=>{y===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ex=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Px(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ex)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Px())},[d,u]),m.useEffect(()=>{const C=()=>p({});return document.addEventListener(jm,C),()=>document.removeEventListener(jm,C)},[]),a.jsx(V.div,{...c,ref:v,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:D(e.onFocusCapture,N.onFocusCapture),onBlurCapture:D(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:D(e.onPointerDownCapture,S.onPointerDownCapture)})});po.displayName=hT;var gT="DismissableLayerBranch",P1=m.forwardRef((e,t)=>{const r=m.useContext(E1),n=m.useRef(null),s=te(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(V.div,{...e,ref:s})});P1.displayName=gT;function vT(e,t=globalThis==null?void 0:globalThis.document){const r=Fe(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){R1(mT,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function xT(e,t=globalThis==null?void 0:globalThis.document){const r=Fe(e),n=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!n.current&&R1(pT,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Px(){const e=new CustomEvent(jm);document.dispatchEvent(e)}function R1(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?bg(s,o):s.dispatchEvent(o)}var yT=po,wT=P1,Ge=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},bT="Portal",Va=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=m.useState(!1);Ge(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?k1.createPortal(a.jsx(V.div,{...n,ref:t}),i):null});Va.displayName=bT;function jT(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Qe=e=>{const{present:t,children:r}=e,n=ST(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=te(n.ref,_T(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:o}):null};Qe.displayName="Presence";function ST(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=jT(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=kc(n.current);o.current=l==="mounted"?u:"none"},[l]),Ge(()=>{const u=n.current,d=s.current;if(d!==e){const h=o.current,p=kc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ge(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=kc(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(o.current=kc(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function kc(e){return(e==null?void 0:e.animationName)||"none"}function _T(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _t({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=NT({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,l=Fe(r),c=m.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[o,e,s,l]);return[i,c]}function NT({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),o=Fe(t);return m.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var kT="VisuallyHidden",Ml=m.forwardRef((e,t)=>a.jsx(V.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ml.displayName=kT;var CT=Ml,jg="ToastProvider",[Sg,ET,PT]=qa("Toast"),[T1,RW]=ut("Toast",[PT]),[RT,wd]=T1(jg),A1=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${jg}\`. Expected non-empty \`string\`.`),a.jsx(Sg.Provider,{scope:t,children:a.jsx(RT,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};A1.displayName=jg;var O1="ToastViewport",TT=["F8"],Sm="toast.viewportPause",_m="toast.viewportResume",M1=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=TT,label:s="Notifications ({hotkey})",...o}=e,i=wd(O1,r),l=ET(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=te(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;m.useEffect(()=>{const x=w=>{var b;n.length!==0&&n.every(j=>w[j]||w.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),m.useEffect(()=>{const x=c.current,w=f.current;if(v&&x&&w){const y=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(Sm);w.dispatchEvent(N),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(_m);w.dispatchEvent(N),i.isClosePausedRef.current=!1}},j=N=>{!x.contains(N.relatedTarget)&&b()},S=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",j),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[v,i.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:x})=>{const y=l().map(b=>{const j=b.ref.current,S=[j,...qT(j)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const x=f.current;if(x){const w=y=>{var S,N,C;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const E=document.activeElement,T=y.shiftKey;if(y.target===x&&T){(S=u.current)==null||S.focus();return}const $=g({tabbingDirection:T?"backwards":"forwards"}),K=$.findIndex(I=>I===E);Gf($.slice(K+1))?y.preventDefault():T?(N=u.current)==null||N.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[l,g]),a.jsxs(wT,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&a.jsx(Nm,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});Gf(x)}}),a.jsx(Sg.Slot,{scope:r,children:a.jsx(V.ol,{tabIndex:-1,...o,ref:h})}),v&&a.jsx(Nm,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});Gf(x)}})]})});M1.displayName=O1;var D1="ToastFocusProxy",Nm=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=wd(D1,r);return a.jsx(Ml,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});Nm.displayName=D1;var bd="Toast",AT="toast.swipeStart",OT="toast.swipeMove",MT="toast.swipeCancel",DT="toast.swipeEnd",I1=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l=!0,c]=_t({prop:n,defaultProp:s,onChange:o});return a.jsx(Qe,{present:r||l,children:a.jsx($T,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Fe(e.onPause),onResume:Fe(e.onResume),onSwipeStart:D(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:D(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:D(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:D(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});I1.displayName=bd;var[IT,LT]=T1(bd,{onClose(){}}),$T=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=e,g=wd(bd,r),[x,w]=m.useState(null),y=te(t,I=>w(I)),b=m.useRef(null),j=m.useRef(null),S=s||g.duration,N=m.useRef(0),C=m.useRef(S),E=m.useRef(0),{onToastAdd:T,onToastRemove:R}=g,L=Fe(()=>{var G;(x==null?void 0:x.contains(document.activeElement))&&((G=g.viewport)==null||G.focus()),i()}),$=m.useCallback(I=>{!I||I===1/0||(window.clearTimeout(E.current),N.current=new Date().getTime(),E.current=window.setTimeout(L,I))},[L]);m.useEffect(()=>{const I=g.viewport;if(I){const G=()=>{$(C.current),u==null||u()},U=()=>{const M=new Date().getTime()-N.current;C.current=C.current-M,window.clearTimeout(E.current),c==null||c()};return I.addEventListener(Sm,U),I.addEventListener(_m,G),()=>{I.removeEventListener(Sm,U),I.removeEventListener(_m,G)}}},[g.viewport,S,c,u,$]),m.useEffect(()=>{o&&!g.isClosePausedRef.current&&$(S)},[o,S,g.isClosePausedRef,$]),m.useEffect(()=>(T(),()=>R()),[T,R]);const K=m.useMemo(()=>x?W1(x):null,[x]);return g.viewport?a.jsxs(a.Fragment,{children:[K&&a.jsx(FT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),a.jsx(IT,{scope:r,onClose:L,children:mo.createPortal(a.jsx(Sg.ItemSlot,{scope:r,children:a.jsx(yT,{asChild:!0,onEscapeKeyDown:D(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(V.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:D(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:D(e.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:D(e.onPointerMove,I=>{if(!b.current)return;const G=I.clientX-b.current.x,U=I.clientY-b.current.y,M=!!j.current,_=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,B=_?P(0,G):0,z=_?0:P(0,U),W=I.pointerType==="touch"?10:2,Z={x:B,y:z},se={originalEvent:I,delta:Z};M?(j.current=Z,Cc(OT,f,se,{discrete:!1})):Rx(Z,g.swipeDirection,W)?(j.current=Z,Cc(AT,d,se,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(G)>W||Math.abs(U)>W)&&(b.current=null)}),onPointerUp:D(e.onPointerUp,I=>{const G=j.current,U=I.target;if(U.hasPointerCapture(I.pointerId)&&U.releasePointerCapture(I.pointerId),j.current=null,b.current=null,G){const M=I.currentTarget,_={originalEvent:I,delta:G};Rx(G,g.swipeDirection,g.swipeThreshold)?Cc(DT,p,_,{discrete:!0}):Cc(MT,h,_,{discrete:!0}),M.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),FT=e=>{const{__scopeToast:t,children:r,...n}=e,s=wd(bd,t),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return BT(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Va,{asChild:!0,children:a.jsx(Ml,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},zT="ToastTitle",L1=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(V.div,{...n,ref:t})});L1.displayName=zT;var UT="ToastDescription",$1=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(V.div,{...n,ref:t})});$1.displayName=UT;var F1="ToastAction",z1=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(B1,{altText:r,asChild:!0,children:a.jsx(_g,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${F1}\`. Expected non-empty \`string\`.`),null)});z1.displayName=F1;var U1="ToastClose",_g=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=LT(U1,r);return a.jsx(B1,{asChild:!0,children:a.jsx(V.button,{type:"button",...n,ref:t,onClick:D(e.onClick,s.onClose)})})});_g.displayName=U1;var B1=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(V.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function W1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),WT(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...W1(n))}}),t}function Cc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?bg(s,o):s.dispatchEvent(o)}var Rx=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function BT(e=()=>{}){const t=Fe(e);Ge(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function WT(e){return e.nodeType===e.ELEMENT_NODE}function qT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Gf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var VT=A1,q1=M1,V1=I1,H1=L1,K1=$1,Y1=z1,G1=_g;function Q1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Q1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function X1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Q1(e))&&(n&&(n+=" "),n+=t);return n}const Tx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ax=X1,go=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Ax(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const h=Tx(d)||Tx(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[g,x]=v;return Array.isArray(x)?x.includes({...o,...l}[g]):{...o,...l}[g]===x})?[...u,f,h]:u},[]);return Ax(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...KT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:J1("lucide",s),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const r=m.forwardRef(({className:n,...s},o)=>m.createElement(YT,{ref:o,iconNode:t,className:J1(`lucide-${HT(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Q("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Q("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=Q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Q("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=Q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Q("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Q("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Q("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=Q("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Q("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=Q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Q("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=Q("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=Q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=Q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=Q("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Q("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=Q("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Q("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Q("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Rg="-",vA=e=>{const t=yA(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Rg);return l[0]===""&&l.length!==1&&l.shift(),lj(l,t)||xA(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},lj=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?lj(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Rg);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Mx=/^\[(.+)\]$/,xA=e=>{if(Mx.test(e)){const t=Mx.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},yA=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return bA(Object.entries(e.classGroups),r).forEach(([o,i])=>{Cm(i,n,o,t)}),n},Cm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Dx(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(wA(s)){Cm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Cm(i,Dx(t,o),r,n)})})},Dx=(e,t)=>{let r=e;return t.split(Rg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},wA=e=>e.isThemeGetter,bA=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,jA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},cj="!",SA=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let w=l[x];if(u===0){if(w===s&&(n||l.slice(x,x+o)===t)){c.push(l.slice(d,x)),d=x+o;continue}if(w==="/"){f=x;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(cj),v=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},_A=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},NA=e=>({cache:jA(e.cacheSize),parseClassName:SA(e),...vA(e)}),kA=/\s+/,CA=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(kA);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,g=n(v?h.substring(0,p):h);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=_A(d).join(":"),w=f?x+cj:x,y=w+g;if(o.includes(y))continue;o.push(y);const b=s(g,v);for(let j=0;j<b.length;++j){const S=b[j];o.push(w+S)}l=u+(l.length>0?" "+l:l)}return l};function EA(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=uj(t))&&(n&&(n+=" "),n+=r);return n}const uj=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=uj(e[n]))&&(r&&(r+=" "),r+=t);return r};function PA(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=NA(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=CA(c,r);return s(c,d),d}return function(){return o(EA.apply(null,arguments))}}const Oe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},dj=/^\[(?:([a-z-]+):)?(.+)\]$/i,RA=/^\d+\/\d+$/,TA=new Set(["px","full","screen"]),AA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ln=e=>ra(e)||TA.has(e)||RA.test(e),Dn=e=>Ga(e,"length",qA),ra=e=>!!e&&!Number.isNaN(Number(e)),Qf=e=>Ga(e,"number",ra),bi=e=>!!e&&Number.isInteger(Number(e)),LA=e=>e.endsWith("%")&&ra(e.slice(0,-1)),le=e=>dj.test(e),In=e=>AA.test(e),$A=new Set(["length","size","percentage"]),FA=e=>Ga(e,$A,fj),zA=e=>Ga(e,"position",fj),UA=new Set(["image","url"]),BA=e=>Ga(e,UA,HA),WA=e=>Ga(e,"",VA),ji=()=>!0,Ga=(e,t,r)=>{const n=dj.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},qA=e=>OA.test(e)&&!MA.test(e),fj=()=>!1,VA=e=>DA.test(e),HA=e=>IA.test(e),KA=()=>{const e=Oe("colors"),t=Oe("spacing"),r=Oe("blur"),n=Oe("brightness"),s=Oe("borderColor"),o=Oe("borderRadius"),i=Oe("borderSpacing"),l=Oe("borderWidth"),c=Oe("contrast"),u=Oe("grayscale"),d=Oe("hueRotate"),f=Oe("invert"),h=Oe("gap"),p=Oe("gradientColorStops"),v=Oe("gradientColorStopPositions"),g=Oe("inset"),x=Oe("margin"),w=Oe("opacity"),y=Oe("padding"),b=Oe("saturate"),j=Oe("scale"),S=Oe("sepia"),N=Oe("skew"),C=Oe("space"),E=Oe("translate"),T=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",le,t],$=()=>[le,t],K=()=>["",ln,Dn],I=()=>["auto",ra,le],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",le],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[ra,le];return{cacheSize:500,separator:":",theme:{colors:[ji],spacing:[ln,Dn],blur:["none","",In,le],brightness:z(),borderColor:[e],borderRadius:["none","","full",In,le],borderSpacing:$(),borderWidth:K(),contrast:z(),grayscale:P(),hueRotate:z(),invert:P(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[LA,Dn],inset:L(),margin:L(),opacity:z(),padding:$(),saturate:z(),scale:z(),sepia:P(),skew:z(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[In]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),le]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bi,le]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",bi,le]}],"grid-cols":[{"grid-cols":[ji]}],"col-start-end":[{col:["auto",{span:["full",bi,le]},le]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[ji]}],"row-start-end":[{row:["auto",{span:[bi,le]},le]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,t]}],"min-w":[{"min-w":[le,t,"min","max","fit"]}],"max-w":[{"max-w":[le,t,"none","full","min","max","fit","prose",{screen:[In]},In]}],h:[{h:[le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",In,Dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qf]}],"font-family":[{font:[ji]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",ra,Qf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ln,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ln,Dn]}],"underline-offset":[{"underline-offset":["auto",ln,le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),zA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[ln,le]}],"outline-w":[{outline:[ln,Dn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ln,Dn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",In,WA]}],"shadow-color":[{shadow:[ji]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",In,le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[bi,le]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ln,Dn,Qf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YA=PA(KA);function O(...e){return YA(X1(e))}const GA=VT,hj=m.forwardRef(({className:e,...t},r)=>a.jsx(q1,{ref:r,className:O("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));hj.displayName=q1.displayName;const QA=go("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mj=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(V1,{ref:n,className:O(QA({variant:t}),e),...r}));mj.displayName=V1.displayName;const XA=m.forwardRef(({className:e,...t},r)=>a.jsx(Y1,{ref:r,className:O("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));XA.displayName=Y1.displayName;const pj=m.forwardRef(({className:e,...t},r)=>a.jsx(G1,{ref:r,className:O("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Ya,{className:"h-4 w-4"})}));pj.displayName=G1.displayName;const gj=m.forwardRef(({className:e,...t},r)=>a.jsx(H1,{ref:r,className:O("text-sm font-semibold",e),...t}));gj.displayName=H1.displayName;const vj=m.forwardRef(({className:e,...t},r)=>a.jsx(K1,{ref:r,className:O("text-sm opacity-90",e),...t}));vj.displayName=K1.displayName;function JA(){const{toasts:e}=rn();return a.jsxs(GA,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(mj,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(gj,{children:r}),n&&a.jsx(vj,{children:n})]}),s,a.jsx(pj,{})]},t)}),a.jsx(hj,{})]})}var Ix=["light","dark"],ZA="(prefers-color-scheme: dark)",eO=m.createContext(void 0),tO={setTheme:e=>{},themes:[]},rO=()=>{var e;return(e=m.useContext(eO))!=null?e:tO};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Ix.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,g=!1,x=!0)=>{let w=i?i[v]:v,y=g?v+"|| ''":`'${w}'`,b="";return s&&x&&!g&&Ix.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),r==="class"?g||w?b+=`c.add(${y})`:b+="null":w&&(b+=`d[s](n,${y})`),b},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${ZA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var nO=e=>{switch(e){case"success":return aO;case"info":return lO;case"warning":return iO;case"error":return cO;default:return null}},sO=Array(12).fill(0),oO=({visible:e})=>A.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},A.createElement("div",{className:"sonner-spinner"},sO.map((t,r)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),aO=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iO=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lO=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cO=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uO=()=>{let[e,t]=A.useState(document.hidden);return A.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Em=1,dO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Em++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(hO(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Em++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Vt=new dO,fO=(e,t)=>{let r=(t==null?void 0:t.id)||Em++;return Vt.addToast({title:e,...t,id:r}),r},hO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",mO=fO,pO=()=>Vt.toasts,Ce=Object.assign(mO,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:pO});function gO(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}gO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Pc(e){return e.label!==void 0}var vO=3,xO="32px",yO=4e3,wO=356,bO=14,jO=20,SO=200;function _O(...e){return e.filter(Boolean).join(" ")}var NO=e=>{var t,r,n,s,o,i,l,c,u,d;let{invert:f,toast:h,unstyled:p,interacting:v,setHeights:g,visibleToasts:x,heights:w,index:y,toasts:b,expanded:j,removeToast:S,defaultRichColors:N,closeButton:C,style:E,cancelButtonStyle:T,actionButtonStyle:R,className:L="",descriptionClassName:$="",duration:K,position:I,gap:G,loadingIcon:U,expandByDefault:M,classNames:_,icons:P,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:z,cn:W}=e,[Z,se]=A.useState(!1),[je,ae]=A.useState(!1),[X,xe]=A.useState(!1),[we,he]=A.useState(!1),[Se,be]=A.useState(0),[gt,Bt]=A.useState(0),An=A.useRef(null),nr=A.useRef(null),Ms=y===0,vf=y+1<=x,ot=h.type,bo=h.dismissible!==!1,v2=h.className||"",x2=h.descriptionClassName||"",ac=A.useMemo(()=>w.findIndex(ie=>ie.toastId===h.id)||0,[w,h.id]),y2=A.useMemo(()=>{var ie;return(ie=h.closeButton)!=null?ie:C},[h.closeButton,C]),f0=A.useMemo(()=>h.duration||K||yO,[h.duration,K]),xf=A.useRef(0),jo=A.useRef(0),h0=A.useRef(0),So=A.useRef(null),[m0,w2]=I.split("-"),p0=A.useMemo(()=>w.reduce((ie,Ae,Ee)=>Ee>=ac?ie:ie+Ae.height,0),[w,ac]),g0=uO(),b2=h.invert||f,yf=ot==="loading";jo.current=A.useMemo(()=>ac*G+p0,[ac,p0]),A.useEffect(()=>{se(!0)},[]),A.useLayoutEffect(()=>{if(!Z)return;let ie=nr.current,Ae=ie.style.height;ie.style.height="auto";let Ee=ie.getBoundingClientRect().height;ie.style.height=Ae,Bt(Ee),g(Lr=>Lr.find($r=>$r.toastId===h.id)?Lr.map($r=>$r.toastId===h.id?{...$r,height:Ee}:$r):[{toastId:h.id,height:Ee,position:h.position},...Lr])},[Z,h.title,h.description,g,h.id]);let On=A.useCallback(()=>{ae(!0),be(jo.current),g(ie=>ie.filter(Ae=>Ae.toastId!==h.id)),setTimeout(()=>{S(h)},SO)},[h,S,g,jo]);A.useEffect(()=>{if(h.promise&&ot==="loading"||h.duration===1/0||h.type==="loading")return;let ie,Ae=f0;return j||v||z&&g0?(()=>{if(h0.current<xf.current){let Ee=new Date().getTime()-xf.current;Ae=Ae-Ee}h0.current=new Date().getTime()})():Ae!==1/0&&(xf.current=new Date().getTime(),ie=setTimeout(()=>{var Ee;(Ee=h.onAutoClose)==null||Ee.call(h,h),On()},Ae)),()=>clearTimeout(ie)},[j,v,M,h,f0,On,h.promise,ot,z,g0]),A.useEffect(()=>{let ie=nr.current;if(ie){let Ae=ie.getBoundingClientRect().height;return Bt(Ae),g(Ee=>[{toastId:h.id,height:Ae,position:h.position},...Ee]),()=>g(Ee=>Ee.filter(Lr=>Lr.toastId!==h.id))}},[g,h.id]),A.useEffect(()=>{h.delete&&On()},[On,h.delete]);function j2(){return P!=null&&P.loading?A.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},P.loading):U?A.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},U):A.createElement(oO,{visible:ot==="loading"})}return A.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:nr,className:W(L,v2,_==null?void 0:_.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,_==null?void 0:_.default,_==null?void 0:_[ot],(r=h==null?void 0:h.classNames)==null?void 0:r[ot]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:N,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":Z,"data-promise":!!h.promise,"data-removed":je,"data-visible":vf,"data-y-position":m0,"data-x-position":w2,"data-index":y,"data-front":Ms,"data-swiping":X,"data-dismissible":bo,"data-type":ot,"data-invert":b2,"data-swipe-out":we,"data-expanded":!!(j||M&&Z),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${je?Se:jo.current}px`,"--initial-height":M?"auto":`${gt}px`,...E,...h.style},onPointerDown:ie=>{yf||!bo||(An.current=new Date,be(jo.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(xe(!0),So.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Ae,Ee,Lr;if(we||!bo)return;So.current=null;let $r=Number(((ie=nr.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ic=new Date().getTime()-((Ae=An.current)==null?void 0:Ae.getTime()),S2=Math.abs($r)/ic;if(Math.abs($r)>=jO||S2>.11){be(jo.current),(Ee=h.onDismiss)==null||Ee.call(h,h),On(),he(!0);return}(Lr=nr.current)==null||Lr.style.setProperty("--swipe-amount","0px"),xe(!1)},onPointerMove:ie=>{var Ae;if(!So.current||!bo)return;let Ee=ie.clientY-So.current.y,Lr=ie.clientX-So.current.x,$r=(m0==="top"?Math.min:Math.max)(0,Ee),ic=ie.pointerType==="touch"?10:2;Math.abs($r)>ic?(Ae=nr.current)==null||Ae.style.setProperty("--swipe-amount",`${Ee}px`):Math.abs(Lr)>ic&&(So.current=null)}},y2&&!h.jsx?A.createElement("button",{"aria-label":B,"data-disabled":yf,"data-close-button":!0,onClick:yf||!bo?()=>{}:()=>{var ie;On(),(ie=h.onDismiss)==null||ie.call(h,h)},className:W(_==null?void 0:_.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||A.isValidElement(h.title)?h.jsx||h.title:A.createElement(A.Fragment,null,ot||h.icon||h.promise?A.createElement("div",{"data-icon":"",className:W(_==null?void 0:_.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||j2():null,h.type!=="loading"?h.icon||(P==null?void 0:P[ot])||nO(ot):null):null,A.createElement("div",{"data-content":"",className:W(_==null?void 0:_.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},A.createElement("div",{"data-title":"",className:W(_==null?void 0:_.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?A.createElement("div",{"data-description":"",className:W($,x2,_==null?void 0:_.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),A.isValidElement(h.cancel)?h.cancel:h.cancel&&Pc(h.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:ie=>{var Ae,Ee;Pc(h.cancel)&&bo&&((Ee=(Ae=h.cancel).onClick)==null||Ee.call(Ae,ie),On())},className:W(_==null?void 0:_.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,A.isValidElement(h.action)?h.action:h.action&&Pc(h.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:ie=>{var Ae,Ee;Pc(h.action)&&(ie.defaultPrevented||((Ee=(Ae=h.action).onClick)==null||Ee.call(Ae,ie),On()))},className:W(_==null?void 0:_.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Lx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var kO=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=vO,toastOptions:p,dir:v=Lx(),gap:g=bO,loadingIcon:x,icons:w,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:b,cn:j=_O}=e,[S,N]=A.useState([]),C=A.useMemo(()=>Array.from(new Set([r].concat(S.filter(z=>z.position).map(z=>z.position)))),[S,r]),[E,T]=A.useState([]),[R,L]=A.useState(!1),[$,K]=A.useState(!1),[I,G]=A.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=A.useRef(null),M=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=A.useRef(null),P=A.useRef(!1),B=A.useCallback(z=>{var W;(W=S.find(Z=>Z.id===z.id))!=null&&W.delete||Vt.dismiss(z.id),N(Z=>Z.filter(({id:se})=>se!==z.id))},[S]);return A.useEffect(()=>Vt.subscribe(z=>{if(z.dismiss){N(W=>W.map(Z=>Z.id===z.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{k1.flushSync(()=>{N(W=>{let Z=W.findIndex(se=>se.id===z.id);return Z!==-1?[...W.slice(0,Z),{...W[Z],...z},...W.slice(Z+1)]:[z,...W]})})})}),[]),A.useEffect(()=>{if(c!=="system"){G(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{G(z?"dark":"light")})},[c]),A.useEffect(()=>{S.length<=1&&L(!1)},[S]),A.useEffect(()=>{let z=W=>{var Z,se;n.every(je=>W[je]||W.code===je)&&(L(!0),(Z=U.current)==null||Z.focus()),W.code==="Escape"&&(document.activeElement===U.current||(se=U.current)!=null&&se.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[n]),A.useEffect(()=>{if(U.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,P.current=!1)}},[U.current]),S.length?A.createElement("section",{"aria-label":`${y} ${M}`,tabIndex:-1},C.map((z,W)=>{var Z;let[se,je]=z.split("-");return A.createElement("ol",{key:z,dir:v==="auto"?Lx():v,tabIndex:-1,ref:U,className:i,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":se,"data-x-position":je,style:{"--front-toast-height":`${((Z=E[0])==null?void 0:Z.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||xO,"--width":`${wO}px`,"--gap":`${g}px`,...f},onBlur:ae=>{P.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(P.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||P.current||(P.current=!0,_.current=ae.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{$||L(!1)},onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},S.filter(ae=>!ae.position&&W===0||ae.position===z).map((ae,X)=>{var xe,we;return A.createElement(NO,{key:ae.id,icons:w,index:X,toast:ae,defaultRichColors:u,duration:(xe=p==null?void 0:p.duration)!=null?xe:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(we=p==null?void 0:p.closeButton)!=null?we:o,interacting:$,position:z,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:B,toasts:S.filter(he=>he.position==ae.position),heights:E.filter(he=>he.position==ae.position),setHeights:T,expandByDefault:s,gap:g,loadingIcon:x,expanded:R,pauseWhenPageIsHidden:b,cn:j})}))})):null};const CO=({...e})=>{const{theme:t="system"}=rO();return a.jsx(kO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var EO=Sw.useId||(()=>{}),PO=0;function Ft(e){const[t,r]=m.useState(EO());return Ge(()=>{e||r(n=>n??String(PO++))},[e]),e||(t?`radix-${t}`:"")}const RO=["top","right","bottom","left"],xs=Math.min,Kt=Math.max,Lu=Math.round,Rc=Math.floor,ys=e=>({x:e,y:e}),TO={left:"right",right:"left",bottom:"top",top:"bottom"},AO={start:"end",end:"start"};function Pm(e,t,r){return Kt(e,xs(t,r))}function _n(e,t){return typeof e=="function"?e(t):e}function Nn(e){return e.split("-")[0]}function Qa(e){return e.split("-")[1]}function Tg(e){return e==="x"?"y":"x"}function Ag(e){return e==="y"?"height":"width"}function ws(e){return["top","bottom"].includes(Nn(e))?"y":"x"}function Og(e){return Tg(ws(e))}function OO(e,t,r){r===void 0&&(r=!1);const n=Qa(e),s=Og(e),o=Ag(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=$u(i)),[i,$u(i)]}function MO(e){const t=$u(e);return[Rm(e),t,Rm(t)]}function Rm(e){return e.replace(/start|end/g,t=>AO[t])}function DO(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function IO(e,t,r,n){const s=Qa(e);let o=DO(Nn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Rm)))),o}function $u(e){return e.replace(/left|right|bottom|top/g,t=>TO[t])}function LO(e){return{top:0,right:0,bottom:0,left:0,...e}}function xj(e){return typeof e!="number"?LO(e):{top:e,right:e,bottom:e,left:e}}function Fu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function $x(e,t,r){let{reference:n,floating:s}=e;const o=ws(t),i=Og(t),l=Ag(i),c=Nn(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Qa(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const $O=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=$x(u,n,c),h=n,p={},v=0;for(let g=0;g<l.length;g++){const{name:x,fn:w}=l[g],{x:y,y:b,data:j,reset:S}=await w({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=b??f,p={...p,[x]:{...p[x],...j}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=$x(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function hl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=_n(t,e),v=xj(p),x=l[h?f==="floating"?"reference":"floating":f],w=Fu(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Fu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(w.top-S.top+v.top)/j.y,bottom:(S.bottom-w.bottom+v.bottom)/j.y,left:(w.left-S.left+v.left)/j.x,right:(S.right-w.right+v.right)/j.x}}const FO=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=_n(e,t)||{};if(u==null)return{};const f=xj(d),h={x:r,y:n},p=Og(s),v=Ag(p),g=await i.getDimensions(u),x=p==="y",w=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",j=o.reference[v]+o.reference[p]-h[p]-o.floating[v],S=h[p]-o.reference[p],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=N?N[b]:0;(!C||!await(i.isElement==null?void 0:i.isElement(N)))&&(C=l.floating[b]||o.floating[v]);const E=j/2-S/2,T=C/2-g[v]/2-1,R=xs(f[w],T),L=xs(f[y],T),$=R,K=C-g[v]-L,I=C/2-g[v]/2+E,G=Pm($,I,K),U=!c.arrow&&Qa(s)!=null&&I!==G&&o.reference[v]/2-(I<$?R:L)-g[v]/2<0,M=U?I<$?I-$:I-K:0;return{[p]:h[p]+M,data:{[p]:G,centerOffset:I-G-M,...U&&{alignmentOffset:M}},reset:U}}}),zO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=_n(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=Nn(s),y=ws(l),b=Nn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!g?[$u(l)]:MO(l)),N=v!=="none";!h&&N&&S.push(...IO(l,g,v,j));const C=[l,...S],E=await hl(t,x),T=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&T.push(E[w]),f){const I=OO(s,i,j);T.push(E[I[0]],E[I[1]])}if(R=[...R,{placement:s,overflows:T}],!T.every(I=>I<=0)){var L,$;const I=(((L=o.flip)==null?void 0:L.index)||0)+1,G=C[I];if(G)return{data:{index:I,overflows:R},reset:{placement:G}};let U=($=R.filter(M=>M.overflows[0]<=0).sort((M,_)=>M.overflows[1]-_.overflows[1])[0])==null?void 0:$.placement;if(!U)switch(p){case"bestFit":{var K;const M=(K=R.filter(_=>{if(N){const P=ws(_.placement);return P===y||P==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(P=>P>0).reduce((P,B)=>P+B,0)]).sort((_,P)=>_[1]-P[1])[0])==null?void 0:K[0];M&&(U=M);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function Fx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function zx(e){return RO.some(t=>e[t]>=0)}const UO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=_n(e,t);switch(n){case"referenceHidden":{const o=await hl(t,{...s,elementContext:"reference"}),i=Fx(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:zx(i)}}}case"escaped":{const o=await hl(t,{...s,altBoundary:!0}),i=Fx(o,r.floating);return{data:{escapedOffsets:i,escaped:zx(i)}}}default:return{}}}}};async function BO(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Nn(r),l=Qa(r),c=ws(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=_n(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const WO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await BO(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},qO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:w,y}=x;return{x:w,y}}},...c}=_n(e,t),u={x:r,y:n},d=await hl(t,c),f=ws(Nn(s)),h=Tg(f);let p=u[h],v=u[f];if(o){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=p+d[x],b=p-d[w];p=Pm(y,p,b)}if(i){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=v+d[x],b=v-d[w];v=Pm(y,v,b)}const g=l.fn({...t,[h]:p,[f]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:o,[f]:i}}}}}},VO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=_n(e,t),d={x:r,y:n},f=ws(s),h=Tg(f);let p=d[h],v=d[f];const g=_n(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",j=o.reference[h]-o.floating[b]+x.mainAxis,S=o.reference[h]+o.reference[b]-x.mainAxis;p<j?p=j:p>S&&(p=S)}if(u){var w,y;const b=h==="y"?"width":"height",j=["top","left"].includes(Nn(s)),S=o.reference[f]-o.floating[b]+(j&&((w=i.offset)==null?void 0:w[f])||0)+(j?0:x.crossAxis),N=o.reference[f]+o.reference[b]+(j?0:((y=i.offset)==null?void 0:y[f])||0)-(j?x.crossAxis:0);v<S?v=S:v>N&&(v=N)}return{[h]:p,[f]:v}}}},HO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=_n(e,t),d=await hl(t,u),f=Nn(s),h=Qa(s),p=ws(s)==="y",{width:v,height:g}=o.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,x=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,b=v-d.left-d.right,j=xs(g-d[x],y),S=xs(v-d[w],b),N=!t.middlewareData.shift;let C=j,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=y),N&&!h){const R=Kt(d.left,0),L=Kt(d.right,0),$=Kt(d.top,0),K=Kt(d.bottom,0);p?E=v-2*(R!==0||L!==0?R+L:Kt(d.left,d.right)):C=g-2*($!==0||K!==0?$+K:Kt(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:C});const T=await i.getDimensions(l.floating);return v!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function _d(){return typeof window<"u"}function Xa(e){return yj(e)?(e.nodeName||"").toLowerCase():"#document"}function Jt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nn(e){var t;return(t=(yj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yj(e){return _d()?e instanceof Node||e instanceof Jt(e).Node:!1}function Rr(e){return _d()?e instanceof Element||e instanceof Jt(e).Element:!1}function en(e){return _d()?e instanceof HTMLElement||e instanceof Jt(e).HTMLElement:!1}function Ux(e){return!_d()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jt(e).ShadowRoot}function Il(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function KO(e){return["table","td","th"].includes(Xa(e))}function Nd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Mg(e){const t=Dg(),r=Rr(e)?Tr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function YO(e){let t=bs(e);for(;en(t)&&!Ta(t);){if(Mg(t))return t;if(Nd(t))return null;t=bs(t)}return null}function Dg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ta(e){return["html","body","#document"].includes(Xa(e))}function Tr(e){return Jt(e).getComputedStyle(e)}function kd(e){return Rr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bs(e){if(Xa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ux(e)&&e.host||nn(e);return Ux(t)?t.host:t}function wj(e){const t=bs(e);return Ta(t)?e.ownerDocument?e.ownerDocument.body:e.body:en(t)&&Il(t)?t:wj(t)}function ml(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=wj(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Jt(s);if(o){const l=Tm(i);return t.concat(i,i.visualViewport||[],Il(s)?s:[],l&&r?ml(l):[])}return t.concat(s,ml(s,[],r))}function Tm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bj(e){const t=Tr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=en(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=Lu(r)!==o||Lu(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Ig(e){return Rr(e)?e:e.contextElement}function na(e){const t=Ig(e);if(!en(t))return ys(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=bj(t);let i=(o?Lu(r.width):r.width)/n,l=(o?Lu(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const GO=ys(0);function jj(e){const t=Jt(e);return!Dg()||!t.visualViewport?GO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QO(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jt(e)?!1:t}function so(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Ig(e);let i=ys(1);t&&(n?Rr(n)&&(i=na(n)):i=na(e));const l=QO(o,r,n)?jj(o):ys(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=Jt(o),p=n&&Rr(n)?Jt(n):n;let v=h,g=Tm(v);for(;g&&n&&p!==v;){const x=na(g),w=g.getBoundingClientRect(),y=Tr(g),b=w.left+(g.clientLeft+parseFloat(y.paddingLeft))*x.x,j=w.top+(g.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=j,v=Jt(g),g=Tm(v)}}return Fu({width:d,height:f,x:c,y:u})}function XO(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=nn(n),l=t?Nd(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=ys(1);const d=ys(0),f=en(n);if((f||!f&&!o)&&((Xa(n)!=="body"||Il(i))&&(c=kd(n)),en(n))){const h=so(n);u=na(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function JO(e){return Array.from(e.getClientRects())}function Am(e,t){const r=kd(e).scrollLeft;return t?t.left+r:so(nn(e)).left+r}function ZO(e){const t=nn(e),r=kd(e),n=e.ownerDocument.body,s=Kt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Kt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Am(e);const l=-r.scrollTop;return Tr(n).direction==="rtl"&&(i+=Kt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function eM(e,t){const r=Jt(e),n=nn(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Dg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function tM(e,t){const r=so(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=en(e)?na(e):ys(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function Bx(e,t,r){let n;if(t==="viewport")n=eM(e,r);else if(t==="document")n=ZO(nn(e));else if(Rr(t))n=tM(t,r);else{const s=jj(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Fu(n)}function Sj(e,t){const r=bs(e);return r===t||!Rr(r)||Ta(r)?!1:Tr(r).position==="fixed"||Sj(r,t)}function rM(e,t){const r=t.get(e);if(r)return r;let n=ml(e,[],!1).filter(l=>Rr(l)&&Xa(l)!=="body"),s=null;const o=Tr(e).position==="fixed";let i=o?bs(e):e;for(;Rr(i)&&!Ta(i);){const l=Tr(i),c=Mg(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Il(i)&&!c&&Sj(e,i))?n=n.filter(d=>d!==i):s=l,i=bs(i)}return t.set(e,n),n}function nM(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Nd(t)?[]:rM(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=Bx(t,d,s);return u.top=Kt(f.top,u.top),u.right=xs(f.right,u.right),u.bottom=xs(f.bottom,u.bottom),u.left=Kt(f.left,u.left),u},Bx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sM(e){const{width:t,height:r}=bj(e);return{width:t,height:r}}function oM(e,t,r){const n=en(t),s=nn(t),o=r==="fixed",i=so(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=ys(0);if(n||!n&&!o)if((Xa(t)!=="body"||Il(s))&&(l=kd(t)),n){const p=so(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=Am(s));let u=0,d=0;if(s&&!n&&!o){const p=s.getBoundingClientRect();d=p.top+l.scrollTop,u=p.left+l.scrollLeft-Am(s,p)}const f=i.left+l.scrollLeft-c.x-u,h=i.top+l.scrollTop-c.y-d;return{x:f,y:h,width:i.width,height:i.height}}function Xf(e){return Tr(e).position==="static"}function Wx(e,t){if(!en(e)||Tr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return nn(e)===r&&(r=r.ownerDocument.body),r}function _j(e,t){const r=Jt(e);if(Nd(e))return r;if(!en(e)){let s=bs(e);for(;s&&!Ta(s);){if(Rr(s)&&!Xf(s))return s;s=bs(s)}return r}let n=Wx(e,t);for(;n&&KO(n)&&Xf(n);)n=Wx(n,t);return n&&Ta(n)&&Xf(n)&&!Mg(n)?r:n||YO(e)||r}const aM=async function(e){const t=this.getOffsetParent||_j,r=this.getDimensions,n=await r(e.floating);return{reference:oM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function iM(e){return Tr(e).direction==="rtl"}const lM={convertOffsetParentRelativeRectToViewportRelativeRect:XO,getDocumentElement:nn,getClippingRect:nM,getOffsetParent:_j,getElementRects:aM,getClientRects:JO,getDimensions:sM,getScale:na,isElement:Rr,isRTL:iM};function cM(e,t){let r=null,n;const s=nn(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const p=Rc(d),v=Rc(s.clientWidth-(u+f)),g=Rc(s.clientHeight-(d+h)),x=Rc(u),y={rootMargin:-p+"px "+-v+"px "+-g+"px "+-x+"px",threshold:Kt(0,xs(1,c))||1};let b=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!b)return i();N?i(!1,N):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,y)}r.observe(e)}return i(!0),o}function uM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ig(e),d=s||o?[...u?ml(u):[],...ml(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const f=u&&l?cM(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let v,g=c?so(e):null;c&&x();function x(){const w=so(e);g&&(w.x!==g.x||w.y!==g.y||w.width!==g.width||w.height!==g.height)&&r(),g=w,v=requestAnimationFrame(x)}return r(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const dM=WO,fM=qO,hM=zO,mM=HO,pM=UO,qx=FO,gM=VO,vM=(e,t,r)=>{const n=new Map,s={platform:lM,...r},o={...s.platform,_c:n};return $O(e,t,{...s,platform:o})};var ou=typeof document<"u"?m.useLayoutEffect:m.useEffect;function zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!zu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!zu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Nj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vx(e,t){const r=Nj(e);return Math.round(t*r)/r}function Jf(e){const t=m.useRef(e);return ou(()=>{t.current=e}),t}function xM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);zu(h,n)||p(n);const[v,g]=m.useState(null),[x,w]=m.useState(null),y=m.useCallback(_=>{_!==N.current&&(N.current=_,g(_))},[]),b=m.useCallback(_=>{_!==C.current&&(C.current=_,w(_))},[]),j=o||v,S=i||x,N=m.useRef(null),C=m.useRef(null),E=m.useRef(d),T=c!=null,R=Jf(c),L=Jf(s),$=Jf(u),K=m.useCallback(()=>{if(!N.current||!C.current)return;const _={placement:t,strategy:r,middleware:h};L.current&&(_.platform=L.current),vM(N.current,C.current,_).then(P=>{const B={...P,isPositioned:$.current!==!1};I.current&&!zu(E.current,B)&&(E.current=B,mo.flushSync(()=>{f(B)}))})},[h,t,r,L,$]);ou(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(_=>({..._,isPositioned:!1})))},[u]);const I=m.useRef(!1);ou(()=>(I.current=!0,()=>{I.current=!1}),[]),ou(()=>{if(j&&(N.current=j),S&&(C.current=S),j&&S){if(R.current)return R.current(j,S,K);K()}},[j,S,K,R,T]);const G=m.useMemo(()=>({reference:N,floating:C,setReference:y,setFloating:b}),[y,b]),U=m.useMemo(()=>({reference:j,floating:S}),[j,S]),M=m.useMemo(()=>{const _={position:r,left:0,top:0};if(!U.floating)return _;const P=Vx(U.floating,d.x),B=Vx(U.floating,d.y);return l?{..._,transform:"translate("+P+"px, "+B+"px)",...Nj(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:B}},[r,l,U.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:K,refs:G,elements:U,floatingStyles:M}),[d,K,G,U,M])}const yM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?qx({element:n.current,padding:s}).fn(r):{}:n?qx({element:n,padding:s}).fn(r):{}}}},wM=(e,t)=>({...dM(e),options:[e,t]}),bM=(e,t)=>({...fM(e),options:[e,t]}),jM=(e,t)=>({...gM(e),options:[e,t]}),SM=(e,t)=>({...hM(e),options:[e,t]}),_M=(e,t)=>({...mM(e),options:[e,t]}),NM=(e,t)=>({...pM(e),options:[e,t]}),kM=(e,t)=>({...yM(e),options:[e,t]});var CM="Arrow",kj=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(V.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});kj.displayName=CM;var EM=kj;function PM(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:p,...v}=f,g=(h==null?void 0:h[e][c])||l,x=m.useMemo(()=>v,Object.values(v));return a.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,v=m.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,RM(s,...t)]}function RM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Cd(e){const[t,r]=m.useState(void 0);return Ge(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Lg="Popper",[Cj,ks]=PM(Lg),[TM,Ej]=Cj(Lg),Pj=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(TM,{scope:t,anchor:n,onAnchorChange:s,children:r})};Pj.displayName=Lg;var Rj="PopperAnchor",Tj=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=Ej(Rj,r),i=m.useRef(null),l=te(t,i);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(V.div,{...s,ref:l})});Tj.displayName=Rj;var $g="PopperContent",[AM,OM]=Cj($g),Aj=m.forwardRef((e,t)=>{var X,xe,we,he,Se,be;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,x=Ej($g,r),[w,y]=m.useState(null),b=te(t,gt=>y(gt)),[j,S]=m.useState(null),N=Cd(j),C=(N==null?void 0:N.width)??0,E=(N==null?void 0:N.height)??0,T=n+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],$=L.length>0,K={padding:R,boundary:L.filter(DM),altBoundary:$},{refs:I,floatingStyles:G,placement:U,isPositioned:M,middlewareData:_}=xM({strategy:"fixed",placement:T,whileElementsMounted:(...gt)=>uM(...gt,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[wM({mainAxis:s+E,alignmentAxis:i}),c&&bM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?jM():void 0,...K}),c&&SM({...K}),_M({...K,apply:({elements:gt,rects:Bt,availableWidth:An,availableHeight:nr})=>{const{width:Ms,height:vf}=Bt.reference,ot=gt.floating.style;ot.setProperty("--radix-popper-available-width",`${An}px`),ot.setProperty("--radix-popper-available-height",`${nr}px`),ot.setProperty("--radix-popper-anchor-width",`${Ms}px`),ot.setProperty("--radix-popper-anchor-height",`${vf}px`)}}),j&&kM({element:j,padding:l}),IM({arrowWidth:C,arrowHeight:E}),h&&NM({strategy:"referenceHidden",...K})]}),[P,B]=Dj(U),z=Fe(v);Ge(()=>{M&&(z==null||z())},[M,z]);const W=(X=_.arrow)==null?void 0:X.x,Z=(xe=_.arrow)==null?void 0:xe.y,se=((we=_.arrow)==null?void 0:we.centerOffset)!==0,[je,ae]=m.useState();return Ge(()=>{w&&ae(window.getComputedStyle(w).zIndex)},[w]),a.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:M?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(he=_.transformOrigin)==null?void 0:he.x,(Se=_.transformOrigin)==null?void 0:Se.y].join(" "),...((be=_.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(AM,{scope:r,placedSide:P,onArrowChange:S,arrowX:W,arrowY:Z,shouldHideArrow:se,children:a.jsx(V.div,{"data-side":P,"data-align":B,...g,ref:b,style:{...g.style,animation:M?void 0:"none"}})})})});Aj.displayName=$g;var Oj="PopperArrow",MM={top:"bottom",right:"left",bottom:"top",left:"right"},Mj=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=OM(Oj,n),i=MM[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(EM,{...s,ref:r,style:{...s.style,display:"block"}})})});Mj.displayName=Oj;function DM(e){return e!==null}var IM=e=>({name:"transformOrigin",options:e,fn(t){var x,w,y;const{placement:r,rects:n,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Dj(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=i?f:`${h}px`,g=`${-c}px`):u==="top"?(v=i?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=i?f:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=i?f:`${p}px`),{data:{x:v,y:g}}}});function Dj(e){const[t,r="center"]=e.split("-");return[t,r]}var Ed=Pj,Ll=Tj,Pd=Aj,Rd=Mj,[Td,TW]=ut("Tooltip",[ks]),Ad=ks(),Ij="TooltipProvider",LM=700,Om="tooltip.open",[$M,Fg]=Td(Ij),Lj=e=>{const{__scopeTooltip:t,delayDuration:r=LM,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),a.jsx($M,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:o})};Lj.displayName=Ij;var Od="Tooltip",[FM,Md]=Td(Od),$j=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=Fg(Od,e.__scopeTooltip),u=Ad(t),[d,f]=m.useState(null),h=Ft(),p=m.useRef(0),v=i??c.disableHoverableContent,g=l??c.delayDuration,x=m.useRef(!1),[w=!1,y]=_t({prop:n,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Om))):c.onClose(),o==null||o(C)}}),b=m.useMemo(()=>w?x.current?"delayed-open":"instant-open":"closed",[w]),j=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,y(!0)},[y]),S=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),N=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,y(!0),p.current=0},g)},[g,y]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx(Ed,{...u,children:a.jsx(FM,{scope:t,contentId:h,open:w,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?N():j()},[c.isOpenDelayed,N,j]),onTriggerLeave:m.useCallback(()=>{v?S():(window.clearTimeout(p.current),p.current=0)},[S,v]),onOpen:j,onClose:S,disableHoverableContent:v,children:r})})};$j.displayName=Od;var Mm="TooltipTrigger",Fj=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Md(Mm,r),o=Fg(Mm,r),i=Ad(r),l=m.useRef(null),c=te(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Ll,{asChild:!0,...i,children:a.jsx(V.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:D(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:D(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:D(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:D(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:D(e.onBlur,s.onClose),onClick:D(e.onClick,s.onClose)})})});Fj.displayName=Mm;var zM="TooltipPortal",[AW,UM]=Td(zM,{forceMount:void 0}),Aa="TooltipContent",zj=m.forwardRef((e,t)=>{const r=UM(Aa,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Md(Aa,e.__scopeTooltip);return a.jsx(Qe,{present:n||i.open,children:i.disableHoverableContent?a.jsx(Uj,{side:s,...o,ref:t}):a.jsx(BM,{side:s,...o,ref:t})})}),BM=m.forwardRef((e,t)=>{const r=Md(Aa,e.__scopeTooltip),n=Fg(Aa,e.__scopeTooltip),s=m.useRef(null),o=te(t,s),[i,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((v,g)=>{const x=v.currentTarget,w={x:v.clientX,y:v.clientY},y=HM(w,x.getBoundingClientRect()),b=KM(w,y),j=YM(g.getBoundingClientRect()),S=QM([...b,...j]);l(S),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const v=x=>p(x,d),g=x=>p(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),m.useEffect(()=>{if(i){const v=g=>{const x=g.target,w={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!GM(w,i);y?h():b&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,u,h]),a.jsx(Uj,{...e,ref:o})}),[WM,qM]=Td(Od,{isInside:!1}),Uj=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Md(Aa,r),u=Ad(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Om,d),()=>document.removeEventListener(Om,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(po,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Pd,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(wg,{children:n}),a.jsx(WM,{scope:r,isInside:!0,children:a.jsx(CT,{id:c.contentId,role:"tooltip",children:s||n})})]})})});zj.displayName=Aa;var Bj="TooltipArrow",VM=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ad(r);return qM(Bj,r).isInside?null:a.jsx(Rd,{...s,...n,ref:t})});VM.displayName=Bj;function HM(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function KM(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function YM(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function GM(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function QM(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),XM(t)}function XM(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var JM=Lj,ZM=$j,eD=Fj,Wj=zj;const qj=JM,tD=ZM,rD=eD,Vj=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(Wj,{ref:n,sideOffset:t,className:O("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Vj.displayName=Wj.displayName;var Ja=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oo=typeof window>"u"||"Deno"in globalThis;function or(){}function nD(e,t){return typeof e=="function"?e(t):e}function Dm(e){return typeof e=="number"&&e>=0&&e!==1/0}function Hj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sa(e,t){return typeof e=="function"?e(t):e}function _r(e,t){return typeof e=="function"?e(t):e}function Hx(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==zg(i,t.options))return!1}else if(!pl(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function Kx(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(ao(t.options.mutationKey)!==ao(o))return!1}else if(!pl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function zg(e,t){return((t==null?void 0:t.queryKeyHashFn)||ao)(e)}function ao(e){return JSON.stringify(e,(t,r)=>Im(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function pl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!pl(e[r],t[r])):!1}function Kj(e,t){if(e===t)return e;const r=Yx(e)&&Yx(t);if(r||Im(e)&&Im(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:o[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=Kj(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function Uu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Yx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Im(e){if(!Gx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Gx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gx(e){return Object.prototype.toString.call(e)==="[object Object]"}function sD(e){return new Promise(t=>{setTimeout(t,e)})}function Lm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Kj(e,t):t}function oD(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function aD(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ug=Symbol();function Yj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ug?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qs,Kn,la,rw,iD=(rw=class extends Ja{constructor(){super();ee(this,qs);ee(this,Kn);ee(this,la);H(this,la,t=>{if(!oo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,Kn)||this.setEventListener(k(this,la))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Kn))==null||t.call(this),H(this,Kn,void 0))}setEventListener(t){var r;H(this,la,t),(r=k(this,Kn))==null||r.call(this),H(this,Kn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){k(this,qs)!==t&&(H(this,qs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof k(this,qs)=="boolean"?k(this,qs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qs=new WeakMap,Kn=new WeakMap,la=new WeakMap,rw),Bg=new iD,ca,Yn,ua,nw,lD=(nw=class extends Ja{constructor(){super();ee(this,ca,!0);ee(this,Yn);ee(this,ua);H(this,ua,t=>{if(!oo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,Yn)||this.setEventListener(k(this,ua))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Yn))==null||t.call(this),H(this,Yn,void 0))}setEventListener(t){var r;H(this,ua,t),(r=k(this,Yn))==null||r.call(this),H(this,Yn,t(this.setOnline.bind(this)))}setOnline(t){k(this,ca)!==t&&(H(this,ca,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return k(this,ca)}},ca=new WeakMap,Yn=new WeakMap,ua=new WeakMap,nw),Bu=new lD;function $m(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function cD(e){return Math.min(1e3*2**e,3e4)}function Gj(e){return(e??"online")==="online"?Bu.isOnline():!0}var Qj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zf(e){return e instanceof Qj}function Xj(e){let t=!1,r=0,n=!1,s;const o=$m(),i=g=>{var x;n||(h(new Qj(g)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Bg.isFocused()&&(e.networkMode==="always"||Bu.isOnline())&&e.canRun(),d=()=>Gj(e.networkMode)&&e.canRun(),f=g=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,g),s==null||s(),o.resolve(g))},h=g=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var x;s=w=>{(n||u())&&g(w)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(n)return;let g;const x=r===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var N;if(n)return;const y=e.retry??(oo?0:3),b=e.retryDelay??cD,j=typeof b=="function"?b(r,w):b,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(t||!S){h(w);return}r++,(N=e.onFail)==null||N.call(e,r,w),sD(j).then(()=>u()?void 0:p()).then(()=>{t?h(w):v()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),o)}}function uD(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Je=uD(),Vs,sw,Jj=(sw=class{constructor(){ee(this,Vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Dm(this.gcTime)&&H(this,Vs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(oo?1/0:5*60*1e3))}clearGcTimeout(){k(this,Vs)&&(clearTimeout(k(this,Vs)),H(this,Vs,void 0))}},Vs=new WeakMap,sw),da,fa,sr,ht,Nl,Hs,wr,un,ow,dD=(ow=class extends Jj{constructor(t){super();ee(this,wr);ee(this,da);ee(this,fa);ee(this,sr);ee(this,ht);ee(this,Nl);ee(this,Hs);H(this,Hs,!1),H(this,Nl,t.defaultOptions),this.setOptions(t.options),this.observers=[],H(this,sr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,H(this,da,fD(this.options)),this.state=t.state??k(this,da),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,ht))==null?void 0:t.promise}setOptions(t){this.options={...k(this,Nl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,sr).remove(this)}setData(t,r){const n=Lm(this.state.data,t,this.options);return ue(this,wr,un).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ue(this,wr,un).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=k(this,ht))==null?void 0:n.promise;return(s=k(this,ht))==null||s.cancel(t),r?r.then(or).catch(or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,da))}isActive(){return this.observers.some(t=>_r(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ug||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Hj(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,ht))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,ht))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,sr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(k(this,ht)&&(k(this,Hs)?k(this,ht).cancel({revert:!0}):k(this,ht).cancelRetry()),this.scheduleGc()),k(this,sr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,wr,un).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,ht))return k(this,ht).continueRetry(),k(this,ht).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(H(this,Hs,!0),n.signal)})},o=()=>{const f=Yj(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),H(this,Hs,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),H(this,fa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&ue(this,wr,un).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,p,v,g;Zf(f)&&f.silent||ue(this,wr,un).call(this,{type:"error",error:f}),Zf(f)||((p=(h=k(this,sr).config).onError)==null||p.call(h,f,this),(g=(v=k(this,sr).config).onSettled)==null||g.call(v,this.state.data,f,this)),this.scheduleGc()};return H(this,ht,Xj({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,v,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(p=(h=k(this,sr).config).onSuccess)==null||p.call(h,f,this),(g=(v=k(this,sr).config).onSettled)==null||g.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{ue(this,wr,un).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{ue(this,wr,un).call(this,{type:"pause"})},onContinue:()=>{ue(this,wr,un).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),k(this,ht).start()}},da=new WeakMap,fa=new WeakMap,sr=new WeakMap,ht=new WeakMap,Nl=new WeakMap,Hs=new WeakMap,wr=new WeakSet,un=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Zj(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Zf(s)&&s.revert&&k(this,fa)?{...k(this,fa),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Je.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,sr).notify({query:this,type:"updated",action:t})})},ow);function Zj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Br,aw,hD=(aw=class extends Ja{constructor(t={}){super();ee(this,Br);this.config=t,H(this,Br,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??zg(s,r);let i=this.get(o);return i||(i=new dD({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){k(this,Br).has(t.queryHash)||(k(this,Br).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=k(this,Br).get(t.queryHash);r&&(t.destroy(),r===t&&k(this,Br).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Je.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,Br).get(t)}getAll(){return[...k(this,Br).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Hx(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Hx(t,n)):r}notify(t){Je.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Je.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Je.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Br=new WeakMap,aw),Wr,xt,Ks,qr,$n,iw,mD=(iw=class extends Jj{constructor(t){super();ee(this,qr);ee(this,Wr);ee(this,xt);ee(this,Ks);this.mutationId=t.mutationId,H(this,xt,t.mutationCache),H(this,Wr,[]),this.state=t.state||eS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,Wr).includes(t)||(k(this,Wr).push(t),this.clearGcTimeout(),k(this,xt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){H(this,Wr,k(this,Wr).filter(r=>r!==t)),this.scheduleGc(),k(this,xt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,Wr).length||(this.state.status==="pending"?this.scheduleGc():k(this,xt).remove(this))}continue(){var t;return((t=k(this,Ks))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,l,c,u,d,f,h,p,v,g,x,w,y,b,j,S,N,C;H(this,Ks,Xj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,T)=>{ue(this,qr,$n).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{ue(this,qr,$n).call(this,{type:"pause"})},onContinue:()=>{ue(this,qr,$n).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,xt).canRun(this)}));const r=this.state.status==="pending",n=!k(this,Ks).canStart();try{if(!r){ue(this,qr,$n).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(s=k(this,xt).config).onMutate)==null?void 0:o.call(s,t,this));const T=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));T!==this.state.context&&ue(this,qr,$n).call(this,{type:"pending",context:T,variables:t,isPaused:n})}const E=await k(this,Ks).start();return await((u=(c=k(this,xt).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,t,this.state.context)),await((p=(h=k(this,xt).config).onSettled)==null?void 0:p.call(h,E,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,E,null,t,this.state.context)),ue(this,qr,$n).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(x=k(this,xt).config).onError)==null?void 0:w.call(x,E,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,E,t,this.state.context)),await((S=(j=k(this,xt).config).onSettled)==null?void 0:S.call(j,void 0,E,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,E,t,this.state.context)),E}finally{ue(this,qr,$n).call(this,{type:"error",error:E})}}finally{k(this,xt).runNext(this)}}},Wr=new WeakMap,xt=new WeakMap,Ks=new WeakMap,qr=new WeakSet,$n=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Je.batch(()=>{k(this,Wr).forEach(n=>{n.onMutationUpdate(t)}),k(this,xt).notify({mutation:this,type:"updated",action:t})})},iw);function eS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qt,kl,lw,pD=(lw=class extends Ja{constructor(t={}){super();ee(this,qt);ee(this,kl);this.config=t,H(this,qt,new Map),H(this,kl,Date.now())}build(t,r,n){const s=new mD({mutationCache:this,mutationId:++lc(this,kl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Tc(t),n=k(this,qt).get(r)??[];n.push(t),k(this,qt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Tc(t);if(k(this,qt).has(r)){const s=(n=k(this,qt).get(r))==null?void 0:n.filter(o=>o!==t);s&&(s.length===0?k(this,qt).delete(r):k(this,qt).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=k(this,qt).get(Tc(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=k(this,qt).get(Tc(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Je.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...k(this,qt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Kx(r,n))}findAll(t={}){return this.getAll().filter(r=>Kx(t,r))}notify(t){Je.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Je.batch(()=>Promise.all(t.map(r=>r.continue().catch(or))))}},qt=new WeakMap,kl=new WeakMap,lw);function Tc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Qx(e){return{onFetch:(t,r)=>{var d,f,h,p,v;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=Yj(t.options,t.fetchOptions),y=async(b,j,S)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const N={queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};x(N);const C=await w(N),{maxPages:E}=t.options,T=S?aD:oD;return{pages:T(b.pages,C,E),pageParams:T(b.pageParams,j,E)}};if(s&&o.length){const b=s==="backward",j=b?gD:Xx,S={pages:o,pageParams:i},N=j(n,S);l=await y(S,N,b)}else{const b=e??o.length;do{const j=c===0?i[0]??n.initialPageParam:Xx(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Xx(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function gD(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var We,Gn,Qn,ha,ma,Xn,pa,ga,cw,vD=(cw=class{constructor(e={}){ee(this,We);ee(this,Gn);ee(this,Qn);ee(this,ha);ee(this,ma);ee(this,Xn);ee(this,pa);ee(this,ga);H(this,We,e.queryCache||new hD),H(this,Gn,e.mutationCache||new pD),H(this,Qn,e.defaultOptions||{}),H(this,ha,new Map),H(this,ma,new Map),H(this,Xn,0)}mount(){lc(this,Xn)._++,k(this,Xn)===1&&(H(this,pa,Bg.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,We).onFocus())})),H(this,ga,Bu.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,We).onOnline())})))}unmount(){var e,t;lc(this,Xn)._--,k(this,Xn)===0&&((e=k(this,pa))==null||e.call(this),H(this,pa,void 0),(t=k(this,ga))==null||t.call(this),H(this,ga,void 0))}isFetching(e){return k(this,We).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,Gn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,We).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=k(this,We).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(sa(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return k(this,We).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=k(this,We).get(n.queryHash),o=s==null?void 0:s.state.data,i=nD(t,o);if(i!==void 0)return k(this,We).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Je.batch(()=>k(this,We).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,We).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=k(this,We);Je.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=k(this,We),n={type:"active",...e};return Je.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Je.batch(()=>k(this,We).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(or).catch(or)}invalidateQueries(e={},t={}){return Je.batch(()=>{if(k(this,We).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Je.batch(()=>k(this,We).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(or)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(or)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=k(this,We).build(this,t);return r.isStaleByTime(sa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(or).catch(or)}fetchInfiniteQuery(e){return e.behavior=Qx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(or).catch(or)}ensureInfiniteQueryData(e){return e.behavior=Qx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Bu.isOnline()?k(this,Gn).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,We)}getMutationCache(){return k(this,Gn)}getDefaultOptions(){return k(this,Qn)}setDefaultOptions(e){H(this,Qn,e)}setQueryDefaults(e,t){k(this,ha).set(ao(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,ha).values()];let r={};return t.forEach(n=>{pl(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){k(this,ma).set(ao(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,ma).values()];let r={};return t.forEach(n=>{pl(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,Qn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Ug&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,Qn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,We).clear(),k(this,Gn).clear()}},We=new WeakMap,Gn=new WeakMap,Qn=new WeakMap,ha=new WeakMap,ma=new WeakMap,Xn=new WeakMap,pa=new WeakMap,ga=new WeakMap,cw),Rt,me,Cl,yt,Ys,va,Jn,Vr,El,xa,ya,Gs,Qs,Zn,wa,_e,Ri,Fm,zm,Um,Bm,Wm,qm,Vm,tS,uw,xD=(uw=class extends Ja{constructor(t,r){super();ee(this,_e);ee(this,Rt);ee(this,me);ee(this,Cl);ee(this,yt);ee(this,Ys);ee(this,va);ee(this,Jn);ee(this,Vr);ee(this,El);ee(this,xa);ee(this,ya);ee(this,Gs);ee(this,Qs);ee(this,Zn);ee(this,wa,new Set);this.options=r,H(this,Rt,t),H(this,Vr,null),H(this,Jn,$m()),this.options.experimental_prefetchInRender||k(this,Jn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,me).addObserver(this),Jx(k(this,me),this.options)?ue(this,_e,Ri).call(this):this.updateResult(),ue(this,_e,Bm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hm(k(this,me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hm(k(this,me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,_e,Wm).call(this),ue(this,_e,qm).call(this),k(this,me).removeObserver(this)}setOptions(t,r){const n=this.options,s=k(this,me);if(this.options=k(this,Rt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _r(this.options.enabled,k(this,me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,_e,Vm).call(this),k(this,me).setOptions(this.options),n._defaulted&&!Uu(this.options,n)&&k(this,Rt).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,me),observer:this});const o=this.hasListeners();o&&Zx(k(this,me),s,this.options,n)&&ue(this,_e,Ri).call(this),this.updateResult(r),o&&(k(this,me)!==s||_r(this.options.enabled,k(this,me))!==_r(n.enabled,k(this,me))||sa(this.options.staleTime,k(this,me))!==sa(n.staleTime,k(this,me)))&&ue(this,_e,Fm).call(this);const i=ue(this,_e,zm).call(this);o&&(k(this,me)!==s||_r(this.options.enabled,k(this,me))!==_r(n.enabled,k(this,me))||i!==k(this,Zn))&&ue(this,_e,Um).call(this,i)}getOptimisticResult(t){const r=k(this,Rt).getQueryCache().build(k(this,Rt),t),n=this.createResult(r,t);return wD(this,n)&&(H(this,yt,n),H(this,va,this.options),H(this,Ys,k(this,me).state)),n}getCurrentResult(){return k(this,yt)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){k(this,wa).add(t)}getCurrentQuery(){return k(this,me)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=k(this,Rt).defaultQueryOptions(t),n=k(this,Rt).getQueryCache().build(k(this,Rt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ue(this,_e,Ri).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,yt)))}createResult(t,r){var E;const n=k(this,me),s=this.options,o=k(this,yt),i=k(this,Ys),l=k(this,va),u=t!==n?t.state:k(this,Cl),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const T=this.hasListeners(),R=!T&&Jx(t,r),L=T&&Zx(t,n,r,s);(R||L)&&(f={...f,...Zj(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:x}=f;if(r.select&&f.data!==void 0)if(o&&f.data===(i==null?void 0:i.data)&&r.select===k(this,El))p=k(this,xa);else try{H(this,El,r.select),p=r.select(f.data),p=Lm(o==null?void 0:o.data,p,r),H(this,xa,p),H(this,Vr,null)}catch(T){H(this,Vr,T)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let T;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))T=o.data;else if(T=typeof r.placeholderData=="function"?r.placeholderData((E=k(this,ya))==null?void 0:E.state.data,k(this,ya)):r.placeholderData,r.select&&T!==void 0)try{T=r.select(T),H(this,Vr,null)}catch(R){H(this,Vr,R)}T!==void 0&&(x="success",p=Lm(o==null?void 0:o.data,T,r),h=!0)}k(this,Vr)&&(v=k(this,Vr),p=k(this,xa),g=Date.now(),x="error");const w=f.fetchStatus==="fetching",y=x==="pending",b=x==="error",j=y&&w,S=p!==void 0,C={status:x,fetchStatus:f.fetchStatus,isPending:y,isSuccess:x==="success",isError:b,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:b&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&S,isStale:Wg(t,r),refetch:this.refetch,promise:k(this,Jn)};if(this.options.experimental_prefetchInRender){const T=$=>{C.status==="error"?$.reject(C.error):C.data!==void 0&&$.resolve(C.data)},R=()=>{const $=H(this,Jn,C.promise=$m());T($)},L=k(this,Jn);switch(L.status){case"pending":t.queryHash===n.queryHash&&T(L);break;case"fulfilled":(C.status==="error"||C.data!==L.value)&&R();break;case"rejected":(C.status!=="error"||C.error!==L.reason)&&R();break}}return C}updateResult(t){const r=k(this,yt),n=this.createResult(k(this,me),this.options);if(H(this,Ys,k(this,me).state),H(this,va,this.options),k(this,Ys).data!==void 0&&H(this,ya,k(this,me)),Uu(n,r))return;H(this,yt,n);const s={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!k(this,wa).size)return!0;const c=new Set(l??k(this,wa));return this.options.throwOnError&&c.add("error"),Object.keys(k(this,yt)).some(u=>{const d=u;return k(this,yt)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&o()&&(s.listeners=!0),ue(this,_e,tS).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,_e,Bm).call(this)}},Rt=new WeakMap,me=new WeakMap,Cl=new WeakMap,yt=new WeakMap,Ys=new WeakMap,va=new WeakMap,Jn=new WeakMap,Vr=new WeakMap,El=new WeakMap,xa=new WeakMap,ya=new WeakMap,Gs=new WeakMap,Qs=new WeakMap,Zn=new WeakMap,wa=new WeakMap,_e=new WeakSet,Ri=function(t){ue(this,_e,Vm).call(this);let r=k(this,me).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(or)),r},Fm=function(){ue(this,_e,Wm).call(this);const t=sa(this.options.staleTime,k(this,me));if(oo||k(this,yt).isStale||!Dm(t))return;const n=Hj(k(this,yt).dataUpdatedAt,t)+1;H(this,Gs,setTimeout(()=>{k(this,yt).isStale||this.updateResult()},n))},zm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,me)):this.options.refetchInterval)??!1},Um=function(t){ue(this,_e,qm).call(this),H(this,Zn,t),!(oo||_r(this.options.enabled,k(this,me))===!1||!Dm(k(this,Zn))||k(this,Zn)===0)&&H(this,Qs,setInterval(()=>{(this.options.refetchIntervalInBackground||Bg.isFocused())&&ue(this,_e,Ri).call(this)},k(this,Zn)))},Bm=function(){ue(this,_e,Fm).call(this),ue(this,_e,Um).call(this,ue(this,_e,zm).call(this))},Wm=function(){k(this,Gs)&&(clearTimeout(k(this,Gs)),H(this,Gs,void 0))},qm=function(){k(this,Qs)&&(clearInterval(k(this,Qs)),H(this,Qs,void 0))},Vm=function(){const t=k(this,Rt).getQueryCache().build(k(this,Rt),this.options);if(t===k(this,me))return;const r=k(this,me);H(this,me,t),H(this,Cl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},tS=function(t){Je.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(k(this,yt))}),k(this,Rt).getQueryCache().notify({query:k(this,me),type:"observerResultsUpdated"})})},uw);function yD(e,t){return _r(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Jx(e,t){return yD(e,t)||e.state.data!==void 0&&Hm(e,t,t.refetchOnMount)}function Hm(e,t,r){if(_r(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Wg(e,t)}return!1}function Zx(e,t,r,n){return(e!==t||_r(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Wg(e,r)}function Wg(e,t){return _r(t.enabled,e)!==!1&&e.isStaleByTime(sa(t.staleTime,e))}function wD(e,t){return!Uu(e.getCurrentResult(),t)}var es,ts,Tt,pn,yn,au,Km,dw,bD=(dw=class extends Ja{constructor(r,n){super();ee(this,yn);ee(this,es);ee(this,ts);ee(this,Tt);ee(this,pn);H(this,es,r),this.setOptions(n),this.bindMethods(),ue(this,yn,au).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=k(this,es).defaultMutationOptions(r),Uu(this.options,n)||k(this,es).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Tt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ao(n.mutationKey)!==ao(this.options.mutationKey)?this.reset():((s=k(this,Tt))==null?void 0:s.state.status)==="pending"&&k(this,Tt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=k(this,Tt))==null||r.removeObserver(this)}onMutationUpdate(r){ue(this,yn,au).call(this),ue(this,yn,Km).call(this,r)}getCurrentResult(){return k(this,ts)}reset(){var r;(r=k(this,Tt))==null||r.removeObserver(this),H(this,Tt,void 0),ue(this,yn,au).call(this),ue(this,yn,Km).call(this)}mutate(r,n){var s;return H(this,pn,n),(s=k(this,Tt))==null||s.removeObserver(this),H(this,Tt,k(this,es).getMutationCache().build(k(this,es),this.options)),k(this,Tt).addObserver(this),k(this,Tt).execute(r)}},es=new WeakMap,ts=new WeakMap,Tt=new WeakMap,pn=new WeakMap,yn=new WeakSet,au=function(){var n;const r=((n=k(this,Tt))==null?void 0:n.state)??eS();H(this,ts,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Km=function(r){Je.batch(()=>{var n,s,o,i,l,c,u,d;if(k(this,pn)&&this.hasListeners()){const f=k(this,ts).variables,h=k(this,ts).context;(r==null?void 0:r.type)==="success"?((s=(n=k(this,pn)).onSuccess)==null||s.call(n,r.data,f,h),(i=(o=k(this,pn)).onSettled)==null||i.call(o,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=k(this,pn)).onError)==null||c.call(l,r.error,f,h),(d=(u=k(this,pn)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(k(this,ts))})})},dw),rS=m.createContext(void 0),sn=e=>{const t=m.useContext(rS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jD=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(rS.Provider,{value:e,children:t})),nS=m.createContext(!1),SD=()=>m.useContext(nS);nS.Provider;function _D(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ND=m.createContext(_D()),kD=()=>m.useContext(ND);function sS(e,t){return typeof e=="function"?e(...t):!!e}function oS(){}var CD=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},ED=e=>{m.useEffect(()=>{e.clearReset()},[e])},PD=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&sS(r,[e.error,n]),RD=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},TD=(e,t)=>e.isLoading&&e.isFetching&&!t,AD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ey=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function OD(e,t,r){var d,f,h,p,v;const n=sn(),s=SD(),o=kD(),i=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=s?"isRestoring":"optimistic",RD(i),CD(i,o),ED(o);const l=!n.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(m.useSyncExternalStore(m.useCallback(g=>{const x=s?()=>{}:c.subscribe(Je.batchCalls(g));return c.updateResult(),x},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),AD(i,u))throw ey(i,c,o);if(PD({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,i,u),i.experimental_prefetchInRender&&!oo&&TD(u,s)){const g=l?ey(i,c,o):(v=n.getQueryCache().get(i.queryHash))==null?void 0:v.promise;g==null||g.catch(oS).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Ar(e,t){return OD(e,xD)}function js(e,t){const r=sn(),[n]=m.useState(()=>new bD(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(i=>n.subscribe(Je.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=m.useCallback((i,l)=>{n.mutate(i,l).catch(oS)},[n]);if(s.error&&sS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gl.apply(this,arguments)}var ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ss||(ss={}));const ty="popstate";function MD(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return Ym("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Wu(s)}return ID(t,r,null,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DD(){return Math.random().toString(36).substr(2,8)}function ry(e,t){return{usr:e.state,key:e.key,idx:t}}function Ym(e,t,r,n){return r===void 0&&(r=null),gl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Za(t):t,{state:r,key:t&&t.key||n||DD()})}function Wu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Za(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ID(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=ss.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(gl({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=ss.Pop;let x=d(),w=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:w})}function h(x,w){l=ss.Push;let y=Ym(g.location,x,w);u=d()+1;let b=ry(y,u),j=g.createHref(y);try{i.pushState(b,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}o&&c&&c({action:l,location:g.location,delta:1})}function p(x,w){l=ss.Replace;let y=Ym(g.location,x,w);u=d();let b=ry(y,u),j=g.createHref(y);i.replaceState(b,"",j),o&&c&&c({action:l,location:g.location,delta:0})}function v(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:Wu(x);return y=y.replace(/ $/,"%20"),Ke(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let g={get action(){return l},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ty,f),c=x,()=>{s.removeEventListener(ty,f),c=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let w=v(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(x){return i.go(x)}};return g}var ny;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ny||(ny={}));function LD(e,t,r){return r===void 0&&(r="/"),$D(e,t,r,!1)}function $D(e,t,r,n){let s=typeof t=="string"?Za(t):t,o=qg(s.pathname||"/",r);if(o==null)return null;let i=iS(e);FD(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=QD(o);l=YD(i[c],u,n)}return l}function iS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ke(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=hs([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Ke(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iS(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:HD(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of lS(o.path))s(o,i,c)}),t}function lS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=lS(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function FD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:KD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zD=/^:[\w-]+$/,UD=3,BD=2,WD=1,qD=10,VD=-2,sy=e=>e==="*";function HD(e,t){let r=e.split("/"),n=r.length;return r.some(sy)&&(n+=VD),t&&(n+=BD),r.filter(s=>!sy(s)).reduce((s,o)=>s+(zD.test(o)?UD:o===""?WD:qD),n)}function KD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function YD(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=oy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=oy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:hs([o,f.pathname]),pathnameBase:e4(hs([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=hs([o,f.pathnameBase]))}return i}function oy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=GD(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function GD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),aS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function QD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return aS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function XD(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Za(e):e;return{pathname:r?r.startsWith("/")?r:JD(r,t):t,search:t4(n),hash:r4(s)}}function JD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function eh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Vg(e,t){let r=ZD(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Za(e):(s=gl({},e),Ke(!s.pathname||!s.pathname.includes("?"),eh("?","pathname","search",s)),Ke(!s.pathname||!s.pathname.includes("#"),eh("#","pathname","hash",s)),Ke(!s.search||!s.search.includes("#"),eh("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=XD(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const hs=e=>e.join("/").replace(/\/\/+/g,"/"),e4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function n4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cS=["post","put","patch","delete"];new Set(cS);const s4=["get",...cS];new Set(s4);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vl.apply(this,arguments)}const Kg=m.createContext(null),o4=m.createContext(null),Cs=m.createContext(null),Dd=m.createContext(null),En=m.createContext({outlet:null,matches:[],isDataRoute:!1}),uS=m.createContext(null);function a4(e,t){let{relative:r}=t===void 0?{}:t;ei()||Ke(!1);let{basename:n,navigator:s}=m.useContext(Cs),{hash:o,pathname:i,search:l}=hS(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:hs([n,i])),s.createHref({pathname:c,search:l,hash:o})}function ei(){return m.useContext(Dd)!=null}function on(){return ei()||Ke(!1),m.useContext(Dd).location}function dS(e){m.useContext(Cs).static||m.useLayoutEffect(e)}function Dr(){let{isDataRoute:e}=m.useContext(En);return e?y4():i4()}function i4(){ei()||Ke(!1);let e=m.useContext(Kg),{basename:t,future:r,navigator:n}=m.useContext(Cs),{matches:s}=m.useContext(En),{pathname:o}=on(),i=JSON.stringify(Vg(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return dS(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Hg(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:hs([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function fS(){let{matches:e}=m.useContext(En),t=e[e.length-1];return t?t.params:{}}function hS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Cs),{matches:s}=m.useContext(En),{pathname:o}=on(),i=JSON.stringify(Vg(s,n.v7_relativeSplatPath));return m.useMemo(()=>Hg(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function l4(e,t){return c4(e,t)}function c4(e,t,r,n){ei()||Ke(!1);let{navigator:s}=m.useContext(Cs),{matches:o}=m.useContext(En),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=on(),d;if(t){var f;let x=typeof t=="string"?Za(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ke(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=LD(e,{pathname:p}),g=m4(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:hs([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:hs([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,r,n);return t&&g?m.createElement(Dd.Provider,{value:{location:vl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ss.Pop}},g):g}function u4(){let e=x4(),t=n4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const d4=m.createElement(u4,null);class f4 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(En.Provider,{value:this.props.routeContext},m.createElement(uS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h4(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Kg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(En.Provider,{value:t},n)}function m4(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ke(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,v=!1,g=null,x=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||d4,c&&(u<0&&h===0?(v=!0,x=null):u===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,h+1)),y=()=>{let b;return p?b=g:v?b=x:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,m.createElement(h4,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(f4,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var mS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mS||{}),qu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qu||{});function p4(e){let t=m.useContext(Kg);return t||Ke(!1),t}function g4(e){let t=m.useContext(o4);return t||Ke(!1),t}function v4(e){let t=m.useContext(En);return t||Ke(!1),t}function pS(e){let t=v4(),r=t.matches[t.matches.length-1];return r.route.id||Ke(!1),r.route.id}function x4(){var e;let t=m.useContext(uS),r=g4(qu.UseRouteError),n=pS(qu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function y4(){let{router:e}=p4(mS.UseNavigateStable),t=pS(qu.UseNavigateStable),r=m.useRef(!1);return dS(()=>{r.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,vl({fromRouteId:t},o)))},[e,t])}function Ac(e){let{to:t,replace:r,state:n,relative:s}=e;ei()||Ke(!1);let{future:o,static:i}=m.useContext(Cs),{matches:l}=m.useContext(En),{pathname:c}=on(),u=Dr(),d=Hg(t,Vg(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Wt(e){Ke(!1)}function w4(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ss.Pop,navigator:o,static:i=!1,future:l}=e;ei()&&Ke(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:vl({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Za(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,g=m.useMemo(()=>{let x=qg(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:v},navigationType:s}},[c,d,f,h,p,v,s]);return g==null?null:m.createElement(Cs.Provider,{value:u},m.createElement(Dd.Provider,{children:r,value:g}))}function b4(e){let{children:t,location:r}=e;return l4(Gm(t),r)}new Promise(()=>{});function Gm(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let o=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Gm(n.props.children,o));return}n.type!==Wt&&Ke(!1),!n.props.index||!n.props.children||Ke(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Gm(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(this,arguments)}function j4(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function S4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _4(e,t){return e.button===0&&(!t||t==="_self")&&!S4(e)}function Xm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function N4(e,t){let r=Xm(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const k4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C4="6";try{window.__reactRouterVersion=C4}catch{}const E4="startTransition",ay=Sw[E4];function P4(e){let{basename:t,children:r,future:n,window:s}=e,o=m.useRef();o.current==null&&(o.current=MD({window:s,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&ay?ay(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.createElement(w4,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const R4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oa=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=j4(t,k4),{basename:p}=m.useContext(Cs),v,g=!1;if(typeof u=="string"&&T4.test(u)&&(v=u,R4))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=qg(j.pathname,p);j.origin===b.origin&&S!=null?u=S+j.search+j.hash:g=!0}catch{}let x=a4(u,{relative:s}),w=A4(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||w(b)}return m.createElement("a",Qm({},h,{href:v||x,onClick:g||o?n:y,ref:r,target:c}))});var iy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iy||(iy={}));var ly;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ly||(ly={}));function A4(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Dr(),u=on(),d=hS(e,{relative:i});return m.useCallback(f=>{if(_4(f,r)){f.preventDefault();let h=n!==void 0?n:Wu(u)===Wu(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,o,i,l])}function Yg(e){let t=m.useRef(Xm(e)),r=m.useRef(!1),n=on(),s=m.useMemo(()=>N4(n.search,r.current?null:t.current),[n.search]),o=Dr(),i=m.useCallback((l,c)=>{const u=Xm(typeof l=="function"?l(s):l);r.current=!0,o("?"+u,c)},[o,s]);return[s,i]}const O4="modulepreload",M4=function(e){return"/"+e},cy={},Ct=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=M4(c),c in cy)return;cy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":O4,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},D4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ct(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Gg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class I4 extends Gg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class L4 extends Gg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $4 extends Gg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jm||(Jm={}));var F4=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class z4{constructor(t,{headers:r={},customFetch:n,region:s=Jm.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=D4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return F4(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new I4(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new L4(d);if(!d.ok)throw new $4(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Ot={},Qg={},Id={},$l={},Ld={},$d={},U4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ma=U4();const B4=Ma.fetch,gS=Ma.fetch.bind(Ma),vS=Ma.Headers,W4=Ma.Request,q4=Ma.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:vS,Request:W4,Response:q4,default:gS,fetch:B4},Symbol.toStringTag,{value:"Module"})),V4=C2(ti);var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});let H4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Fd.default=H4;var xS=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($d,"__esModule",{value:!0});const K4=xS(V4),Y4=xS(Fd);let G4=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=K4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,p="OK")}catch{o.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new Y4.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};$d.default=G4;var Q4=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ld,"__esModule",{value:!0});const X4=Q4($d);let J4=class extends X4.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ld.default=J4;var Z4=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($l,"__esModule",{value:!0});const eI=Z4(Ld);let tI=class extends eI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$l.default=tI;var rI=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Id,"__esModule",{value:!0});const Si=rI($l);let nI=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Si.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Si.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Si.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Si.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Si.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Id.default=nI;var zd={},Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});Ud.version=void 0;Ud.version="0.0.0-automated";Object.defineProperty(zd,"__esModule",{value:!0});zd.DEFAULT_HEADERS=void 0;const sI=Ud;zd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sI.version}`};var yS=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qg,"__esModule",{value:!0});const oI=yS(Id),aI=yS($l),iI=zd;let lI=class wS{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},iI.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new oI.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new aI.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Qg.default=lI;var ri=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;const bS=ri(Qg);Ot.PostgrestClient=bS.default;const jS=ri(Id);Ot.PostgrestQueryBuilder=jS.default;const SS=ri($l);Ot.PostgrestFilterBuilder=SS.default;const _S=ri(Ld);Ot.PostgrestTransformBuilder=_S.default;const NS=ri($d);Ot.PostgrestBuilder=NS.default;const kS=ri(Fd);Ot.PostgrestError=kS.default;var cI=Ot.default={PostgrestClient:bS.default,PostgrestQueryBuilder:jS.default,PostgrestFilterBuilder:SS.default,PostgrestTransformBuilder:_S.default,PostgrestBuilder:NS.default,PostgrestError:kS.default};const{PostgrestClient:uI,PostgrestQueryBuilder:FW,PostgrestFilterBuilder:zW,PostgrestTransformBuilder:UW,PostgrestBuilder:BW,PostgrestError:WW}=cI;let Zm;typeof window>"u"?Zm=require("ws"):Zm=window.WebSocket;const dI=Zm,fI="2.11.10",hI={"X-Client-Info":`realtime-js/${fI}`},mI="1.0.0",CS=1e4,pI=1e3;var oa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(oa||(oa={}));var vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vt||(vt={}));var jr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jr||(jr={}));var ep;(function(e){e.websocket="websocket"})(ep||(ep={}));var zs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zs||(zs={}));class gI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class ES{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pe||(Pe={}));const uy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=vI(i,e,t,s),o),{})},vI=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?PS(o,i):tp(i)},PS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return bI(t,r)}switch(e){case Pe.bool:return xI(t);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return yI(t);case Pe.json:case Pe.jsonb:return wI(t);case Pe.timestamp:return jI(t);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return tp(t);default:return tp(t)}},tp=e=>e,xI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},yI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},bI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>PS(t,l))}return e},jI=e=>typeof e=="string"?e.replace(" ","T"):e,RS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class th{constructor(t,r,n={},s=CS){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dy||(dy={}));class qi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=qi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=qi.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),v=d.filter(x=>p.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fy||(fy={}));var hy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hy||(hy={}));var hn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hn||(hn={}));class Xg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new th(this,jr.join,this.params,this.timeout),this.rejoinTimer=new ES(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new qi(this),this.broadcastEndpointURL=RS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(hn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(hn.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(hn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let g=0;g<p;g++){const x=h[g],{filter:{event:w,schema:y,table:b,filter:j}}=x,S=d&&d[g];if(S&&S.event===w&&S.schema===y&&S.table===b&&S.filter===j)v.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=vt.errored,t==null||t(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(hn.SUBSCRIBED);return}}).receive("error",d=>{this.state=vt.errored,t==null||t(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new th(this,jr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new th(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=jr;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,g,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var v,g,x,w,y,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,S=(v=p.filter)===null||v===void 0?void 0:v.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(y=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:x,commit_timestamp:w,type:y,errors:b}=v;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:w,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Xg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jr.close,{},t)}_onError(t){this._on(jr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=uy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=uy(t.columns,t.old_record)),r}}const my=()=>{},SI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _I{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=hI,this.params={},this.timeout=CS,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=my,this.ref=0,this.logger=my,this.conn=null,this.sendBuffer=[],this.serializer=new gI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Ct(async()=>{const{default:c}=await Promise.resolve().then(()=>ti);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${ep.websocket}`,this.httpEndpoint=RS(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ES(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=dI),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new NI(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mI}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case oa.connecting:return zs.Connecting;case oa.open:return zs.Open;case oa.closing:return zs.Closing;default:return zs.Closed}}isConnected(){return this.connectionState()===zs.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Xg(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(jr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(pI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(jr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([SI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class NI{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=oa.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Jg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kI extends Jg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rp extends Jg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var CI=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const TS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ct(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},EI=()=>CI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ct(()=>Promise.resolve().then(()=>ti),void 0)).Response:Response}),np=e=>{if(Array.isArray(e))return e.map(r=>np(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=np(n)}),t};var xo=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const rh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PI=(e,t,r)=>xo(void 0,void 0,void 0,function*(){const n=yield EI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new kI(rh(s),e.status||500))}).catch(s=>{t(new rp(rh(s),s))}):t(new rp(rh(e),e))}),RI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Fl(e,t,r,n,s,o){return xo(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,RI(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>PI(c,l,n))})})}function Vu(e,t,r,n){return xo(this,void 0,void 0,function*(){return Fl(e,"GET",t,r,n)})}function Wn(e,t,r,n,s){return xo(this,void 0,void 0,function*(){return Fl(e,"POST",t,n,s,r)})}function TI(e,t,r,n,s){return xo(this,void 0,void 0,function*(){return Fl(e,"PUT",t,n,s,r)})}function AI(e,t,r,n){return xo(this,void 0,void 0,function*(){return Fl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function AS(e,t,r,n,s){return xo(this,void 0,void 0,function*(){return Fl(e,"DELETE",t,n,s,r)})}var Pt=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const OI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},py={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MI{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=TS(s)}uploadOrUpdate(t,r,n,s){return Pt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},py),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(et(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Pt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:py.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(et(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Wn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Jg("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}update(t,r,n){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Pt(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Pt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Wn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Pt(this,void 0,void 0,function*(){try{const s=yield Wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}download(t,r){return Pt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Vu(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(et(l))return{data:null,error:l};throw l}})}info(t){return Pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Vu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:np(n),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}exists(t){return Pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield AI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(et(n)&&n instanceof rp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Pt(this,void 0,void 0,function*(){try{return{data:yield AS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}list(t,r,n){return Pt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},OI),r),{prefix:t||""});return{data:yield Wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const DI="2.7.1",II={"X-Client-Info":`storage-js/${DI}`};var No=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class LI{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},II),r),this.fetch=TS(n)}listBuckets(){return No(this,void 0,void 0,function*(){try{return{data:yield Vu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}getBucket(t){return No(this,void 0,void 0,function*(){try{return{data:yield Vu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return No(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return No(this,void 0,void 0,function*(){try{return{data:yield TI(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}emptyBucket(t){return No(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}deleteBucket(t){return No(this,void 0,void 0,function*(){try{return{data:yield AS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}}class $I extends LI{constructor(t,r={},n){super(t,r,n)}from(t){return new MI(this.url,this.headers,t,this.fetch)}}const FI="2.50.0";let Ti="";typeof Deno<"u"?Ti="deno":typeof document<"u"?Ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ti="react-native":Ti="node";const zI={"X-Client-Info":`supabase-js-${Ti}/${FI}`},UI={headers:zI},BI={schema:"public"},WI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qI={};var VI=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const HI=e=>{let t;return e?t=e:typeof fetch>"u"?t=gS:t=fetch,(...r)=>t(...r)},KI=()=>typeof Headers>"u"?vS:Headers,YI=(e,t,r)=>{const n=HI(r),s=KI();return(o,i)=>VI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var GI=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function QI(e){return e.endsWith("/")?e:e+"/"}function XI(e,t){var r,n;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>GI(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const OS="2.70.0",Mo=30*1e3,sp=3,nh=sp*Mo,JI="http://localhost:9999",ZI="supabase.auth.token",e5={"X-Client-Info":`gotrue-js/${OS}`},op="X-Supabase-Api-Version",MS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,r5=6e5;class Zg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class n5 extends Zg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function s5(e){return oe(e)&&e.name==="AuthApiError"}class DS extends Zg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Es extends Zg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Fn extends Es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function o5(e){return oe(e)&&e.name==="AuthSessionMissingError"}class Oc extends Es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mc extends Es{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dc extends Es{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function a5(e){return oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class gy extends Es{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ap extends Es{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function sh(e){return oe(e)&&e.name==="AuthRetryableFetchError"}class vy extends Es{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Vi extends Es{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xy=` 	
\r=`.split(""),i5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xy.length;t+=1)e[xy[t].charCodeAt(0)]=-2;for(let t=0;t<Hu.length;t+=1)e[Hu[t].charCodeAt(0)]=t;return e})();function yy(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Hu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Hu[n]),t.queuedBits-=6}}function IS(e,t,r){const n=i5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{u5(i,n,r)};for(let i=0;i<e.length;i+=1)IS(e.charCodeAt(i),s,o);return t.join("")}function l5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function c5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}l5(n,t)}}function u5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function d5(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)IS(e.charCodeAt(s),r,n);return new Uint8Array(t)}function f5(e){const t=[];return c5(e,r=>t.push(r)),new Uint8Array(t)}function h5(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>yy(s,r,n)),yy(null,r,n),t.join("")}function m5(e){return Math.round(Date.now()/1e3)+e}function p5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vr=()=>typeof window<"u"&&typeof document<"u",Ds={tested:!1,writable:!1},Hi=()=>{if(!vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ds.tested)return Ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ds.tested=!0,Ds.writable=!0}catch{Ds.tested=!0,Ds.writable=!1}return Ds.writable};function g5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const LS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ct(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},v5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$S=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ic=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lc=async(e,t)=>{await e.removeItem(t)};class Bd{constructor(){this.promise=new Bd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bd.promiseConstructor=Promise;function oh(e){const t=e.split(".");if(t.length!==3)throw new Vi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!t5.test(t[n]))throw new Vi("JWT not in base64url format");return{header:JSON.parse(wy(t[0])),payload:JSON.parse(wy(t[1])),signature:d5(t[2]),raw:{header:t[0],payload:t[1]}}}async function x5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function y5(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function w5(e){return("0"+e.toString(16)).substr(-2)}function b5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,w5).join("")}async function j5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function S5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await j5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ko(e,t,r=!1){const n=b5();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await $S(e,`${t}-code-verifier`,s);const o=await S5(n);return[o,n===o?"plain":"s256"]}const _5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N5(e){const t=e.headers.get(op);if(!t||!t.match(_5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function k5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function C5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const E5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Co(e){if(!E5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var P5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const $s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),R5=[502,503,504];async function by(e){var t;if(!v5(e))throw new ap($s(e),0);if(R5.includes(e.status))throw new ap($s(e),e.status);let r;try{r=await e.json()}catch(o){throw new DS($s(o),o)}let n;const s=N5(e);if(s&&s.getTime()>=MS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vy($s(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Fn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new vy($s(r),e.status,r.weak_password.reasons);throw new n5($s(r),e.status||500,n)}const T5=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function de(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[op]||(o[op]=MS["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await A5(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function A5(e,t,r,n,s,o){const i=T5(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new ap($s(c),0)}if(l.ok||await by(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await by(c)}}function dn(e){var t;let r=null;I5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=m5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function jy(e){const t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function O5(e){return{data:e,error:null}}function M5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=P5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function D5(e){return e}function I5(e){return e.access_token&&e.refresh_token&&e.expires_in}const ah=["global","local","others"];var L5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class $5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=LS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ah[0]){if(ah.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ah.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hn})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=L5(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:M5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hn})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:D5});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Co(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hn})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Co(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hn})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Co(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hn})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Co(t.userId);try{const{data:r,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Co(t.userId),Co(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}}const F5={getItem:e=>Hi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Hi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Hi()&&globalThis.localStorage.removeItem(e)}};function Sy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function z5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Eo={debug:!!(globalThis&&Hi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class FS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class U5 extends FS{}async function B5(e,t,r){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new U5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Eo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}z5();const W5={url:JI,storageKey:ZI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _y(e,t,r){return await r()}class xl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xl.nextInstanceID,xl.nextInstanceID+=1,this.instanceID>0&&vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},W5),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=LS(s.fetch),this.lock=s.lock||_y,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:vr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=B5:this.lock=_y,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Hi()?this.storage=F5:(this.memoryStorage={},this.storage=Sy(this.memoryStorage)):(this.memoryStorage={},this.storage=Sy(this.memoryStorage)),vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${OS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=g5(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),vr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),a5(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?{error:r}:{error:new DS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:dn}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ko(this.storage,this.storageKey)),o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:dn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:dn})}else throw new Mc("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jy})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jy})}else throw new Mc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Oc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,o,i,l,c,u,d,f,h,p;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:x,wallet:w,statement:y,options:b}=t;let j;if(vr())if(typeof w=="object")j=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=w}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:x,error:w}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:h5(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:dn});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Oc}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(oe(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await Ic(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:dn});if(await Lc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Oc}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(oe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:dn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Oc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ko(this.storage,this.storageKey));const{error:f}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Mc("You must provide either an email or phone number.")}catch(l){if(oe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:dn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await ko(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:O5})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Fn;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(oe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Mc("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ic(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<nh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fn}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Hn})})}catch(r){if(oe(r))return o5(r)&&(await this._removeSession(),await Lc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Fn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ko(this.storage,this.storageKey));const{data:u,error:d}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Hn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fn;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=oh(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Fn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!vr())throw new Dc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gy("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new Dc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:g,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(oe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ic(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(s5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Lc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=p5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ko(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return vr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(oe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await y5(async s=>(s>0&&await x5(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&sh(o)&&Date.now()+i-n<Mo})}catch(n){if(this._debug(r,"error",n),oe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ic(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<nh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${nh}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),sh(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bd;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Fn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),oe(o)){const i={session:null,error:o};return sh(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await $S(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Lc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mo}ms, refresh threshold is ${sp} ticks`),s<=sp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof FS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await ko(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await de(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=oh(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+r5>Date.now()))return n;const{data:s,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Vi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new Vi("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=oh(n);if(k5(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=C5(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,f5(`${l}.${c}`)))throw new Vi("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}}xl.nextInstanceID=0;const q5=xl;class V5 extends q5{constructor(t){super(t)}}var H5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class K5{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=QI(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:BI,realtime:qI,auth:Object.assign(Object.assign({},WI),{storageKey:u}),global:UI},f=XI(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=YI(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new uI(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new z4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $I(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return H5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new V5({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new _I(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y5=(e,t,r)=>new K5(e,t,r),G5="https://rigurrwjiaucodxuuzeh.supabase.co",Q5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ3VycndqaWF1Y29keHV1emVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDI1NTYsImV4cCI6MjA2NTMxODU1Nn0.nr5QAlB0UyA3VQWXolIsc8lXXzwj0Ur6Nj-ddr7f7AQ",q=Y5(G5,Q5),zS=m.createContext(void 0),US=()=>{const e=m.useContext(zS);if(!e)throw new Error("useOrganization must be used within an OrganizationProvider");return e},X5=["admin","auth","create-organization","login","terms-of-service","privacy-policy"],J5=e=>{const t=e.split("/").filter(r=>r);return t[0]==="admin"&&t.length>1&&t[1]!=="login"||t[0]==="org"&&t.length>1?t[1]:t.length>0&&!X5.includes(t[0])?t[0]:null},Z5=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(!0),[o,i]=m.useState(null),l=on(),c=async()=>{s(!0),i(null);try{const u=J5(l.pathname);if(!u){r(null),s(!1);return}const{data:d,error:f}=await q.from("organizations").select("*").eq("slug",u).single();f?(f.code==="PGRST116"?i("Organization not found"):i(f.message||"Failed to load organization"),r(null)):(r(d),i(null))}catch(u){i(u.message||"An unexpected error occurred"),r(null)}finally{s(!1)}};return m.useEffect(()=>{c()},[l.pathname]),a.jsx(zS.Provider,{value:{organization:t,loading:n,error:o,refreshOrganization:c},children:e})},e3=async e=>{var t;try{console.log("Checking user roles for:",e),await new Promise(c=>setTimeout(c,100));const{data:r,error:n}=await q.rpc("get_current_user_admin_status");n&&console.error("Error checking admin status:",n);const{data:s,error:o}=await q.from("organization_users").select("organization_id, role, organizations(slug)").eq("user_id",e).single();o&&o.code!=="PGRST116"&&console.error("Error checking org memberships:",o);const i=!!r,l=!!(s!=null&&s.organization_id);return console.log("User roles determined:",{isAdmin:i,hasOrgRole:l,orgData:s}),{isAdmin:i,isOrgAdmin:l,currentOrganization:(s==null?void 0:s.organization_id)||null,currentOrganizationSlug:((t=s==null?void 0:s.organizations)==null?void 0:t.slug)||null}}catch(r){return console.error("Error checking user roles:",r),{isAdmin:!1,isOrgAdmin:!1,currentOrganization:null,currentOrganizationSlug:null}}},t3=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(null),[s,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState(!0);return m.useEffect(()=>{let v=!0,g;const x=async y=>{try{const b=await e3(y);v&&(o(b.isAdmin),l(b.isOrgAdmin),u(b.currentOrganization),f(b.currentOrganizationSlug),p(!1))}catch(b){console.error("Error updating user roles:",b),v&&p(!1)}},{data:{subscription:w}}=q.auth.onAuthStateChange(async(y,b)=>{var j;v&&(console.log("Auth state change in useAuthState:",y,(j=b==null?void 0:b.user)==null?void 0:j.email),n(b),t((b==null?void 0:b.user)??null),g&&clearTimeout(g),b!=null&&b.user?g=setTimeout(()=>{v&&x(b.user.id)},200):(o(!1),l(!1),u(null),f(null),p(!1)))});return q.auth.getSession().then(({data:{session:y}})=>{var b;v&&(console.log("Initial session check:",(b=y==null?void 0:y.user)==null?void 0:b.email),n(y),t((y==null?void 0:y.user)??null),y!=null&&y.user?x(y.user.id):p(!1))}),()=>{v=!1,g&&clearTimeout(g),w.unsubscribe()}},[]),{user:e,session:r,isAdmin:s,isOrgAdmin:i,currentOrganization:c,currentOrganizationSlug:d,loading:h}},r3=()=>q.supabaseKey||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ3VycndqaWF1Y29keHV1emVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDI1NTYsImV4cCI6MjA2NTMxODU1Nn0.nr5QAlB0UyA3VQWXolIsc8lXXzwj0Ur6Nj-ddr7f7AQ",BS=e=>{const t=window.location.origin,r=r3(),n=e.includes("?")?"&":"?";return`${t}${e}${n}apikey=${r}`};class Ki{static getBaseUrl(){return window.location.origin}static async signUp(t,r){try{const n=BS("/auth-callback?type=signup"),{data:s,error:o}=await q.auth.signUp({email:t,password:r,options:{emailRedirectTo:n}});return{data:s,error:o}}catch(n){return console.error("Sign up error:",n),{data:null,error:n}}}static async signIn(t,r){try{const{data:n,error:s}=await q.auth.signInWithPassword({email:t,password:r});return{data:n,error:s}}catch(n){return console.error("Sign in error:",n),{data:null,error:n}}}static async resetPassword(t){try{const{data:r,error:n}=await q.functions.invoke("send-password-reset",{body:{email:t}});return n?(console.error("Password reset error:",n),{data:null,error:n}):{data:r,error:null}}catch(r){return console.error("Password reset error:",r),{data:null,error:r}}}static async updatePassword(t){try{const{data:r,error:n}=await q.auth.updateUser({password:t});return{data:r,error:n}}catch(r){return console.error("Update password error:",r),{data:null,error:r}}}static async signOut(){try{this.cleanupAuthState();const{error:t}=await q.auth.signOut({scope:"global"});return window.location.href="/auth",{error:t}}catch(t){return console.error("Sign out error:",t),window.location.href="/auth",{error:t}}}static cleanupAuthState(){localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&localStorage.removeItem(t)}),Object.keys(sessionStorage||{}).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&sessionStorage.removeItem(t)})}static async handlePostAuthRedirect(t){var r;try{console.log("Determining redirect path for user:",t.email),await new Promise(c=>setTimeout(c,1e3));let n=null,s=0;const o=3;for(;!n&&s<o;){s++,console.log(`Checking organization membership, attempt ${s}`);const{data:c,error:u}=await q.from("organization_users").select("organization_id, organizations(slug)").eq("user_id",t.id).limit(1);if(u&&console.error("Error checking organization membership:",u),c&&c.length>0){n=c;break}s<o&&await new Promise(d=>setTimeout(d,1e3))}if(n&&n.length>0){const c=(r=n[0].organizations)==null?void 0:r.slug;if(c)return console.log("User has organization, redirecting to:",`/admin/${c}`),`/admin/${c}`}const{data:i,error:l}=await q.rpc("get_current_user_admin_status");return l&&console.error("Error checking admin status:",l),i?(console.log("User is system admin, redirecting to:","/admin"),"/admin"):(console.log("No organization found, redirecting to:","/create-organization"),"/create-organization")}catch(n){return console.error("Post-auth redirect error:",n),"/create-organization"}}}const WS=m.createContext(void 0),Pn=()=>{const e=m.useContext(WS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},n3=({children:e})=>{const t=t3(),r=async(c,u)=>{console.log("Starting sign in process"),Ki.cleanupAuthState();try{const{error:d}=await q.auth.signInWithPassword({email:c,password:u});return d?(console.error("Sign in error:",d),{error:d}):(console.log("Sign in successful, waiting for auth state update"),{error:null})}catch(d){return console.error("Sign in error:",d),{error:d}}},n=async(c,u)=>{try{const d=BS("/auth-callback?type=signup"),{error:f}=await q.auth.signUp({email:c,password:u,options:{emailRedirectTo:d}});return{error:f}}catch(d){return console.error("Sign up error:",d),{error:d}}},s=async c=>{try{return await Ki.resetPassword(c)}catch(u){return console.error("Password reset error:",u),{error:u}}},o=async c=>{try{const{error:u}=await q.auth.updateUser({password:c});return{error:u}}catch(u){return console.error("Update password error:",u),{error:u}}},i=async()=>{try{Ki.cleanupAuthState(),await q.auth.signOut({scope:"global"}),window.location.href="/auth"}catch(c){console.error("Sign out error:",c),window.location.href="/auth"}},l=async()=>{t.user&&console.log("Refreshing user roles for:",t.user.id)};return a.jsx(WS.Provider,{value:{...t,signIn:r,signUp:n,signOut:i,resetPassword:s,updatePassword:o,refreshUserRoles:l},children:e})},ih=({children:e,requireAdmin:t=!1,requireOrgAdmin:r=!1})=>{const[n,s]=m.useState(!1);try{const{user:o,isAdmin:i,isOrgAdmin:l,loading:c}=Pn();return m.useEffect(()=>{if(!c&&(!o||t&&!i||r&&!l&&!i)){const u=setTimeout(()=>s(!0),100);return()=>clearTimeout(u)}},[c,o,i,l,t,r]),c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):o?t&&!i?n?a.jsx(Ac,{to:"/",replace:!0}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):r&&!l&&!i?n?a.jsx(Ac,{to:"/",replace:!0}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):a.jsx(a.Fragment,{children:e}):a.jsx(Ac,{to:"/auth",replace:!0})}catch(o){return console.error("Auth context not available:",o),a.jsx(Ac,{to:"/auth",replace:!0})}},ge=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:O("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ge.displayName="Card";const rt=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:O("flex flex-col space-y-1.5 p-6",e),...t}));rt.displayName="CardHeader";const nt=m.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:O("text-2xl font-semibold leading-none tracking-tight",e),...t}));nt.displayName="CardTitle";const yl=m.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:O("text-sm text-muted-foreground",e),...t}));yl.displayName="CardDescription";const ve=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:O("p-6 pt-0",e),...t}));ve.displayName="CardContent";const s3=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:O("flex items-center p-6 pt-0",e),...t}));s3.displayName="CardFooter";const wl=go("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 shadow-lg backdrop-blur-sm",{variants:{variant:{default:"bg-gradient-to-r from-orange-400 to-orange-500 text-white hover:from-orange-500 hover:to-orange-600 shadow-orange-500/25",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-sunset-500 text-sunset-500 bg-transparent hover:bg-sunset-500 hover:text-white",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-8 py-3 text-base font-semibold",sm:"h-10 rounded-full px-6 text-sm",lg:"h-14 rounded-full px-10 py-4 text-lg font-bold",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),J=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?St:"button";return a.jsx(i,{className:O(wl({variant:t,size:r,className:e})),ref:o,...s})});J.displayName="Button";const pe=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:O("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));pe.displayName="Input";var o3="Label",qS=m.forwardRef((e,t)=>a.jsx(V.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));qS.displayName=o3;var VS=qS;const a3=go("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=m.forwardRef(({className:e,...t},r)=>a.jsx(VS,{ref:r,className:O(a3(),e),...t}));ce.displayName=VS.displayName;function i3(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:p,...v}=f,g=(h==null?void 0:h[e][c])||l,x=m.useMemo(()=>v,Object.values(v));return a.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,v=m.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,l3(s,...t)]}function l3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var c3=m.createContext(void 0);function Ps(e){const t=m.useContext(c3);return e||t||"ltr"}var lh="rovingFocusGroup.onEntryFocus",u3={bubbles:!1,cancelable:!0},Wd="RovingFocusGroup",[ip,HS,d3]=qa(Wd),[f3,ni]=i3(Wd,[d3]),[h3,m3]=f3(Wd),KS=m.forwardRef((e,t)=>a.jsx(ip.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(ip.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(p3,{...e,ref:t})})}));KS.displayName=Wd;var p3=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=te(t,h),v=Ps(o),[g=null,x]=_t({prop:i,defaultProp:l,onChange:c}),[w,y]=m.useState(!1),b=Fe(u),j=HS(r),S=m.useRef(!1),[N,C]=m.useState(0);return m.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(lh,b),()=>E.removeEventListener(lh,b)},[b]),a.jsx(h3,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(E=>x(E),[x]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>C(E=>E-1),[]),children:a.jsx(V.div,{tabIndex:w||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:D(e.onMouseDown,()=>{S.current=!0}),onFocus:D(e.onFocus,E=>{const T=!S.current;if(E.target===E.currentTarget&&T&&!w){const R=new CustomEvent(lh,u3);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const L=j().filter(U=>U.focusable),$=L.find(U=>U.active),K=L.find(U=>U.id===g),G=[$,K,...L].filter(Boolean).map(U=>U.ref.current);QS(G,d)}}S.current=!1}),onBlur:D(e.onBlur,()=>y(!1))})})}),YS="RovingFocusGroupItem",GS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,l=Ft(),c=o||l,u=m3(YS,r),d=u.currentTabStopId===c,f=HS(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),a.jsx(ip.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(V.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:D(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:D(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:D(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=x3(v,u.orientation,u.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=f().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const y=w.indexOf(v.currentTarget);w=u.loop?y3(w,y+1):w.slice(y+1)}setTimeout(()=>QS(w))}})})})});GS.displayName=YS;var g3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function v3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function x3(e,t,r){const n=v3(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return g3[n]}function QS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function y3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ev=KS,tv=GS,rv="Tabs",[w3,qW]=ut(rv,[ni]),XS=ni(),[b3,nv]=w3(rv),JS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ps(l),[f,h]=_t({prop:n,onChange:s,defaultProp:o});return a.jsx(b3,{scope:r,baseId:Ft(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:a.jsx(V.div,{dir:d,"data-orientation":i,...u,ref:t})})});JS.displayName=rv;var ZS="TabsList",e_=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=nv(ZS,r),i=XS(r);return a.jsx(ev,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(V.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});e_.displayName=ZS;var t_="TabsTrigger",r_=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=nv(t_,r),l=XS(r),c=o_(i.baseId,n),u=a_(i.baseId,n),d=n===i.value;return a.jsx(tv,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(V.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:D(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:D(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:D(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});r_.displayName=t_;var n_="TabsContent",s_=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,l=nv(n_,r),c=o_(l.baseId,n),u=a_(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Qe,{present:s||d,children:({present:h})=>a.jsx(V.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});s_.displayName=n_;function o_(e,t){return`${e}-trigger-${t}`}function a_(e,t){return`${e}-content-${t}`}var j3=JS,i_=e_,l_=r_,c_=s_;const zl=j3,Ul=m.forwardRef(({className:e,...t},r)=>a.jsx(i_,{ref:r,className:O("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ul.displayName=i_.displayName;const cr=m.forwardRef(({className:e,...t},r)=>a.jsx(l_,{ref:r,className:O("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));cr.displayName=l_.displayName;const qe=m.forwardRef(({className:e,...t},r)=>a.jsx(c_,{ref:r,className:O("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));qe.displayName=c_.displayName;const S3=go("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Yt=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:O(S3({variant:t}),e),...r}));Yt.displayName="Alert";const u_=m.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:O("mb-1 font-medium leading-none tracking-tight",e),...t}));u_.displayName="AlertTitle";const Gt=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:O("text-sm [&_p]:leading-relaxed",e),...t}));Gt.displayName="AlertDescription";const _3=()=>js({mutationFn:async({email:e})=>{var t,r,n,s;console.log("Sending password reset request for:",e);try{const{data:o,error:i}=await q.functions.invoke("send-password-reset",{body:{email:e.trim().toLowerCase()}});if(console.log("Password reset function response:",{data:o,error:i}),i){if(console.error("Supabase function invoke error:",i),(t=i.message)!=null&&t.includes("NetworkError")||(r=i.message)!=null&&r.includes("Failed to fetch"))throw new Error("Network error: Please check your internet connection and try again");if((n=i.message)!=null&&n.includes("FunctionsError")||(s=i.message)!=null&&s.includes("non-2xx status code")){const l=(o==null?void 0:o.error)||"Service error occurred. Please try again.";throw new Error(l)}throw new Error(i.message||"Failed to send password reset request")}if(!o)throw console.error("No data returned from password reset function"),new Error("No response received from server");if(typeof o=="object"&&o!==null&&"success"in o){const l=o;if(l.success===!1)throw console.error("Password reset failed:",l.error),new Error(l.error||"Failed to send password reset email");return console.log("Password reset successful:",l),l}return console.log("Password reset completed with response:",o),{success:!0,message:"Password reset email sent successfully"}}catch(o){console.error("Password reset error:",o);const i=o.message||"Failed to send password reset email. Please try again.";throw new Error(i)}},onSuccess:e=>{Ce.success(e.message||"Password reset email sent! Check your inbox for instructions.")},onError:e=>{console.error("Password reset mutation error:",e);const t=e.message||"Failed to send password reset email";Ce.error(t)}});function N3(){const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,o]=m.useState(!1),[i,l]=m.useState(""),[c,u]=m.useState(!1),{signIn:d,signUp:f,updatePassword:h}=Pn(),p=_3(),v=Dr(),{toast:g}=rn(),[x]=Yg(),w=async S=>{S.preventDefault(),o(!0),l(""),console.log("Starting sign in process for:",e);const{error:N}=await d(e,r);if(N){l(N.message),o(!1);return}g({title:"Welcome back!",description:"You have been signed in successfully."}),console.log("Sign in successful, waiting for session..."),setTimeout(async()=>{try{const{data:{session:C}}=await q.auth.getSession();if(C!=null&&C.user){console.log("Session found, determining redirect path...");const E=await Ki.handlePostAuthRedirect(C.user);console.log("Redirecting to:",E),v(E)}else console.log("No session found after sign in, redirecting to auth"),v("/auth")}catch(C){console.error("Post-signin redirection error:",C),v("/")}finally{o(!1)}},1e3)},y=async S=>{S.preventDefault(),o(!0),l("");const{error:N}=await f(e,r);if(N){l(N.message),o(!1);return}g({title:"Account created!",description:"Please check your email to verify your account."}),o(!1)},b=async S=>{S.preventDefault(),o(!0),l("");try{await p.mutateAsync({email:e}),u(!1)}catch(N){l(N.message||"Failed to send password reset email")}finally{o(!1)}},j=async S=>{o(!0),l("");const{error:N}=await h(S);if(N){l(N.message),o(!1);return}g({title:"Password updated!",description:"Your password has been successfully updated."}),v("/"),o(!1)};return{email:e,setEmail:t,password:r,setPassword:n,loading:s||p.isPending,error:i,setError:l,showForgotPassword:c,setShowForgotPassword:u,handleSignIn:w,handleSignUp:y,handleForgotPassword:b,handleNewPassword:j,isPasswordReset:x.get("reset")==="true"}}const k3=()=>{const{email:e,setEmail:t,password:r,setPassword:n,loading:s,error:o,handleSignIn:i,handleSignUp:l,handleForgotPassword:c,handleNewPassword:u,showForgotPassword:d,setShowForgotPassword:f,isPasswordReset:h}=N3(),[p]=Yg(),[v,g]=m.useState(!1),[x,w]=m.useState(""),[y,b]=m.useState(""),[j,S]=m.useState(""),N=p.get("setup-password")==="true",C=p.get("org"),E=p.get("email");m.useEffect(()=>{N&&E&&t(decodeURIComponent(E))},[N,E,t]);const T=R=>{if(R.preventDefault(),x!==y){S("Passwords do not match");return}if(x.length<6){S("Password must be at least 6 characters");return}S(""),u(x)};return N?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(ge,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs(rt,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(Yr,{className:"h-8 w-8"})}),a.jsx(nt,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Set Your Password"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Complete your invitation to join the organization"}),C&&a.jsxs("p",{className:"text-sm text-sunset-600 font-medium",children:["Organization: ",C]})]}),a.jsx(ve,{children:a.jsxs("form",{onSubmit:T,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"invited-email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(pe,{id:"invited-email",type:"email",value:e,disabled:!0,className:"bg-gray-50 border-warm-gray-200 text-base cursor-not-allowed"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ce,{htmlFor:"new-password",className:"font-medium text-warm-gray-700",children:"Create Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(pe,{id:"new-password",type:v?"text":"password",value:x,onChange:R=>w(R.target.value),required:!0,placeholder:"Create your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!v),children:v?a.jsx(Ec,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Ko,{className:"h-4 w-4 text-warm-gray-400"})})]}),a.jsx("p",{className:"text-xs text-warm-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"confirm-password",className:"font-medium text-warm-gray-700",children:"Confirm Password"}),a.jsx(pe,{id:"confirm-password",type:"password",value:y,onChange:R=>b(R.target.value),required:!0,placeholder:"Confirm your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),j&&a.jsx(Yt,{className:"bg-red-50 border border-red-200",children:a.jsx(Gt,{className:"text-red-700",children:j})}),a.jsx(J,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Setting up...":"Complete Setup"})]})})]})})}):h?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(Oa,{to:"/auth",className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),a.jsxs(ge,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs(rt,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(Yr,{className:"h-8 w-8"})}),a.jsx(nt,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Set New Password"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Enter your new password below"})]}),a.jsx(ve,{children:a.jsxs("form",{onSubmit:T,className:"space-y-5",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ce,{htmlFor:"new-password",className:"font-medium text-warm-gray-700",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(pe,{id:"new-password",type:v?"text":"password",value:x,onChange:R=>w(R.target.value),required:!0,placeholder:"Enter new password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!v),children:v?a.jsx(Ec,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Ko,{className:"h-4 w-4 text-warm-gray-400"})})]})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"confirm-password",className:"font-medium text-warm-gray-700",children:"Confirm Password"}),a.jsx(pe,{id:"confirm-password",type:"password",value:y,onChange:R=>b(R.target.value),required:!0,placeholder:"Confirm new password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),j&&a.jsx(Yt,{className:"bg-red-50 border border-red-200",children:a.jsx(Gt,{className:"text-red-700",children:j})}),a.jsx(J,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Updating...":"Update Password"})]})})]})]})}):d?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("button",{onClick:()=>f(!1),className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),a.jsxs(ge,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs(rt,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(Yr,{className:"h-8 w-8"})}),a.jsx(nt,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Reset Password"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Enter your email to receive reset instructions"})]}),a.jsx(ve,{children:a.jsxs("form",{onSubmit:c,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"reset-email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(pe,{id:"reset-email",type:"email",value:e,onChange:R=>t(R.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),o&&a.jsx(Yt,{className:"bg-red-50 border border-red-200",children:a.jsx(Gt,{className:"text-red-700",children:o})}),a.jsx(J,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Sending...":"Send Reset Link"})]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(Oa,{to:"/",className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs(ge,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs(rt,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(Yr,{className:"h-8 w-8"})}),a.jsx(nt,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Welcome to Pulsify"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Sign in to your organization account"})]}),a.jsx(ve,{children:a.jsxs(zl,{defaultValue:"signin",className:"w-full",children:[a.jsxs(Ul,{className:"grid w-full grid-cols-2 mb-6 bg-warm-gray-100/80 border border-warm-gray-200 rounded-lg shadow-sm",children:[a.jsx(cr,{value:"signin",className:"font-semibold text-warm-gray-700",children:"Sign In"}),a.jsx(cr,{value:"signup",className:"font-semibold text-warm-gray-700",children:"Sign Up"})]}),a.jsx(qe,{value:"signin",children:a.jsxs("form",{onSubmit:i,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(pe,{id:"email",type:"email",value:e,onChange:R=>t(R.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ce,{htmlFor:"password",className:"font-medium text-warm-gray-700",children:"Password"}),a.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-sm text-sunset-500 hover:text-sunset-600 font-medium transition-colors",children:"Forgot password?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(pe,{id:"password",type:v?"text":"password",value:r,onChange:R=>n(R.target.value),required:!0,placeholder:"Enter your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!v),children:v?a.jsx(Ec,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Ko,{className:"h-4 w-4 text-warm-gray-400"})})]})]}),o&&a.jsx(Yt,{className:"bg-red-50 border border-red-200",children:a.jsx(Gt,{className:"text-red-700",children:o})}),a.jsx(J,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Signing in...":"Sign In"})]})}),a.jsx(qe,{value:"signup",children:a.jsxs("form",{onSubmit:l,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"signup-email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(pe,{id:"signup-email",type:"email",value:e,onChange:R=>t(R.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"signup-password",className:"font-medium text-warm-gray-700",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(pe,{id:"signup-password",type:v?"text":"password",value:r,onChange:R=>n(R.target.value),required:!0,placeholder:"Create a password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!v),children:v?a.jsx(Ec,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Ko,{className:"h-4 w-4 text-warm-gray-400"})})]}),a.jsx("p",{className:"text-xs text-warm-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),o&&a.jsx(Yt,{className:"bg-red-50 border border-red-200",children:a.jsx(Gt,{className:"text-red-700",children:o})}),a.jsx(J,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Creating account...":"Sign Up"}),a.jsx("div",{className:"text-xs text-center text-warm-gray-400 mt-3",children:"After verifying your email, your organization will be created in the next step."})]})})]})})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("span",{className:"text-xs flex items-center justify-center gap-2 text-warm-gray-400",children:[a.jsx(vs,{className:"w-3 h-3 text-sunset-500"}),"Real Insights. Real Impact."]})})]})})},C3=()=>a.jsx(k3,{}),E3=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,o]=m.useState(!1),[i,l]=m.useState(""),{signIn:c}=Pn(),u=Dr(),{toast:d}=rn(),f=async h=>{h.preventDefault(),o(!0),l("");const{error:p}=await c(e,r);if(p)l(p.message),o(!1);else{try{const{data:{session:v}}=await q.auth.getSession();if(v!=null&&v.user){const{data:g,error:x}=await q.rpc("get_current_user_admin_status");if(x){console.error("Error checking admin status:",x),l("Failed to verify admin privileges"),o(!1);return}g?(d({title:"Welcome back, Admin!",description:"You have been signed in successfully."}),u("/admin")):(l("Access denied. This login is for system administrators only."),await q.auth.signOut())}else l("Authentication failed. Please try again.")}catch(v){console.error("Error during admin verification:",v),l("Failed to verify admin privileges")}o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(Oa,{to:"/",className:"inline-flex items-center text-slate-300 hover:text-white mb-8 transition-colors",children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs(ge,{className:"bg-slate-800 border-slate-700",children:[a.jsxs(rt,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center text-red-600 mb-4",children:a.jsx(Ka,{className:"h-8 w-8"})}),a.jsx(nt,{className:"text-2xl font-bold text-white",children:"System Administrator"}),a.jsx("p",{className:"text-slate-400",children:"Sign in to access the admin dashboard"})]}),a.jsxs(ve,{children:[a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"email",className:"text-slate-300",children:"Email"}),a.jsx(pe,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"admin@example.com"})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"password",className:"text-slate-300",children:"Password"}),a.jsx(pe,{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"Enter your password"})]}),i&&a.jsx(Yt,{className:"bg-red-900 border-red-700",children:a.jsx(Gt,{className:"text-red-200",children:i})}),a.jsx(J,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:s,children:s?"Signing in...":"Sign In as Admin"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-slate-400 text-sm",children:["Not an admin? ",a.jsx(Oa,{to:"/auth",className:"text-blue-400 hover:text-blue-300",children:"User Login"})]})})]})]})]})})},P3=e=>{const t=["auth-callback","auth","admin","api","callback","login","signup"],r=/^[a-z0-9]+(?:-[a-z0-9]+)*$/;return e&&e.length>=2&&e.length<=50&&!t.includes(e)&&r.test(e)},ch=async e=>{try{if(console.log("getOrganizationBySlug - Fetching slug:",e),!P3(e))return console.log("getOrganizationBySlug - Invalid slug format:",e),null;const{data:t,error:r}=await q.from("organizations").select("*").eq("slug",e).eq("is_active",!0).maybeSingle();if(r)return console.error("getOrganizationBySlug - Supabase error:",r),null;if(t&&t.logo_storage_path&&!t.logo_url){const{data:{publicUrl:n}}=q.storage.from("organization-logos").getPublicUrl(t.logo_storage_path);await q.from("organizations").update({logo_url:n}).eq("id",t.id),t.logo_url=n}return console.log("getOrganizationBySlug - Result:",t),t}catch(t){return console.error("getOrganizationBySlug - Network error:",t),e==="police-sacco"?(console.log("getOrganizationBySlug - Returning fallback police-sacco data"),{id:"fallback-police-sacco",name:"Kenya National Police DT SACCO",slug:"police-sacco",primary_color:"#073763",secondary_color:"#007ACE",is_active:!0,logo_url:"/lovable-uploads/367347fe-02da-4338-b8ba-91138293d303.png",feedback_header_title:"Share Your Experience",feedback_header_subtitle:"Help us serve you better with your valuable feedback",welcome_screen_title:"Share Your Experience",welcome_screen_description:"Help us serve you better with your valuable feedback. Your input helps us improve our services and better serve our community.",thank_you_title:"Thank You for Your Feedback!",thank_you_message:"Your valuable feedback has been received and will help us improve our services.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):null}},R3=async e=>{try{console.log("getOrganizationByDomain - Fetching domain:",e);const{data:t,error:r}=await q.from("organizations").select("*").eq("domain",e).eq("is_active",!0).maybeSingle();return r?(console.error("getOrganizationByDomain - Supabase error:",r),null):(console.log("getOrganizationByDomain - Result:",t),t)}catch(t){return console.error("getOrganizationByDomain - Network error:",t),null}},T3=async()=>{try{const{data:e,error:t}=await q.from("organizations").select("*").order("name");return t?(console.error("Error fetching organizations:",t),[]):e||[]}catch(e){return console.error("Error fetching organizations:",e),[]}},A3=async e=>{try{const{data:{user:t}}=await q.auth.getUser();let r="starter";(e.plan_type==="pro"||e.plan_type==="enterprise")&&(r=e.plan_type);const n={...e,created_by_user_id:(t==null?void 0:t.id)||e.created_by_user_id,is_active:!0,primary_color:e.primary_color||"#007ACE",secondary_color:e.secondary_color||"#073763",plan_type:r,max_responses:e.max_responses||100,features_config:e.features_config||null,trial_ends_at:e.trial_ends_at||null},{data:s,error:o}=await q.from("organizations").insert(n).select().single();return o?(console.error("Error creating organization:",o),null):(s!=null&&s.id&&(t!=null&&t.id)&&await q.from("organization_audit_log").insert({organization_id:s.id,action:"create_organization",performed_by:t.id,new_value:s}),s)}catch(t){return console.error("Error creating organization:",t),null}},d_=async(e,t)=>{try{const{plan_type:r,...n}=t;let s={...n};r!==void 0&&(r==="starter"||r==="pro"||r==="enterprise"?s.plan_type=r:s.plan_type="starter");const{data:o,error:i}=await q.from("organizations").update(s).eq("id",e).select().single();return i?(console.error("Error updating organization:",i),null):o}catch(r){return console.error("Error updating organization:",r),null}},O3=async e=>{try{const{data:t,error:r}=await q.from("organization_assets").select("*").eq("organization_id",e).eq("is_active",!0).order("display_order").order("created_at");return r?(console.error("Error fetching organization assets:",r),[]):t||[]}catch(t){return console.error("Error fetching organization assets:",t),[]}},M3=async e=>{try{const{data:t,error:r}=await q.from("organization_themes").select("*").eq("organization_id",e).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();return r?(console.error("Error fetching organization theme:",r),null):t}catch(t){return console.error("Error fetching organization theme:",t),null}},D3=({onClose:e,onSubmit:t})=>{const[r,n]=m.useState({name:"",slug:"",domain:"",logo_url:"",primary_color:"#007ACE",secondary_color:"#073763",plan_type:"starter",trial_ends_at:"",billing_email:"",max_responses:100,features_config:void 0}),[s,o]=m.useState(!1),[i,l]=m.useState(""),c=f=>{if(f.preventDefault(),!r.name||!r.slug)return;let h;try{i.trim()&&(h=JSON.parse(i))}catch{alert("Invalid JSON in Feature Overrides!");return}t({...r,features_config:h,trial_ends_at:r.trial_ends_at?new Date(r.trial_ends_at).toISOString():void 0})},u=f=>f.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),d=f=>{n(h=>({...h,name:f,slug:u(f)}))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs(ge,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(rt,{children:a.jsx(nt,{children:"Create New Organization"})}),a.jsx(ve,{children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"name",children:"Organization Name *"}),a.jsx(pe,{id:"name",value:r.name,onChange:f=>d(f.target.value),placeholder:"Enter organization name",required:!0})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"slug",children:"URL Slug *"}),a.jsx(pe,{id:"slug",value:r.slug,onChange:f=>n(h=>({...h,slug:f.target.value})),placeholder:"url-friendly-name",required:!0}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Will be accessible at /",r.slug]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"domain",children:"Custom Domain"}),a.jsx(pe,{id:"domain",value:r.domain,onChange:f=>n(h=>({...h,domain:f.target.value})),placeholder:"feedback.yourcompany.com"})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"billing_email",children:"Billing Email"}),a.jsx(pe,{id:"billing_email",type:"email",value:r.billing_email,onChange:f=>n(h=>({...h,billing_email:f.target.value})),placeholder:"billing@company.com"})]})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"logo_url",children:"Logo URL"}),a.jsx(pe,{id:"logo_url",value:r.logo_url,onChange:f=>n(h=>({...h,logo_url:f.target.value})),placeholder:"https://example.com/logo.png"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"primary_color",children:"Primary Color"}),a.jsx(pe,{id:"primary_color",type:"color",value:r.primary_color,onChange:f=>n(h=>({...h,primary_color:f.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"secondary_color",children:"Secondary Color"}),a.jsx(pe,{id:"secondary_color",type:"color",value:r.secondary_color,onChange:f=>n(h=>({...h,secondary_color:f.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"max_responses",children:"Max Responses"}),a.jsx(pe,{id:"max_responses",type:"number",value:r.max_responses,onChange:f=>n(h=>({...h,max_responses:parseInt(f.target.value)||100})),min:"1"})]})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"plan_type",children:"Plan Type / Tier"}),a.jsxs("select",{id:"plan_type",value:r.plan_type,onChange:f=>n(h=>({...h,plan_type:f.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("div",{children:[a.jsx(ce,{htmlFor:"trial_ends_at",children:"Trial Ends At"}),a.jsx(pe,{id:"trial_ends_at",type:"datetime-local",value:r.trial_ends_at||"",onChange:f=>n(h=>({...h,trial_ends_at:f.target.value})),placeholder:"Trial end date"})]}),a.jsxs("div",{children:[a.jsx(J,{type:"button",variant:"outline",className:"w-full",onClick:()=>o(f=>!f),children:s?"Hide Feature Overrides":"Show Feature Overrides (Advanced)"}),s&&a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx(ce,{htmlFor:"features_override",children:"Feature Overrides (JSON)"}),a.jsx("textarea",{id:"features_override",className:"w-full min-h-[120px] border rounded p-2 font-mono text-xs",placeholder:'e.g. { "analytics": true, "modules": {"settings": false} }',value:i,onChange:f=>l(f.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Advanced: Override plan tier settings on a per-feature basis."})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(J,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),a.jsx(J,{type:"submit",children:"Create Organization"})]})]})})]})})},I3=()=>Ar({queryKey:["system-user-management"],queryFn:async()=>{const{data:e,error:t}=await q.functions.invoke("system-user-management");if(t){if(t.context&&typeof t.context.json=="function")try{const n=await t.context.json();if(n.error)throw new Error(n.error)}catch{}throw new Error(`Failed to fetch system user data: ${t.message}`)}return{...e,users:((e==null?void 0:e.users)||[]).map(n=>({...n,organization_user_created_at:n.organization_user_created_at??n.created_at??null,role:n.enhanced_role||n.role||"member"})),invitations:((e==null?void 0:e.invitations)||[]).map(n=>({...n,role:n.enhanced_role||n.role||"member"}))}},staleTime:5*60*1e3}),L3=()=>{const e=sn();return js({mutationFn:async({userId:t,email:r,organizationId:n,role:s})=>{const{data:o,error:i}=await q.functions.invoke("assign-user-to-org",{body:{user_id:t,organization_id:n,role:s}});if(i){if(i.context&&typeof i.context.json=="function")try{const l=await i.context.json();if(l.error)throw new Error(l.error)}catch{}throw new Error(i.message||"An unknown error occurred.")}return o},onSuccess:()=>{e.invalidateQueries({queryKey:["system-user-management"]})}})},$3=()=>{const e=sn();return js({mutationFn:async()=>{const{data:t,error:r}=await q.functions.invoke("admin-approve-invitations");if(r){if(r.context&&typeof r.context.json=="function")try{const n=await r.context.json();if(n.error)throw new Error(n.error)}catch{}throw new Error(r.message)}return t},onSuccess:()=>{e.invalidateQueries({queryKey:["system-user-management"]})}})},Bl=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:O("w-full caption-bottom text-sm",e),...t})}));Bl.displayName="Table";const Wl=m.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:O("[&_tr]:border-b",e),...t}));Wl.displayName="TableHeader";const ql=m.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:O("[&_tr:last-child]:border-0",e),...t}));ql.displayName="TableBody";const F3=m.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:O("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));F3.displayName="TableFooter";const kn=m.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:O("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));kn.displayName="TableRow";const De=m.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:O("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));De.displayName="TableHead";const Ie=m.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:O("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ie.displayName="TableCell";const z3=m.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:O("mt-4 text-sm text-muted-foreground",e),...t}));z3.displayName="TableCaption";const U3=go("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function er({className:e,variant:t,...r}){return a.jsx("div",{className:O(U3({variant:t}),e),...r})}const io={owner:{variant:"destructive",icon:ZT,label:"Owner",description:"Full access including billing and organization management",level:6},admin:{variant:"default",icon:Ka,label:"Admin",description:"Full access except billing and ownership changes",level:5},manager:{variant:"secondary",icon:Ra,label:"Manager",description:"Team management and question creation",level:4},analyst:{variant:"outline",icon:Jr,label:"Analyst",description:"Analytics access and data export",level:3},member:{variant:"secondary",icon:Pg,label:"Member",description:"Basic access to view analytics",level:2},viewer:{variant:"outline",icon:Ko,label:"Viewer",description:"Read-only access to basic analytics",level:1}},lp=e=>{const t=io[e]||io.member;return{variant:t.variant,icon:t.icon,label:t.label,description:t.description,level:t.level}},sv=(e,t)=>{var s,o;const r=((s=io[e])==null?void 0:s.level)||0,n=((o=io[t])==null?void 0:o.level)||0;return r>n},B3=e=>{var r;const t=((r=io[e])==null?void 0:r.level)||0;return Object.entries(io).filter(([,n])=>n.level<t).map(([n])=>n)},ov=(e,t)=>{var o;const r=((o=io[e])==null?void 0:o.level)||0,s={view_analytics:1,export_data:3,manage_questions:3,manage_users:4,manage_integrations:5,manage_organization:5,manage_billing:6}[t]||6;return r>=s},qd=({role:e,showDescription:t=!1})=>{const{variant:r,icon:n,label:s,description:o}=lp(e);return a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs(er,{variant:r,className:"flex items-center gap-1 w-fit",children:[a.jsx(n,{className:"w-3 h-3"}),s]}),t&&a.jsx("span",{className:"text-xs text-gray-500",children:o})]})},W3=({users:e,onAssignUser:t})=>e.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found in the system."}):a.jsx("div",{className:"rounded-md border",children:a.jsxs(Bl,{children:[a.jsx(Wl,{children:a.jsxs(kn,{children:[a.jsx(De,{children:"Email"}),a.jsx(De,{children:"Organization"}),a.jsx(De,{children:"Role"}),a.jsx(De,{children:"Status"}),a.jsx(De,{children:"Joined"}),a.jsx(De,{className:"w-[100px]",children:"Actions"})]})}),a.jsx(ql,{children:e.map(r=>a.jsxs(kn,{children:[a.jsx(Ie,{className:"font-medium",children:r.email}),a.jsx(Ie,{children:r.organizations?a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:r.organizations.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["/",r.organizations.slug]})]}):a.jsx("span",{className:"text-gray-400",children:"No organization"})}),a.jsx(Ie,{children:a.jsx(qd,{role:r.role})}),a.jsx(Ie,{children:a.jsx(er,{variant:r.status==="active"?"default":"secondary",children:r.status})}),a.jsx(Ie,{children:r.organization_user_created_at?new Date(r.organization_user_created_at).toLocaleDateString():new Date(r.created_at).toLocaleDateString()}),a.jsx(Ie,{children:a.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>t(r),className:"flex items-center gap-2",children:[a.jsx(Eg,{className:"w-4 h-4"}),"Assign"]})})]},`${r.user_id}-${r.organization_id}`))})]})}),q3=e=>e.split("@")[0].slice(0,2).toUpperCase(),f_=e=>{const t=new Date(e),r=new Date;return(t.getTime()-r.getTime())/(1e3*60*60)<=24},Ku=e=>new Date(e).toLocaleDateString(),V3=e=>e==="active"?"default":"secondary",H3=({invitations:e})=>e.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Iu,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{children:"No pending invitations found."})]}):a.jsx("div",{className:"rounded-md border",children:a.jsxs(Bl,{children:[a.jsx(Wl,{children:a.jsxs(kn,{children:[a.jsx(De,{children:"Email"}),a.jsx(De,{children:"Organization"}),a.jsx(De,{children:"Role"}),a.jsx(De,{children:"Status"}),a.jsx(De,{children:"Expires"}),a.jsx(De,{children:"Created"})]})}),a.jsx(ql,{children:e.map(t=>{const r=f_(t.expires_at);return a.jsxs(kn,{children:[a.jsx(Ie,{className:"font-medium",children:t.email}),a.jsx(Ie,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:t.organizations.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["/",t.organizations.slug]})]})}),a.jsx(Ie,{children:a.jsx(qd,{role:t.role})}),a.jsx(Ie,{children:a.jsx(er,{variant:"secondary",children:t.status})}),a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:r?"text-red-600":"",children:new Date(t.expires_at).toLocaleDateString()}),r&&a.jsxs(er,{variant:"destructive",className:"flex items-center gap-1",children:[a.jsx(Ea,{className:"w-3 h-3"}),"Soon"]})]})}),a.jsx(Ie,{children:new Date(t.created_at).toLocaleDateString()})]},t.id)})})]})}),bl=({size:e="md",text:t="Loading...",className:r=""})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return a.jsxs("div",{className:`flex items-center justify-center space-x-2 ${r}`,children:[a.jsx(nj,{className:`animate-spin ${n[e]}`}),t&&a.jsx("span",{className:"text-gray-600",children:t})]})};var uh="focusScope.autoFocusOnMount",dh="focusScope.autoFocusOnUnmount",Ny={bubbles:!1,cancelable:!0},K3="FocusScope",Vl=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=Fe(s),d=Fe(o),f=m.useRef(null),h=te(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:zn(f.current,{select:!0})},x=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||zn(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&zn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const y=new MutationObserver(w);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){Cy.add(p);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(uh,Ny);l.addEventListener(uh,u),l.dispatchEvent(w),w.defaultPrevented||(Y3(Z3(h_(l)),{select:!0}),document.activeElement===g&&zn(l))}return()=>{l.removeEventListener(uh,u),setTimeout(()=>{const w=new CustomEvent(dh,Ny);l.addEventListener(dh,d),l.dispatchEvent(w),w.defaultPrevented||zn(g??document.body,{select:!0}),l.removeEventListener(dh,d),Cy.remove(p)},0)}}},[l,u,d,p]);const v=m.useCallback(g=>{if(!r&&!n||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(x&&w){const y=g.currentTarget,[b,j]=G3(y);b&&j?!g.shiftKey&&w===j?(g.preventDefault(),r&&zn(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),r&&zn(j,{select:!0})):w===y&&g.preventDefault()}},[r,n,p.paused]);return a.jsx(V.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});Vl.displayName=K3;function Y3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(zn(n,{select:t}),document.activeElement!==r)return}function G3(e){const t=h_(e),r=ky(t,e),n=ky(t.reverse(),e);return[r,n]}function h_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ky(e,t){for(const r of e)if(!Q3(r,{upTo:t}))return r}function Q3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function X3(e){return e instanceof HTMLInputElement&&"select"in e}function zn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&X3(e)&&t&&e.select()}}var Cy=J3();function J3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ey(e,t),e.unshift(t)},remove(t){var r;e=Ey(e,t),(r=e[0])==null||r.resume()}}}function Ey(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Z3(e){return e.filter(t=>t.tagName!=="A")}var fh=0;function Vd(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Py()),document.body.insertAdjacentElement("beforeend",e[1]??Py()),fh++,()=>{fh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fh--}},[])}function Py(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kr=function(){return Kr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Kr.apply(this,arguments)};function m_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function eL(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var iu="right-scroll-bar-position",lu="width-before-scroll-bar",tL="with-scroll-bars-hidden",rL="--removed-body-scroll-bar-size";function hh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nL(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var sL=typeof window<"u"?m.useLayoutEffect:m.useEffect,Ry=new WeakMap;function oL(e,t){var r=nL(null,function(n){return e.forEach(function(s){return hh(s,n)})});return sL(function(){var n=Ry.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||hh(l,null)}),o.forEach(function(l){s.has(l)||hh(l,i)})}Ry.set(r,e)},[e]),r}function aL(e){return e}function iL(e,t){t===void 0&&(t=aL);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function lL(e){e===void 0&&(e={});var t=iL(null);return t.options=Kr({async:!0,ssr:!1},e),t}var p_=function(e){var t=e.sideCar,r=m_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Kr({},r))};p_.isSideCarExport=!0;function cL(e,t){return e.useMedium(t),p_}var g_=lL(),mh=function(){},Hd=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:mh,onWheelCapture:mh,onTouchMoveCapture:mh}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,v=e.inert,g=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,y=e.gapMode,b=m_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=oL([r,t]),N=Kr(Kr({},b),s);return m.createElement(m.Fragment,null,d&&m.createElement(j,{sideCar:g_,removeScrollBar:u,shards:f,noIsolation:p,inert:v,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:y}),i?m.cloneElement(m.Children.only(l),Kr(Kr({},N),{ref:S})):m.createElement(w,Kr({},N,{className:c,ref:S}),l))});Hd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hd.classNames={fullWidth:lu,zeroRight:iu};var uL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=uL();return t&&e.setAttribute("nonce",t),e}function fL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mL=function(){var e=0,t=null;return{add:function(r){e==0&&(t=dL())&&(fL(t,r),hL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},pL=function(){var e=mL();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},v_=function(){var e=pL(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},gL={left:0,top:0,right:0,gap:0},ph=function(e){return parseInt(e||"",10)||0},vL=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ph(r),ph(n),ph(s)]},xL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gL;var t=vL(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},yL=v_(),aa="data-scroll-locked",wL=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(tL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(aa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(iu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(lu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(iu," .").concat(iu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lu," .").concat(lu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(aa,`] {
    `).concat(rL,": ").concat(l,`px;
  }
`)},Ty=function(){var e=parseInt(document.body.getAttribute(aa)||"0",10);return isFinite(e)?e:0},bL=function(){m.useEffect(function(){return document.body.setAttribute(aa,(Ty()+1).toString()),function(){var e=Ty()-1;e<=0?document.body.removeAttribute(aa):document.body.setAttribute(aa,e.toString())}},[])},jL=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;bL();var o=m.useMemo(function(){return xL(s)},[s]);return m.createElement(yL,{styles:wL(o,!t,s,r?"":"!important")})},cp=!1;if(typeof window<"u")try{var $c=Object.defineProperty({},"passive",{get:function(){return cp=!0,!0}});window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{cp=!1}var Po=cp?{passive:!1}:!1,SL=function(e){return e.tagName==="TEXTAREA"},x_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!SL(e)&&r[t]==="visible")},_L=function(e){return x_(e,"overflowY")},NL=function(e){return x_(e,"overflowX")},Ay=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=y_(e,n);if(s){var o=w_(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},kL=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},CL=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},y_=function(e,t){return e==="v"?_L(t):NL(t)},w_=function(e,t){return e==="v"?kL(t):CL(t)},EL=function(e,t){return e==="h"&&t==="rtl"?-1:1},PL=function(e,t,r,n,s){var o=EL(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var p=w_(e,l),v=p[0],g=p[1],x=p[2],w=g-x-o*v;(v||w)&&y_(e,l)&&(f+=w,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Fc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Oy=function(e){return[e.deltaX,e.deltaY]},My=function(e){return e&&"current"in e?e.current:e},RL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},AL=0,Ro=[];function OL(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(AL++)[0],o=m.useState(v_)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=eL([e.lockRef.current],(e.shards||[]).map(My),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var w=Fc(g),y=r.current,b="deltaX"in g?g.deltaX:y[0]-w[0],j="deltaY"in g?g.deltaY:y[1]-w[1],S,N=g.target,C=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&C==="h"&&N.type==="range")return!1;var E=Ay(C,N);if(!E)return!0;if(E?S=C:(S=C==="v"?"h":"v",E=Ay(C,N)),!E)return!1;if(!n.current&&"changedTouches"in g&&(b||j)&&(n.current=S),!S)return!0;var T=n.current||S;return PL(T,x,g,T==="h"?b:j,!0)},[]),c=m.useCallback(function(g){var x=g;if(!(!Ro.length||Ro[Ro.length-1]!==o)){var w="deltaY"in x?Oy(x):Fc(x),y=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&RL(S.delta,w)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(i.current.shards||[]).map(My).filter(Boolean).filter(function(S){return S.contains(x.target)}),j=b.length>0?l(x,b[0]):!i.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=m.useCallback(function(g,x,w,y){var b={name:g,delta:x,target:w,should:y,shadowParent:ML(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=m.useCallback(function(g){r.current=Fc(g),n.current=void 0},[]),f=m.useCallback(function(g){u(g.type,Oy(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,Fc(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return Ro.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Po),document.addEventListener("touchmove",c,Po),document.addEventListener("touchstart",d,Po),function(){Ro=Ro.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,Po),document.removeEventListener("touchmove",c,Po),document.removeEventListener("touchstart",d,Po)}},[]);var p=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(o,{styles:TL(s)}):null,p?m.createElement(jL,{gapMode:e.gapMode}):null)}function ML(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const DL=cL(g_,OL);var Hl=m.forwardRef(function(e,t){return m.createElement(Hd,Kr({},e,{ref:t,sideCar:DL}))});Hl.classNames=Hd.classNames;var IL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},To=new WeakMap,zc=new WeakMap,Uc={},gh=0,b_=function(e){return e&&(e.host||b_(e.parentNode))},LL=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=b_(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},$L=function(e,t,r,n){var s=LL(t,Array.isArray(e)?e:[e]);Uc[r]||(Uc[r]=new WeakMap);var o=Uc[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",g=(To.get(h)||0)+1,x=(o.get(h)||0)+1;To.set(h,g),o.set(h,x),i.push(h),g===1&&v&&zc.set(h,!0),x===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),l.clear(),gh++,function(){i.forEach(function(f){var h=To.get(f)-1,p=o.get(f)-1;To.set(f,h),o.set(f,p),h||(zc.has(f)||f.removeAttribute(n),zc.delete(f)),p||f.removeAttribute(r)}),gh--,gh||(To=new WeakMap,To=new WeakMap,zc=new WeakMap,Uc={})}},Kd=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=IL(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),$L(n,s,r,"aria-hidden")):function(){return null}},av="Dialog",[j_,S_]=ut(av),[FL,Ir]=j_(av),__=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=_t({prop:n,defaultProp:s,onChange:o});return a.jsx(FL,{scope:t,triggerRef:l,contentRef:c,contentId:Ft(),titleId:Ft(),descriptionId:Ft(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};__.displayName=av;var N_="DialogTrigger",k_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ir(N_,r),o=te(t,s.triggerRef);return a.jsx(V.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":cv(s.open),...n,ref:o,onClick:D(e.onClick,s.onOpenToggle)})});k_.displayName=N_;var iv="DialogPortal",[zL,C_]=j_(iv,{forceMount:void 0}),E_=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Ir(iv,t);return a.jsx(zL,{scope:t,forceMount:r,children:m.Children.map(n,i=>a.jsx(Qe,{present:r||o.open,children:a.jsx(Va,{asChild:!0,container:s,children:i})}))})};E_.displayName=iv;var Yu="DialogOverlay",P_=m.forwardRef((e,t)=>{const r=C_(Yu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Ir(Yu,e.__scopeDialog);return o.modal?a.jsx(Qe,{present:n||o.open,children:a.jsx(UL,{...s,ref:t})}):null});P_.displayName=Yu;var UL=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ir(Yu,r);return a.jsx(Hl,{as:St,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(V.div,{"data-state":cv(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),lo="DialogContent",R_=m.forwardRef((e,t)=>{const r=C_(lo,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Ir(lo,e.__scopeDialog);return a.jsx(Qe,{present:n||o.open,children:o.modal?a.jsx(BL,{...s,ref:t}):a.jsx(WL,{...s,ref:t})})});R_.displayName=lo;var BL=m.forwardRef((e,t)=>{const r=Ir(lo,e.__scopeDialog),n=m.useRef(null),s=te(t,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return Kd(o)},[]),a.jsx(T_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:D(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:D(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:D(e.onFocusOutside,o=>o.preventDefault())})}),WL=m.forwardRef((e,t)=>{const r=Ir(lo,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(T_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),T_=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Ir(lo,r),c=m.useRef(null),u=te(t,c);return Vd(),a.jsxs(a.Fragment,{children:[a.jsx(Vl,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(po,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(VL,{titleId:l.titleId}),a.jsx(KL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),lv="DialogTitle",A_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ir(lv,r);return a.jsx(V.h2,{id:s.titleId,...n,ref:t})});A_.displayName=lv;var O_="DialogDescription",M_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ir(O_,r);return a.jsx(V.p,{id:s.descriptionId,...n,ref:t})});M_.displayName=O_;var D_="DialogClose",I_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ir(D_,r);return a.jsx(V.button,{type:"button",...n,ref:t,onClick:D(e.onClick,()=>s.onOpenChange(!1))})});I_.displayName=D_;function cv(e){return e?"open":"closed"}var L_="DialogTitleWarning",[qL,$_]=cT(L_,{contentName:lo,titleName:lv,docsSlug:"dialog"}),VL=({titleId:e})=>{const t=$_(L_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},HL="DialogDescriptionWarning",KL=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$_(HL).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},uv=__,F_=k_,dv=E_,Kl=P_,Yl=R_,Gl=A_,Ql=M_,Xl=I_;const Jl=uv,z_=F_,YL=dv,VW=Xl,U_=m.forwardRef(({className:e,...t},r)=>a.jsx(Kl,{ref:r,className:O("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));U_.displayName=Kl.displayName;const si=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(YL,{children:[a.jsx(U_,{}),a.jsxs(Yl,{ref:n,className:O("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Xl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Ya,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));si.displayName=Yl.displayName;const oi=({className:e,...t})=>a.jsx("div",{className:O("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});oi.displayName="DialogHeader";const GL=({className:e,...t})=>a.jsx("div",{className:O("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});GL.displayName="DialogFooter";const ai=m.forwardRef(({className:e,...t},r)=>a.jsx(Gl,{ref:r,className:O("text-lg font-semibold leading-none tracking-tight",e),...t}));ai.displayName=Gl.displayName;const QL=m.forwardRef(({className:e,...t},r)=>a.jsx(Ql,{ref:r,className:O("text-sm text-muted-foreground",e),...t}));QL.displayName=Ql.displayName;function jl(e,[t,r]){return Math.min(r,Math.max(t,e))}function Yd(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var XL=[" ","Enter","ArrowUp","ArrowDown"],JL=[" ","Enter"],Zl="Select",[Gd,Qd,ZL]=qa(Zl),[ii,HW]=ut(Zl,[ZL,ks]),Xd=ks(),[e6,Rs]=ii(Zl),[t6,r6]=ii(Zl),B_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,g=Xd(t),[x,w]=m.useState(null),[y,b]=m.useState(null),[j,S]=m.useState(!1),N=Ps(u),[C=!1,E]=_t({prop:n,defaultProp:s,onChange:o}),[T,R]=_t({prop:i,defaultProp:l,onChange:c}),L=m.useRef(null),$=x?v||!!x.closest("form"):!0,[K,I]=m.useState(new Set),G=Array.from(K).map(U=>U.props.value).join(";");return a.jsx(Ed,{...g,children:a.jsxs(e6,{required:p,scope:t,trigger:x,onTriggerChange:w,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Ft(),value:T,onValueChange:R,open:C,onOpenChange:E,dir:N,triggerPointerDownPosRef:L,disabled:h,children:[a.jsx(Gd.Provider,{scope:t,children:a.jsx(t6,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(U=>{I(M=>new Set(M).add(U))},[]),onNativeOptionRemove:m.useCallback(U=>{I(M=>{const _=new Set(M);return _.delete(U),_})},[]),children:r})}),$?a.jsxs(hN,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:U=>R(U.target.value),disabled:h,form:v,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(K)]},G):null]})})};B_.displayName=Zl;var W_="SelectTrigger",q_=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Xd(r),i=Rs(W_,r),l=i.disabled||n,c=te(t,i.onTriggerChange),u=Qd(r),d=m.useRef("touch"),[f,h,p]=mN(g=>{const x=u().filter(b=>!b.disabled),w=x.find(b=>b.value===i.value),y=pN(x,g,w);y!==void 0&&i.onValueChange(y.value)}),v=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(Ll,{asChild:!0,...o,children:a.jsx(V.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":fN(i.value)?"":void 0,...s,ref:c,onClick:D(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:D(s.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:D(s.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&XL.includes(g.key)&&(v(),g.preventDefault())})})})});q_.displayName=W_;var V_="SelectValue",H_=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=Rs(V_,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=te(t,c.onValueNodeChange);return Ge(()=>{u(d)},[u,d]),a.jsx(V.span,{...l,ref:f,style:{pointerEvents:"none"},children:fN(c.value)?a.jsx(a.Fragment,{children:i}):o})});H_.displayName=V_;var n6="SelectIcon",K_=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(V.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});K_.displayName=n6;var s6="SelectPortal",Y_=e=>a.jsx(Va,{asChild:!0,...e});Y_.displayName=s6;var co="SelectContent",G_=m.forwardRef((e,t)=>{const r=Rs(co,e.__scopeSelect),[n,s]=m.useState();if(Ge(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?mo.createPortal(a.jsx(Q_,{scope:e.__scopeSelect,children:a.jsx(Gd.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(X_,{...e,ref:t})});G_.displayName=co;var xr=10,[Q_,Ts]=ii(co),o6="SelectContentImpl",X_=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:x,...w}=e,y=Rs(co,r),[b,j]=m.useState(null),[S,N]=m.useState(null),C=te(t,X=>j(X)),[E,T]=m.useState(null),[R,L]=m.useState(null),$=Qd(r),[K,I]=m.useState(!1),G=m.useRef(!1);m.useEffect(()=>{if(b)return Kd(b)},[b]),Vd();const U=m.useCallback(X=>{const[xe,...we]=$().map(be=>be.ref.current),[he]=we.slice(-1),Se=document.activeElement;for(const be of X)if(be===Se||(be==null||be.scrollIntoView({block:"nearest"}),be===xe&&S&&(S.scrollTop=0),be===he&&S&&(S.scrollTop=S.scrollHeight),be==null||be.focus(),document.activeElement!==Se))return},[$,S]),M=m.useCallback(()=>U([E,b]),[U,E,b]);m.useEffect(()=>{K&&M()},[K,M]);const{onOpenChange:_,triggerPointerDownPosRef:P}=y;m.useEffect(()=>{if(b){let X={x:0,y:0};const xe=he=>{var Se,be;X={x:Math.abs(Math.round(he.pageX)-(((Se=P.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(he.pageY)-(((be=P.current)==null?void 0:be.y)??0))}},we=he=>{X.x<=10&&X.y<=10?he.preventDefault():b.contains(he.target)||_(!1),document.removeEventListener("pointermove",xe),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",we,{capture:!0})}}},[b,_,P]),m.useEffect(()=>{const X=()=>_(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[_]);const[B,z]=mN(X=>{const xe=$().filter(Se=>!Se.disabled),we=xe.find(Se=>Se.ref.current===document.activeElement),he=pN(xe,X,we);he&&setTimeout(()=>he.ref.current.focus())}),W=m.useCallback((X,xe,we)=>{const he=!G.current&&!we;(y.value!==void 0&&y.value===xe||he)&&(T(X),he&&(G.current=!0))},[y.value]),Z=m.useCallback(()=>b==null?void 0:b.focus(),[b]),se=m.useCallback((X,xe,we)=>{const he=!G.current&&!we;(y.value!==void 0&&y.value===xe||he)&&L(X)},[y.value]),je=n==="popper"?up:J_,ae=je===up?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return a.jsx(Q_,{scope:r,content:b,viewport:S,onViewportChange:N,itemRefCallback:W,selectedItem:E,onItemLeave:Z,itemTextRefCallback:se,focusSelectedItem:M,selectedItemText:R,position:n,isPositioned:K,searchRef:B,children:a.jsx(Hl,{as:St,allowPinchZoom:!0,children:a.jsx(Vl,{asChild:!0,trapped:y.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:D(s,X=>{var xe;(xe=y.trigger)==null||xe.focus({preventScroll:!0}),X.preventDefault()}),children:a.jsx(po,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(je,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:X=>X.preventDefault(),...w,...ae,onPlaced:()=>I(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:D(w.onKeyDown,X=>{const xe=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!xe&&X.key.length===1&&z(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let he=$().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(X.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Se=X.target,be=he.indexOf(Se);he=he.slice(be+1)}setTimeout(()=>U(he)),X.preventDefault()}})})})})})})});X_.displayName=o6;var a6="SelectItemAlignedPosition",J_=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Rs(co,r),i=Ts(co,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=te(t,C=>d(C)),h=Qd(r),p=m.useRef(!1),v=m.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:w,focusSelectedItem:y}=i,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&x&&w){const C=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),R=w.getBoundingClientRect();if(o.dir!=="rtl"){const Se=R.left-E.left,be=T.left-Se,gt=C.left-be,Bt=C.width+gt,An=Math.max(Bt,E.width),nr=window.innerWidth-xr,Ms=jl(be,[xr,Math.max(xr,nr-An)]);l.style.minWidth=Bt+"px",l.style.left=Ms+"px"}else{const Se=E.right-R.right,be=window.innerWidth-T.right-Se,gt=window.innerWidth-C.right-be,Bt=C.width+gt,An=Math.max(Bt,E.width),nr=window.innerWidth-xr,Ms=jl(be,[xr,Math.max(xr,nr-An)]);l.style.minWidth=Bt+"px",l.style.right=Ms+"px"}const L=h(),$=window.innerHeight-xr*2,K=g.scrollHeight,I=window.getComputedStyle(u),G=parseInt(I.borderTopWidth,10),U=parseInt(I.paddingTop,10),M=parseInt(I.borderBottomWidth,10),_=parseInt(I.paddingBottom,10),P=G+U+K+_+M,B=Math.min(x.offsetHeight*5,P),z=window.getComputedStyle(g),W=parseInt(z.paddingTop,10),Z=parseInt(z.paddingBottom,10),se=C.top+C.height/2-xr,je=$-se,ae=x.offsetHeight/2,X=x.offsetTop+ae,xe=G+U+X,we=P-xe;if(xe<=se){const Se=L.length>0&&x===L[L.length-1].ref.current;l.style.bottom="0px";const be=u.clientHeight-g.offsetTop-g.offsetHeight,gt=Math.max(je,ae+(Se?Z:0)+be+M),Bt=xe+gt;l.style.height=Bt+"px"}else{const Se=L.length>0&&x===L[0].ref.current;l.style.top="0px";const gt=Math.max(se,G+g.offsetTop+(Se?W:0)+ae)+we;l.style.height=gt+"px",g.scrollTop=xe-se+g.offsetTop}l.style.margin=`${xr}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=$+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,l,u,g,x,w,o.dir,n]);Ge(()=>b(),[b]);const[j,S]=m.useState();Ge(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=m.useCallback(C=>{C&&v.current===!0&&(b(),y==null||y(),v.current=!1)},[b,y]);return a.jsx(l6,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(V.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});J_.displayName=a6;var i6="SelectPopperPosition",up=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=xr,...o}=e,i=Xd(r);return a.jsx(Pd,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});up.displayName=i6;var[l6,fv]=ii(co,{}),dp="SelectViewport",Z_=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Ts(dp,r),i=fv(dp,r),l=te(t,o.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Gd.Slot,{scope:r,children:a.jsx(V.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:D(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-xr*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(g,x);if(w<v){const y=w+p,b=Math.min(v,y),j=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Z_.displayName=dp;var eN="SelectGroup",[c6,u6]=ii(eN),d6=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ft();return a.jsx(c6,{scope:r,id:s,children:a.jsx(V.div,{role:"group","aria-labelledby":s,...n,ref:t})})});d6.displayName=eN;var tN="SelectLabel",rN=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=u6(tN,r);return a.jsx(V.div,{id:s.id,...n,ref:t})});rN.displayName=tN;var Gu="SelectItem",[f6,nN]=ii(Gu),sN=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=Rs(Gu,r),c=Ts(Gu,r),u=l.value===n,[d,f]=m.useState(o??""),[h,p]=m.useState(!1),v=te(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,s)}),g=Ft(),x=m.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(f6,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(Gd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(V.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:D(i.onFocus,()=>p(!0)),onBlur:D(i.onBlur,()=>p(!1)),onClick:D(i.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:D(i.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:D(i.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:D(i.onPointerMove,y=>{var b;x.current=y.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:D(i.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:D(i.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(JL.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});sN.displayName=Gu;var Ai="SelectItemText",oN=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Rs(Ai,r),l=Ts(Ai,r),c=nN(Ai,r),u=r6(Ai,r),[d,f]=m.useState(null),h=te(t,w=>f(w),c.onItemTextChange,w=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return Ge(()=>(g(v),()=>x(v)),[g,x,v]),a.jsxs(a.Fragment,{children:[a.jsx(V.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?mo.createPortal(o.children,i.valueNode):null]})});oN.displayName=Ai;var aN="SelectItemIndicator",iN=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return nN(aN,r).isSelected?a.jsx(V.span,{"aria-hidden":!0,...n,ref:t}):null});iN.displayName=aN;var fp="SelectScrollUpButton",lN=m.forwardRef((e,t)=>{const r=Ts(fp,e.__scopeSelect),n=fv(fp,e.__scopeSelect),[s,o]=m.useState(!1),i=te(t,n.onScrollButtonChange);return Ge(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(uN,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});lN.displayName=fp;var hp="SelectScrollDownButton",cN=m.forwardRef((e,t)=>{const r=Ts(hp,e.__scopeSelect),n=fv(hp,e.__scopeSelect),[s,o]=m.useState(!1),i=te(t,n.onScrollButtonChange);return Ge(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(uN,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});cN.displayName=hp;var uN=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Ts("SelectScrollButton",r),i=m.useRef(null),l=Qd(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ge(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(V.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:D(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:D(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:D(s.onPointerLeave,()=>{c()})})}),h6="SelectSeparator",dN=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(V.div,{"aria-hidden":!0,...n,ref:t})});dN.displayName=h6;var mp="SelectArrow",m6=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Xd(r),o=Rs(mp,r),i=Ts(mp,r);return o.open&&i.position==="popper"?a.jsx(Rd,{...s,...n,ref:t}):null});m6.displayName=mp;function fN(e){return e===""||e===void 0}var hN=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),o=te(t,s),i=Yd(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[i,r]),a.jsx(Ml,{asChild:!0,children:a.jsx("select",{...n,ref:o,defaultValue:r})})});hN.displayName="BubbleSelect";function mN(e){const t=Fe(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function pN(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=p6(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function p6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var g6=B_,gN=q_,v6=H_,x6=K_,y6=Y_,vN=G_,w6=Z_,xN=rN,yN=sN,b6=oN,j6=iN,wN=lN,bN=cN,jN=dN;const SN=g6,_N=v6,hv=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(gN,{ref:n,className:O("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(x6,{asChild:!0,children:a.jsx(Dl,{className:"h-4 w-4 opacity-50"})})]}));hv.displayName=gN.displayName;const NN=m.forwardRef(({className:e,...t},r)=>a.jsx(wN,{ref:r,className:O("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(ej,{className:"h-4 w-4"})}));NN.displayName=wN.displayName;const kN=m.forwardRef(({className:e,...t},r)=>a.jsx(bN,{ref:r,className:O("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Dl,{className:"h-4 w-4"})}));kN.displayName=bN.displayName;const mv=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(y6,{children:a.jsxs(vN,{ref:s,className:O("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(NN,{}),a.jsx(w6,{className:O("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(kN,{})]})}));mv.displayName=vN.displayName;const S6=m.forwardRef(({className:e,...t},r)=>a.jsx(xN,{ref:r,className:O("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));S6.displayName=xN.displayName;const pv=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(yN,{ref:n,className:O("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(j6,{children:a.jsx(jd,{className:"h-4 w-4"})})}),a.jsx(b6,{children:t})]}));pv.displayName=yN.displayName;const _6=m.forwardRef(({className:e,...t},r)=>a.jsx(jN,{ref:r,className:O("-mx-1 my-1 h-px bg-muted",e),...t}));_6.displayName=jN.displayName;const gv=({currentUserRole:e,selectedRole:t,onRoleChange:r,disabled:n=!1})=>{const s=B3(e);return a.jsxs(SN,{value:t,onValueChange:r,disabled:n,children:[a.jsx(hv,{className:"w-full",children:a.jsx(_N,{children:a.jsx("div",{className:"flex items-center gap-2",children:(()=>{const{icon:o,label:i}=lp(t);return a.jsxs(a.Fragment,{children:[a.jsx(o,{className:"w-4 h-4"}),i]})})()})})}),a.jsx(mv,{children:s.map(o=>{const{icon:i,label:l,description:c,variant:u}=lp(o);return a.jsx(pv,{value:o,children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(i,{className:"w-4 h-4"}),a.jsx("span",{children:l})]}),a.jsx(er,{variant:u,className:"text-xs",children:l})]})},o)})})]})},N6=({isOpen:e,user:t,organizations:r,onClose:n,onSubmit:s,isSubmitting:o})=>{const[i,l]=m.useState(""),[c,u]=m.useState("member"),d=h=>{h.preventDefault(),t&&i&&s(t.user_id,t.email,i,c)},f=()=>{l(""),u("member"),n()};return t?a.jsx(Jl,{open:e,onOpenChange:f,children:a.jsxs(si,{className:"sm:max-w-md",children:[a.jsx(oi,{children:a.jsx(ai,{children:"Assign User to Organization"})}),a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{children:"User Email"}),a.jsx("div",{className:"p-2 bg-gray-50 rounded border",children:t.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{htmlFor:"organization",children:"Organization"}),a.jsxs(SN,{value:i,onValueChange:l,required:!0,children:[a.jsx(hv,{children:a.jsx(_N,{placeholder:"Select an organization"})}),a.jsx(mv,{children:r.map(h=>a.jsxs(pv,{value:h.id,children:[h.name," (/",h.slug,")"]},h.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{htmlFor:"role",children:"Role"}),a.jsx(gv,{currentUserRole:"owner",selectedRole:c,onRoleChange:u})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(J,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),a.jsx(J,{type:"submit",disabled:o||!i,children:o?"Assigning...":"Assign User"})]})]})]})}):null};var CN="AlertDialog",[k6,KW]=ut(CN,[S_]),Rn=S_(),EN=e=>{const{__scopeAlertDialog:t,...r}=e,n=Rn(t);return a.jsx(uv,{...n,...r,modal:!0})};EN.displayName=CN;var C6="AlertDialogTrigger",PN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Rn(r);return a.jsx(F_,{...s,...n,ref:t})});PN.displayName=C6;var E6="AlertDialogPortal",RN=e=>{const{__scopeAlertDialog:t,...r}=e,n=Rn(t);return a.jsx(dv,{...n,...r})};RN.displayName=E6;var P6="AlertDialogOverlay",TN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Rn(r);return a.jsx(Kl,{...s,...n,ref:t})});TN.displayName=P6;var ia="AlertDialogContent",[R6,T6]=k6(ia),AN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=Rn(r),i=m.useRef(null),l=te(t,i),c=m.useRef(null);return a.jsx(qL,{contentName:ia,titleName:ON,docsSlug:"alert-dialog",children:a.jsx(R6,{scope:r,cancelRef:c,children:a.jsxs(Yl,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:D(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(wg,{children:n}),a.jsx(O6,{contentRef:i})]})})})});AN.displayName=ia;var ON="AlertDialogTitle",MN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Rn(r);return a.jsx(Gl,{...s,...n,ref:t})});MN.displayName=ON;var DN="AlertDialogDescription",IN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Rn(r);return a.jsx(Ql,{...s,...n,ref:t})});IN.displayName=DN;var A6="AlertDialogAction",LN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Rn(r);return a.jsx(Xl,{...s,...n,ref:t})});LN.displayName=A6;var $N="AlertDialogCancel",FN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=T6($N,r),o=Rn(r),i=te(t,s);return a.jsx(Xl,{...o,...n,ref:i})});FN.displayName=$N;var O6=({contentRef:e})=>{const t=`\`${ia}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ia}\` by passing a \`${DN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ia}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},M6=EN,D6=PN,I6=RN,zN=TN,UN=AN,BN=LN,WN=FN,qN=MN,VN=IN;const vv=M6,xv=D6,L6=I6,HN=m.forwardRef(({className:e,...t},r)=>a.jsx(zN,{className:O("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));HN.displayName=zN.displayName;const Jd=m.forwardRef(({className:e,...t},r)=>a.jsxs(L6,{children:[a.jsx(HN,{}),a.jsx(UN,{ref:r,className:O("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Jd.displayName=UN.displayName;const Zd=({className:e,...t})=>a.jsx("div",{className:O("flex flex-col space-y-2 text-center sm:text-left",e),...t});Zd.displayName="AlertDialogHeader";const ef=({className:e,...t})=>a.jsx("div",{className:O("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ef.displayName="AlertDialogFooter";const tf=m.forwardRef(({className:e,...t},r)=>a.jsx(qN,{ref:r,className:O("text-lg font-semibold",e),...t}));tf.displayName=qN.displayName;const rf=m.forwardRef(({className:e,...t},r)=>a.jsx(VN,{ref:r,className:O("text-sm text-muted-foreground",e),...t}));rf.displayName=VN.displayName;const nf=m.forwardRef(({className:e,...t},r)=>a.jsx(BN,{ref:r,className:O(wl(),e),...t}));nf.displayName=BN.displayName;const sf=m.forwardRef(({className:e,...t},r)=>a.jsx(WN,{ref:r,className:O(wl({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));sf.displayName=WN.displayName;const $6=({organizations:e})=>{const{data:t,isLoading:r,error:n}=I3(),[s,o]=m.useState(!1),[i,l]=m.useState(null),c=L3(),u=$3(),d=v=>{l(v),o(!0)},f=()=>{l(null),o(!1)},h=(v,g,x,w)=>{c.mutate({userId:v,email:g,organizationId:x,role:w},{onSuccess:()=>{Ce.success(`User ${g} assigned successfully.`),f()},onError:y=>{Ce.error(`Failed to assign user: ${y.message}`)}})},p=()=>{u.mutate(void 0,{onSuccess:v=>{Ce.success(`Approval process complete. ${v.approvedCount} invitations approved.`),v.failedCount>0&&Ce.info(`${v.failedCount} invitations could not be approved (e.g. user not registered).`)},onError:v=>{Ce.error(`Failed to approve invitations: ${v.message}`)}})};return r?a.jsx(bl,{text:"Loading system-wide user data..."}):n?a.jsxs(Yt,{variant:"destructive",children:[a.jsx(hA,{className:"h-4 w-4"}),a.jsx(u_,{children:"Error Fetching Data"}),a.jsx(Gt,{children:n.message})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ge,{children:[a.jsxs(rt,{children:[a.jsx(nt,{children:"All Organization Users"}),a.jsx(yl,{children:"A comprehensive list of all users across all organizations with their enhanced roles. You can assign existing users to new organizations from here."})]}),a.jsx(ve,{children:a.jsx(W3,{users:(t==null?void 0:t.users)||[],onAssignUser:d})})]}),a.jsxs(ge,{children:[a.jsxs(rt,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(nt,{children:"All Pending Invitations"}),a.jsx(yl,{children:"A comprehensive list of all pending invitations across all organizations with enhanced role information."})]}),(t==null?void 0:t.invitations)&&t.invitations.length>0&&a.jsxs(vv,{children:[a.jsx(xv,{asChild:!0,children:a.jsx(J,{disabled:u.isPending,children:u.isPending?"Approving...":"Approve All Pending"})}),a.jsxs(Jd,{children:[a.jsxs(Zd,{children:[a.jsx(tf,{children:"Are you sure?"}),a.jsx(rf,{children:"This will attempt to approve all pending invitations for which a user account already exists. Users will be added to the respective organizations with their designated enhanced roles. This action cannot be undone."})]}),a.jsxs(ef,{children:[a.jsx(sf,{children:"Cancel"}),a.jsx(nf,{onClick:p,disabled:u.isPending,children:"Continue"})]})]})]})]}),a.jsx(ve,{children:a.jsx(H3,{invitations:(t==null?void 0:t.invitations)||[]})})]}),a.jsx(N6,{isOpen:s,user:i,organizations:e,onClose:f,onSubmit:h,isSubmitting:c.isPending})]})},F6=({organizations:e})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ge,{children:a.jsxs(ve,{className:"p-4",children:[a.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.length)||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Organizations"})]})}),a.jsx(ge,{children:a.jsxs(ve,{className:"p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:(e==null?void 0:e.filter(t=>t.is_active).length)||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]})})]});var pp=["Enter"," "],z6=["ArrowDown","PageUp","Home"],KN=["ArrowUp","PageDown","End"],U6=[...z6,...KN],B6={ltr:[...pp,"ArrowRight"],rtl:[...pp,"ArrowLeft"]},W6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ec="Menu",[Sl,q6,V6]=qa(ec),[yo,YN]=ut(ec,[V6,ks,ni]),of=ks(),GN=ni(),[H6,wo]=yo(ec),[K6,tc]=yo(ec),QN=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,l=of(t),[c,u]=m.useState(null),d=m.useRef(!1),f=Fe(o),h=Ps(s);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),a.jsx(Ed,{...l,children:a.jsx(H6,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(K6,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};QN.displayName=ec;var Y6="MenuAnchor",yv=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=of(r);return a.jsx(Ll,{...s,...n,ref:t})});yv.displayName=Y6;var wv="MenuPortal",[G6,XN]=yo(wv,{forceMount:void 0}),JN=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=wo(wv,t);return a.jsx(G6,{scope:t,forceMount:r,children:a.jsx(Qe,{present:r||o.open,children:a.jsx(Va,{asChild:!0,container:s,children:n})})})};JN.displayName=wv;var dr="MenuContent",[Q6,bv]=yo(dr),ZN=m.forwardRef((e,t)=>{const r=XN(dr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=wo(dr,e.__scopeMenu),i=tc(dr,e.__scopeMenu);return a.jsx(Sl.Provider,{scope:e.__scopeMenu,children:a.jsx(Qe,{present:n||o.open,children:a.jsx(Sl.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(X6,{...s,ref:t}):a.jsx(J6,{...s,ref:t})})})})}),X6=m.forwardRef((e,t)=>{const r=wo(dr,e.__scopeMenu),n=m.useRef(null),s=te(t,n);return m.useEffect(()=>{const o=n.current;if(o)return Kd(o)},[]),a.jsx(jv,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:D(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),J6=m.forwardRef((e,t)=>{const r=wo(dr,e.__scopeMenu);return a.jsx(jv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),jv=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:v,...g}=e,x=wo(dr,r),w=tc(dr,r),y=of(r),b=GN(r),j=q6(r),[S,N]=m.useState(null),C=m.useRef(null),E=te(t,C,x.onContentChange),T=m.useRef(0),R=m.useRef(""),L=m.useRef(0),$=m.useRef(null),K=m.useRef("right"),I=m.useRef(0),G=v?Hl:m.Fragment,U=v?{as:St,allowPinchZoom:!0}:void 0,M=P=>{var X,xe;const B=R.current+P,z=j().filter(we=>!we.disabled),W=document.activeElement,Z=(X=z.find(we=>we.ref.current===W))==null?void 0:X.textValue,se=z.map(we=>we.textValue),je=u$(se,B,Z),ae=(xe=z.find(we=>we.textValue===je))==null?void 0:xe.ref.current;(function we(he){R.current=he,window.clearTimeout(T.current),he!==""&&(T.current=window.setTimeout(()=>we(""),1e3))})(B),ae&&setTimeout(()=>ae.focus())};m.useEffect(()=>()=>window.clearTimeout(T.current),[]),Vd();const _=m.useCallback(P=>{var z,W;return K.current===((z=$.current)==null?void 0:z.side)&&f$(P,(W=$.current)==null?void 0:W.area)},[]);return a.jsx(Q6,{scope:r,searchRef:R,onItemEnter:m.useCallback(P=>{_(P)&&P.preventDefault()},[_]),onItemLeave:m.useCallback(P=>{var B;_(P)||((B=C.current)==null||B.focus(),N(null))},[_]),onTriggerLeave:m.useCallback(P=>{_(P)&&P.preventDefault()},[_]),pointerGraceTimerRef:L,onPointerGraceIntentChange:m.useCallback(P=>{$.current=P},[]),children:a.jsx(G,{...U,children:a.jsx(Vl,{asChild:!0,trapped:s,onMountAutoFocus:D(o,P=>{var B;P.preventDefault(),(B=C.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(po,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(ev,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:D(c,P=>{w.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Pd,{role:"menu","aria-orientation":"vertical","data-state":pk(x.open),"data-radix-menu-content":"",dir:w.dir,...y,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:D(g.onKeyDown,P=>{const z=P.target.closest("[data-radix-menu-content]")===P.currentTarget,W=P.ctrlKey||P.altKey||P.metaKey,Z=P.key.length===1;z&&(P.key==="Tab"&&P.preventDefault(),!W&&Z&&M(P.key));const se=C.current;if(P.target!==se||!U6.includes(P.key))return;P.preventDefault();const ae=j().filter(X=>!X.disabled).map(X=>X.ref.current);KN.includes(P.key)&&ae.reverse(),l$(ae)}),onBlur:D(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(T.current),R.current="")}),onPointerMove:D(e.onPointerMove,_l(P=>{const B=P.target,z=I.current!==P.clientX;if(P.currentTarget.contains(B)&&z){const W=P.clientX>I.current?"right":"left";K.current=W,I.current=P.clientX}}))})})})})})})});ZN.displayName=dr;var Z6="MenuGroup",Sv=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(V.div,{role:"group",...n,ref:t})});Sv.displayName=Z6;var e$="MenuLabel",ek=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(V.div,{...n,ref:t})});ek.displayName=e$;var Qu="MenuItem",Dy="menu.itemSelect",af=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=m.useRef(null),i=tc(Qu,e.__scopeMenu),l=bv(Qu,e.__scopeMenu),c=te(t,o),u=m.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const h=new CustomEvent(Dy,{bubbles:!0,cancelable:!0});f.addEventListener(Dy,p=>n==null?void 0:n(p),{once:!0}),bg(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(tk,{...s,ref:c,disabled:r,onClick:D(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:D(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:D(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||pp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});af.displayName=Qu;var tk=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=bv(Qu,r),l=GN(r),c=m.useRef(null),u=te(t,c),[d,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[o.children]),a.jsx(Sl.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(tv,{asChild:!0,...l,focusable:!n,children:a.jsx(V.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:D(e.onPointerMove,_l(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:D(e.onPointerLeave,_l(v=>i.onItemLeave(v))),onFocus:D(e.onFocus,()=>f(!0)),onBlur:D(e.onBlur,()=>f(!1))})})})}),t$="MenuCheckboxItem",rk=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(ik,{scope:e.__scopeMenu,checked:r,children:a.jsx(af,{role:"menuitemcheckbox","aria-checked":Xu(r)?"mixed":r,...s,ref:t,"data-state":Nv(r),onSelect:D(s.onSelect,()=>n==null?void 0:n(Xu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});rk.displayName=t$;var nk="MenuRadioGroup",[r$,n$]=yo(nk,{value:void 0,onValueChange:()=>{}}),sk=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=Fe(n);return a.jsx(r$,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(Sv,{...s,ref:t})})});sk.displayName=nk;var ok="MenuRadioItem",ak=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=n$(ok,e.__scopeMenu),o=r===s.value;return a.jsx(ik,{scope:e.__scopeMenu,checked:o,children:a.jsx(af,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Nv(o),onSelect:D(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});ak.displayName=ok;var _v="MenuItemIndicator",[ik,s$]=yo(_v,{checked:!1}),lk=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=s$(_v,r);return a.jsx(Qe,{present:n||Xu(o.checked)||o.checked===!0,children:a.jsx(V.span,{...s,ref:t,"data-state":Nv(o.checked)})})});lk.displayName=_v;var o$="MenuSeparator",ck=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(V.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ck.displayName=o$;var a$="MenuArrow",uk=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=of(r);return a.jsx(Rd,{...s,...n,ref:t})});uk.displayName=a$;var i$="MenuSub",[YW,dk]=yo(i$),Oi="MenuSubTrigger",fk=m.forwardRef((e,t)=>{const r=wo(Oi,e.__scopeMenu),n=tc(Oi,e.__scopeMenu),s=dk(Oi,e.__scopeMenu),o=bv(Oi,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(yv,{asChild:!0,...u,children:a.jsx(tk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":pk(r.open),...e,ref:yd(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:D(e.onPointerMove,_l(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:D(e.onPointerLeave,_l(f=>{var p,v;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(v=r.content)==null?void 0:v.dataset.side,x=g==="right",w=x?-5:5,y=h[x?"left":"right"],b=h[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:y,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:y,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:D(e.onKeyDown,f=>{var p;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||B6[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});fk.displayName=Oi;var hk="MenuSubContent",mk=m.forwardRef((e,t)=>{const r=XN(dr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=wo(dr,e.__scopeMenu),i=tc(dr,e.__scopeMenu),l=dk(hk,e.__scopeMenu),c=m.useRef(null),u=te(t,c);return a.jsx(Sl.Provider,{scope:e.__scopeMenu,children:a.jsx(Qe,{present:n||o.open,children:a.jsx(Sl.Slot,{scope:e.__scopeMenu,children:a.jsx(jv,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:D(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:D(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:D(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=W6[i.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});mk.displayName=hk;function pk(e){return e?"open":"closed"}function Xu(e){return e==="indeterminate"}function Nv(e){return Xu(e)?"indeterminate":e?"checked":"unchecked"}function l$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function c$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function u$(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=c$(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function d$(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function f$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return d$(r,t)}function _l(e){return t=>t.pointerType==="mouse"?e(t):void 0}var h$=QN,m$=yv,p$=JN,g$=ZN,v$=Sv,x$=ek,y$=af,w$=rk,b$=sk,j$=ak,S$=lk,_$=ck,N$=uk,k$=fk,C$=mk,kv="DropdownMenu",[E$,GW]=ut(kv,[YN]),Et=YN(),[P$,gk]=E$(kv),vk=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Et(t),u=m.useRef(null),[d=!1,f]=_t({prop:s,defaultProp:o,onChange:i});return a.jsx(P$,{scope:t,triggerId:Ft(),triggerRef:u,contentId:Ft(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(h$,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};vk.displayName=kv;var xk="DropdownMenuTrigger",yk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=gk(xk,r),i=Et(r);return a.jsx(m$,{asChild:!0,...i,children:a.jsx(V.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:yd(t,o.triggerRef),onPointerDown:D(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:D(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});yk.displayName=xk;var R$="DropdownMenuPortal",wk=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Et(t);return a.jsx(p$,{...n,...r})};wk.displayName=R$;var bk="DropdownMenuContent",jk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gk(bk,r),o=Et(r),i=m.useRef(!1);return a.jsx(g$,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:D(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:D(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jk.displayName=bk;var T$="DropdownMenuGroup",A$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(v$,{...s,...n,ref:t})});A$.displayName=T$;var O$="DropdownMenuLabel",Sk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(x$,{...s,...n,ref:t})});Sk.displayName=O$;var M$="DropdownMenuItem",_k=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(y$,{...s,...n,ref:t})});_k.displayName=M$;var D$="DropdownMenuCheckboxItem",Nk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(w$,{...s,...n,ref:t})});Nk.displayName=D$;var I$="DropdownMenuRadioGroup",L$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(b$,{...s,...n,ref:t})});L$.displayName=I$;var $$="DropdownMenuRadioItem",kk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(j$,{...s,...n,ref:t})});kk.displayName=$$;var F$="DropdownMenuItemIndicator",Ck=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(S$,{...s,...n,ref:t})});Ck.displayName=F$;var z$="DropdownMenuSeparator",Ek=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(_$,{...s,...n,ref:t})});Ek.displayName=z$;var U$="DropdownMenuArrow",B$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(N$,{...s,...n,ref:t})});B$.displayName=U$;var W$="DropdownMenuSubTrigger",Pk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(k$,{...s,...n,ref:t})});Pk.displayName=W$;var q$="DropdownMenuSubContent",Rk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Et(r);return a.jsx(C$,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Rk.displayName=q$;var V$=vk,H$=yk,K$=wk,Tk=jk,Ak=Sk,Ok=_k,Mk=Nk,Dk=kk,Ik=Ck,Lk=Ek,$k=Pk,Fk=Rk;const zk=V$,Uk=H$,Y$=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs($k,{ref:s,className:O("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Ha,{className:"ml-auto h-4 w-4"})]}));Y$.displayName=$k.displayName;const G$=m.forwardRef(({className:e,...t},r)=>a.jsx(Fk,{ref:r,className:O("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));G$.displayName=Fk.displayName;const Cv=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(K$,{children:a.jsx(Tk,{ref:n,sideOffset:t,className:O("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Cv.displayName=Tk.displayName;const Ev=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(Ok,{ref:n,className:O("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Ev.displayName=Ok.displayName;const Q$=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(Mk,{ref:s,className:O("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Ik,{children:a.jsx(jd,{className:"h-4 w-4"})})}),t]}));Q$.displayName=Mk.displayName;const X$=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Dk,{ref:n,className:O("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Ik,{children:a.jsx(Sd,{className:"h-2 w-2 fill-current"})})}),t]}));X$.displayName=Dk.displayName;const J$=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(Ak,{ref:n,className:O("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));J$.displayName=Ak.displayName;const gp=m.forwardRef(({className:e,...t},r)=>a.jsx(Lk,{ref:r,className:O("-mx-1 my-1 h-px bg-muted",e),...t}));gp.displayName=Lk.displayName;var Pv="Avatar",[Z$,QW]=ut(Pv),[eF,Bk]=Z$(Pv),Wk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=m.useState("idle");return a.jsx(eF,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(V.span,{...n,ref:t})})});Wk.displayName=Pv;var qk="AvatarImage",Vk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=Bk(qk,r),l=tF(n,o.referrerPolicy),c=Fe(u=>{s(u),i.onImageLoadingStatusChange(u)});return Ge(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(V.img,{...o,ref:t,src:n}):null});Vk.displayName=qk;var Hk="AvatarFallback",Kk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=Bk(Hk,r),[i,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(V.span,{...s,ref:t}):null});Kk.displayName=Hk;function tF(e,t){const[r,n]=m.useState("idle");return Ge(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var Yk=Wk,Gk=Vk,Qk=Kk;const Xk=m.forwardRef(({className:e,...t},r)=>a.jsx(Yk,{ref:r,className:O("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Xk.displayName=Yk.displayName;const rF=m.forwardRef(({className:e,...t},r)=>a.jsx(Gk,{ref:r,className:O("aspect-square h-full w-full",e),...t}));rF.displayName=Gk.displayName;const Jk=m.forwardRef(({className:e,...t},r)=>a.jsx(Qk,{ref:r,className:O("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Jk.displayName=Qk.displayName;const nF=({email:e,size:t="md"})=>{const r={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-10 w-10"};return a.jsx(Xk,{className:r[t],children:a.jsx(Jk,{children:q3(e)})})},Zk=e=>{const{user:t}=Pn(),{data:r}=Ar({queryKey:["user-enhanced-role",t==null?void 0:t.id,e],queryFn:async()=>{if(!(t!=null&&t.id)||!e)return null;const{data:h}=await q.from("organization_users").select("enhanced_role").eq("user_id",t.id).eq("organization_id",e).single();return(h==null?void 0:h.enhanced_role)||null},enabled:!!(t!=null&&t.id)&&!!e}),{data:n}=Ar({queryKey:["user-permissions",t==null?void 0:t.id,e,r],queryFn:async()=>{if(!(t!=null&&t.id)||!e||!r)return{};const{data:h}=await q.from("role_permissions").select("permission_key, permission_value").eq("role",r),p={};return h==null||h.forEach(({permission_key:v,permission_value:g})=>{try{const x=g;x&&typeof x=="object"&&"allowed"in x&&(p[v]=x)}catch(x){console.warn(`Failed to parse permission for ${v}:`,x)}}),p},enabled:!!(t!=null&&t.id)&&!!e&&!!r}),s=h=>{if(!r)return!1;const p=n==null?void 0:n[h];return p?p.allowed:ov(r,h)};return{userRole:r,permissions:n,checkPermission:s,canManageUsers:()=>s("manage_users"),canManageOrganization:()=>s("manage_organization"),canViewAnalytics:()=>s("view_analytics"),canExportData:()=>s("export_data"),canManageQuestions:()=>s("manage_questions"),canManageIntegrations:()=>s("manage_integrations"),canManageBilling:()=>s("manage_billing")}},sF=({members:e,loading:t,organizationId:r,onUpdateRole:n,onRemoveMember:s})=>{const{userRole:o,canManageUsers:i}=Zk(r),l=(u,d)=>{n(u.user_id,d)},c=u=>{if(!i()||!o)return!1;const d=u.enhanced_role||u.role||"member";return sv(o,d)};return t?a.jsx(ge,{children:a.jsx(ve,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Loading members..."})})}):!e||e.length===0?a.jsx(ge,{children:a.jsx(ve,{className:"p-6",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Pg,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{children:"No members found"}),a.jsx("p",{className:"text-sm",children:"Invite users to get started"})]})})}):a.jsx(ge,{children:a.jsx(ve,{className:"p-0",children:a.jsxs(Bl,{children:[a.jsx(Wl,{children:a.jsxs(kn,{children:[a.jsx(De,{children:"Member"}),a.jsx(De,{children:"Role"}),a.jsx(De,{children:"Status"}),a.jsx(De,{children:"Joined"}),a.jsx(De,{children:"Invited By"}),a.jsx(De,{className:"w-[100px]",children:"Actions"})]})}),a.jsx(ql,{children:e.map(u=>{var h;const d=u.enhanced_role||u.role||"member",f=c(u);return a.jsxs(kn,{children:[a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(nF,{email:u.email}),a.jsx("div",{children:a.jsx("div",{className:"font-medium",children:u.email})})]})}),a.jsx(Ie,{children:f?a.jsx(gv,{currentUserRole:o||"member",selectedRole:d,onRoleChange:p=>l(u,p)}):a.jsx(qd,{role:d})}),a.jsx(Ie,{children:a.jsx(er,{variant:V3(u.status),children:u.status})}),a.jsx(Ie,{children:u.accepted_at?Ku(u.accepted_at):Ku(u.created_at)}),a.jsx(Ie,{children:((h=u.invited_by)==null?void 0:h.email)||"-"}),a.jsx(Ie,{children:f&&a.jsxs(zk,{children:[a.jsx(Uk,{asChild:!0,children:a.jsx(J,{variant:"ghost",size:"sm",children:a.jsx(rA,{className:"h-4 w-4"})})}),a.jsx(Cv,{align:"end",children:a.jsxs(vv,{children:[a.jsx(xv,{asChild:!0,children:a.jsxs(Ev,{className:"text-red-600",onSelect:p=>p.preventDefault(),children:[a.jsx(pA,{className:"h-4 w-4 mr-2"}),"Remove Member"]})}),a.jsxs(Jd,{children:[a.jsxs(Zd,{children:[a.jsx(tf,{children:"Remove Member"}),a.jsxs(rf,{children:["Are you sure you want to remove ",u.email," from this organization? This action cannot be undone."]})]}),a.jsxs(ef,{children:[a.jsx(sf,{children:"Cancel"}),a.jsx(nf,{onClick:()=>s(u.user_id),className:"bg-red-600 hover:bg-red-700",children:"Remove"})]})]})]})})]})})]},u.id)})})]})})})},oF=e=>{const t=sn(),{data:r,isLoading:n,error:s}=Ar({queryKey:["organization-members",e],queryFn:async()=>{console.log("Fetching organization members for:",e);const{data:c,error:u}=await q.from("organization_users").select(`
          id,
          user_id,
          email,
          role,
          enhanced_role,
          status,
          created_at,
          accepted_at,
          invited_by_user_id
        `).eq("organization_id",e).order("created_at",{ascending:!1});if(u)throw console.error("Error fetching organization members:",u),u;const d=await Promise.all((c||[]).map(async f=>{let h=null;if(f.invited_by_user_id){const{data:p}=await q.from("organization_users").select("email").eq("user_id",f.invited_by_user_id).eq("organization_id",e).single();p?h={email:p.email}:h={email:"Unknown"}}return{...f,invited_by:h}}));return console.log("Organization members fetched:",d),d},enabled:!!e,retry:3,retryDelay:1e3}),o=js({mutationFn:async({userId:c,newRole:u})=>{console.log("Updating user role:",{userId:c,newRole:u,organizationId:e});const{data:d,error:f}=await q.from("organization_users").update({enhanced_role:u,role:u==="owner"||u==="admin"?"admin":"member"}).eq("user_id",c).eq("organization_id",e).select().single();if(f)throw console.error("Error updating user role:",f),f;return d},onSuccess:()=>{Ur({title:"User role updated successfully"}),t.invalidateQueries({queryKey:["organization-members",e]})},onError:c=>{console.error("Role update error:",c),Ur({title:"Error updating user role",description:c.message||"An unexpected error occurred",variant:"destructive"})}}),i=(c,u)=>{o.mutate({userId:c,newRole:u})};return{activeMembers:(r==null?void 0:r.filter(c=>c.status==="active"))||[],membersLoading:n,membersError:s,handleUpdateRole:i,updateRoleMutation:o}},aF=e=>Ar({queryKey:["organization-invitations",e],queryFn:async()=>{console.log("Fetching organization invitations for:",e);const{data:t,error:r}=await q.from("user_invitations").select(`
          id,
          email,
          role,
          enhanced_role,
          status,
          created_at,
          expires_at,
          invited_by_user_id
        `).eq("organization_id",e).eq("status","pending").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching organization invitations:",r),r;const n=await Promise.all((t||[]).map(async s=>{if(s.invited_by_user_id){const{data:o}=await q.from("organization_users").select("email").eq("user_id",s.invited_by_user_id).eq("organization_id",e).single();return{...s,invited_by:o?{email:o.email}:null}}return{...s,invited_by:null}}));return console.log("Organization invitations fetched:",n),n},enabled:!!e,retry:3,retryDelay:1e3}),eC=({rpcName:e,queryKeysToInvalidate:t,successMessage:r,errorMessage:n,onSuccessCustom:s,paramsMapper:o})=>{const i=sn();return js({mutationFn:async l=>{const{data:c,error:u}=await q.rpc(e,o(l));if(u)throw u;const d=c;if(d&&typeof d=="object"&&"success"in d){const f=d;if(!f.success)throw new Error(f.error)}return d},onSuccess:l=>{t.forEach(c=>{i.invalidateQueries({queryKey:c})}),s?s(l):Ce.success(r)},onError:l=>{Ce.error(l.message||n)}})},tC={ORGANIZATION_MEMBERS:["organization-members"],ORGANIZATION_INVITATIONS:["organization-invitations"]},iF=()=>eC({rpcName:"cancel_invitation",queryKeysToInvalidate:[tC.ORGANIZATION_INVITATIONS],successMessage:"Invitation cancelled successfully",errorMessage:"Failed to cancel invitation",paramsMapper:({invitationId:e})=>({p_invitation_id:e})}),lF=()=>eC({rpcName:"remove_user_from_organization",queryKeysToInvalidate:[tC.ORGANIZATION_MEMBERS],successMessage:"User removed from organization successfully",errorMessage:"Failed to remove user",paramsMapper:({userId:e,organizationId:t})=>({p_user_id:e,p_organization_id:t})}),cF=e=>{const t=oF(e),{data:r=[],isLoading:n,error:s}=aF(e),o=iF(),i=l=>{o.mutate({invitationId:l})};return{...t,pendingInvitations:r,invitationsLoading:n,invitationsError:s,pendingInvitationsCount:r.length,handleCancelInvitation:i,cancelInvitationLoading:o.isPending}},uF=({organizationName:e})=>a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),a.jsxs("p",{className:"text-gray-600",children:["Manage members and invitations for ",e]})]})}),dF=({activeMembersCount:e,adminsCount:t,pendingInvitationsCount:r})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ge,{children:a.jsx(ve,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pr,{className:"h-5 w-5 text-sunset-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:e}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]})]})})}),a.jsx(ge,{children:a.jsx(ve,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ka,{className:"h-5 w-5 text-coral-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:t}),a.jsx("p",{className:"text-sm text-gray-600",children:"Admins"})]})]})})}),a.jsx(ge,{children:a.jsx(ve,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Iu,{className:"h-5 w-5 text-golden-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:r}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invitations"})]})]})})})]}),fF=()=>{const e=sn();return js({mutationFn:async({email:t,organizationId:r,role:n,enhancedRole:s})=>{var o,i,l,c;console.log("Sending invitation request:",{email:t,organizationId:r,role:n,enhancedRole:s});try{const{data:u,error:d}=await q.functions.invoke("enhanced-invite-user",{body:{email:t.trim().toLowerCase(),organizationId:r,role:n,enhancedRole:s||n}});if(console.log("Function response:",{data:u,error:d}),d){if(console.error("Supabase function invoke error:",d),(o=d.message)!=null&&o.includes("NetworkError")||(i=d.message)!=null&&i.includes("Failed to fetch"))throw new Error("Network error: Please check your internet connection and try again");if((l=d.message)!=null&&l.includes("FunctionsError")||(c=d.message)!=null&&c.includes("non-2xx status code")){const f=(u==null?void 0:u.error)||"Service error occurred. Please try again.";throw new Error(f)}throw new Error(d.message||"Failed to send invitation request")}if(!u)throw console.error("No data returned from invitation function"),new Error("No response received from server");if(typeof u=="object"&&u!==null&&"success"in u){const f=u;if(f.success===!1)throw console.error("Invitation failed:",f.error),new Error(f.error||"Failed to invite user");return console.log("Invitation successful:",f),f}return console.log("Invitation completed with response:",u),{success:!0,message:"Invitation processed successfully",type:"invitation_sent"}}catch(u){console.error("Enhanced invite error:",u);const d=u.message||"Failed to invite user. Please try again.";throw new Error(d)}},onSuccess:t=>{e.invalidateQueries({queryKey:["organization-members"]}),e.invalidateQueries({queryKey:["organization-invitations"]}),t.type==="direct_add"?Ce.success("User added to organization successfully!"):Ce.success("Invitation sent successfully! The user will receive an email with instructions to join.")},onError:t=>{console.error("Invitation mutation error:",t);const r=t.message||"Failed to invite user";Ce.error(r)}})},Iy={email:"",role:"member"},hF=({organizationId:e,trigger:t})=>{const[r,n]=m.useState(!1),[s,o]=m.useState(Iy),[i,l]=m.useState(""),{userRole:c}=Zk(e),u=fF(),d=()=>{o(Iy),l("")},f=x=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.trim()),h=x=>{x.preventDefault(),l("");const w=s.email.trim();if(!w){l("Email address is required");return}if(!f(w)){l("Please enter a valid email address");return}console.log("Submitting invitation:",{email:w,organizationId:e,role:s.role}),u.mutate({email:w,organizationId:e,role:s.role,enhancedRole:s.role},{onSuccess:()=>{d(),n(!1)},onError:y=>{console.error("Invitation failed:",y),l(y.message||"Failed to send invitation")}})},p=(x,w)=>{o(y=>({...y,[x]:w})),i&&l("")},v=s.email.trim().length>0&&f(s.email.trim()),g=a.jsxs(J,{children:[a.jsx(Eg,{className:"w-4 h-4 mr-2"}),"Invite User"]});return a.jsxs(Jl,{open:r,onOpenChange:x=>{n(x),x||d()},children:[a.jsx(z_,{asChild:!0,children:t||g}),a.jsxs(si,{className:"sm:max-w-md",children:[a.jsx(oi,{children:a.jsx(ai,{children:"Invite User to Organization"})}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i&&a.jsxs(Yt,{variant:"destructive",children:[a.jsx(tj,{className:"h-4 w-4"}),a.jsx(Gt,{children:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{htmlFor:"email",children:"Email Address"}),a.jsx(pe,{id:"email",type:"email",placeholder:"user@example.com",value:s.email,onChange:x=>p("email",x.target.value),required:!0,className:i&&i.includes("email")?"border-red-500":""}),a.jsx("p",{className:"text-sm text-gray-500",children:"The user will receive an email invitation to join your organization and set up their account."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{htmlFor:"role",children:"Role"}),a.jsx(gv,{currentUserRole:c||"member",selectedRole:s.role,onRoleChange:x=>p("role",x)})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(J,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:u.isPending,children:"Cancel"}),a.jsx(J,{type:"submit",disabled:u.isPending||!v,children:u.isPending?"Sending Invitation...":"Send Invitation"})]})]})]})]})},mF=({expiresAt:e})=>{const t=f_(e);return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:t?"text-red-600":"",children:Ku(e)}),t&&a.jsxs(er,{variant:"destructive",className:"flex items-center gap-1",children:[a.jsx(Ea,{className:"w-3 h-3"}),"Expiring Soon"]})]})},pF=({invitation:e,onCancel:t})=>a.jsxs(vv,{children:[a.jsx(xv,{asChild:!0,children:a.jsx(J,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(Ya,{className:"h-4 w-4"})})}),a.jsxs(Jd,{children:[a.jsxs(Zd,{children:[a.jsx(tf,{children:"Cancel Invitation"}),a.jsxs(rf,{children:["Are you sure you want to cancel the invitation for ",e.email,"? They will no longer be able to join using this invitation."]})]}),a.jsxs(ef,{children:[a.jsx(sf,{children:"Keep Invitation"}),a.jsx(nf,{onClick:()=>t(e.id),className:"bg-red-600 hover:bg-red-700",children:"Cancel Invitation"})]})]})]}),gF=({invitations:e,loading:t,onCancelInvitation:r})=>t?a.jsx(ge,{children:a.jsx(ve,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Loading invitations..."})})}):e.length===0?a.jsx(ge,{children:a.jsx(ve,{className:"p-6",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Iu,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{children:"No pending invitations"}),a.jsx("p",{className:"text-sm",children:"All invitations have been processed"})]})})}):a.jsx(ge,{children:a.jsx(ve,{className:"p-0",children:a.jsxs(Bl,{children:[a.jsx(Wl,{children:a.jsxs(kn,{children:[a.jsx(De,{children:"Email"}),a.jsx(De,{children:"Role"}),a.jsx(De,{children:"Invited"}),a.jsx(De,{children:"Expires"}),a.jsx(De,{children:"Invited By"}),a.jsx(De,{className:"w-[100px]",children:"Actions"})]})}),a.jsx(ql,{children:e.map(n=>{var o;const s=n.enhanced_role||n.role;return a.jsxs(kn,{children:[a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Iu,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:n.email})]})}),a.jsx(Ie,{children:a.jsx(qd,{role:s})}),a.jsx(Ie,{children:Ku(n.created_at)}),a.jsx(Ie,{children:a.jsx(mF,{expiresAt:n.expires_at})}),a.jsx(Ie,{children:((o=n.invited_by)==null?void 0:o.email)||"-"}),a.jsx(Ie,{children:a.jsx(pF,{invitation:n,onCancel:r})})]},n.id)})})]})})});class Yo{static async getUserRole(t,r){const n=`${t}-${r}`,s=this.roleCache.get(n);if(s&&Date.now()-s.timestamp<this.CACHE_TTL)return s.role;try{const{data:o,error:i}=await q.from("organization_users").select("enhanced_role").eq("user_id",t).eq("organization_id",r).single();if(i||!o)return null;const l=o.enhanced_role;return this.roleCache.set(n,{role:l,timestamp:Date.now()}),l}catch(o){return console.error("Error fetching user role:",o),null}}static async checkPermission(t,r,n){if(t.isAdmin)return{allowed:!0,reason:"System admin access"};let s=t.userRole;if(!s&&(s=await this.getUserRole(t.userId,t.organizationId),!s))return{allowed:!1,reason:"User role not found"};if(!ov(s,r))return{allowed:!1,reason:`Role '${s}' lacks permission '${r}'`,requiredRole:this.getMinimumRoleForPermission(r)};if(r==="manage_users"&&n){const i=await this.getUserRole(n,t.organizationId);if(i&&!sv(s,i))return{allowed:!1,reason:`Cannot manage user with role '${i}'`,requiredRole:i}}return{allowed:!0}}static async requirePermission(t,r,n){const s=await this.checkPermission(t,r,n);if(!s.allowed)throw new vF(s.reason||"Access denied",s.requiredRole)}static getMinimumRoleForPermission(t){return{view_analytics:"viewer",export_data:"analyst",manage_questions:"analyst",manage_users:"manager",manage_integrations:"admin",manage_organization:"admin",manage_billing:"owner"}[t]||"admin"}static clearCache(t,r){t&&r?this.roleCache.delete(`${t}-${r}`):this.roleCache.clear()}}di(Yo,"roleCache",new Map),di(Yo,"CACHE_TTL",5*60*1e3);class vF extends Error{constructor(t,r){super(t),this.requiredRole=r,this.name="RBACError"}}const xF=e=>{const{user:t,isAdmin:r}=Pn(),n=m.useMemo(()=>!(t!=null&&t.id)||!e?null:{userId:t.id,organizationId:e,isAdmin:r},[t==null?void 0:t.id,e,r]),{data:s,isLoading:o,error:i}=Ar({queryKey:["user-role-rbac",t==null?void 0:t.id,e],queryFn:async()=>{if(!n)return null;try{const f=await Yo.getUserRole(n.userId,n.organizationId);return console.log("User role fetched:",f,"for user:",n.userId),f}catch(f){return console.error("Error fetching user role:",f),null}},enabled:!!n,staleTime:5*60*1e3,retry:3}),l=m.useCallback(async(f,h)=>n?Yo.checkPermission({...n,userRole:s||void 0},f,h):{allowed:!1,reason:"No valid context"},[n,s]),c=m.useCallback(async(f,h)=>{if(!n)throw new Error("No valid RBAC context");return Yo.requirePermission({...n,userRole:s||void 0},f,h)},[n,s]),u=m.useCallback(f=>{if(!n||!s)return console.log("Permission check failed: no context or role",{context:!!n,userRole:s}),!1;if(r)return console.log("Permission granted: system admin"),!0;const h=ov(s,f);return console.log("Permission check:",{permission:f,userRole:s,allowed:h}),h},[n,s,r]),d=m.useCallback(async f=>{if(!n||!s)return!1;if(r)return!0;try{const h=await Yo.getUserRole(f,n.organizationId);return h?sv(s,h):!1}catch(h){return console.error("Error checking user management permission:",h),!1}},[n,s,r]);return{userRole:s,isLoading:o,error:i,checkPermission:l,requirePermission:c,hasPermission:u,canManageUser:d,isAdmin:r||!1}},yF=({organizationId:e,organizationName:t})=>{const{membersLoading:r,handleUpdateRole:n,activeMembers:s,pendingInvitations:o,invitationsLoading:i,pendingInvitationsCount:l,handleCancelInvitation:c}=cF(e),u=lF(),{hasPermission:d,userRole:f,isLoading:h}=xF(e),p=x=>{if(!d("manage_users")){console.warn("User attempted to remove member without permission");return}u.mutate({userId:x,organizationId:e})},v=(x,w)=>{if(!d("manage_users")){console.warn("User attempted to update role without permission");return}n(x,w)};if(h||r)return a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading user management..."})]})});if(!d("manage_users"))return a.jsxs(Yt,{variant:"destructive",children:[a.jsx(ta,{className:"h-4 w-4"}),a.jsx(Gt,{children:"You don't have permission to manage users. Contact your organization administrator for access."})]});const g=s.filter(x=>{const w=x.enhanced_role||x.role;return["admin","owner"].includes(w||"")}).length;return console.log("UserManagement rendered with:",{userRole:f,hasManageUsersPermission:d("manage_users"),activeMembersCount:s.length,pendingInvitationsCount:l}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(uF,{organizationName:t}),a.jsx(hF,{organizationId:e})]}),a.jsx(dF,{activeMembersCount:s.length,adminsCount:g,pendingInvitationsCount:l}),a.jsxs(zl,{defaultValue:"members",className:"w-full",children:[a.jsxs(Ul,{children:[a.jsxs(cr,{value:"members",children:["Active Members (",s.length,")"]}),a.jsxs(cr,{value:"invitations",children:["Pending Invitations (",l,")"]})]}),a.jsx(qe,{value:"members",children:a.jsx(sF,{members:s,loading:r,organizationId:e,onUpdateRole:v,onRemoveMember:p})}),a.jsx(qe,{value:"invitations",children:a.jsx(gF,{invitations:o,loading:i,onCancelInvitation:c})})]})]})},wF=({open:e,onClose:t,organization:r,onSave:n})=>{const[s,o]=m.useState("basic"),[i,l]=m.useState({name:r.name||"",slug:r.slug||"",domain:r.domain||"",logo_url:r.logo_url||"",primary_color:r.primary_color||"#007ACE",secondary_color:r.secondary_color||"#073763",billing_email:r.billing_email||"",max_responses:r.max_responses||100,plan_type:r.plan_type||"starter",trial_ends_at:r.trial_ends_at?r.trial_ends_at.substring(0,16):"",features_config:r.features_config?JSON.stringify(r.features_config,null,2):""}),[c,u]=m.useState(!1),{toast:d}=rn();function f(p,v){l(g=>({...g,[p]:v}))}async function h(p){p.preventDefault(),u(!0);let v;try{i.features_config.trim()&&(v=JSON.parse(i.features_config))}catch{d({title:"Invalid JSON in Features Config",variant:"destructive"}),u(!1);return}const g={name:i.name,slug:i.slug,domain:i.domain,logo_url:i.logo_url,primary_color:i.primary_color,secondary_color:i.secondary_color,billing_email:i.billing_email,max_responses:Number(i.max_responses),plan_type:i.plan_type,trial_ends_at:i.trial_ends_at?new Date(i.trial_ends_at).toISOString():void 0,features_config:v},x=await d_(r.id,g);u(!1),x?(d({title:"Organization updated!"}),n(x),t()):d({title:"Failed to update organization",variant:"destructive"})}return a.jsx(Jl,{open:e,onOpenChange:p=>!p&&t(),children:a.jsxs(si,{className:"max-w-xl",children:[a.jsx(oi,{children:a.jsx(ai,{children:"Edit Organization"})}),a.jsxs(zl,{value:s,onValueChange:o,className:"mt-2",children:[a.jsxs(Ul,{className:"w-full grid grid-cols-3 mb-4",children:[a.jsx(cr,{value:"basic",children:"Basic Info"}),a.jsx(cr,{value:"plan",children:"Plan & Limits"}),a.jsx(cr,{value:"features",children:"Features"})]}),a.jsxs("form",{onSubmit:h,children:[a.jsxs(qe,{value:"basic",className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(ce,{children:"Name"}),a.jsx(pe,{value:i.name,onChange:p=>f("name",p.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ce,{children:"Slug"}),a.jsx(pe,{value:i.slug,onChange:p=>f("slug",p.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ce,{children:"Domain"}),a.jsx(pe,{value:i.domain,onChange:p=>f("domain",p.target.value)})]}),a.jsxs("div",{children:[a.jsx(ce,{children:"Logo URL"}),a.jsx(pe,{value:i.logo_url,onChange:p=>f("logo_url",p.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{children:[a.jsx(ce,{children:"Primary Color"}),a.jsx(pe,{type:"color",value:i.primary_color,onChange:p=>f("primary_color",p.target.value)})]}),a.jsxs("div",{children:[a.jsx(ce,{children:"Secondary Color"}),a.jsx(pe,{type:"color",value:i.secondary_color,onChange:p=>f("secondary_color",p.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(ce,{children:"Billing Email"}),a.jsx(pe,{value:i.billing_email,onChange:p=>f("billing_email",p.target.value),type:"email"})]})]}),a.jsxs(qe,{value:"plan",className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(ce,{children:"Plan Type"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2",value:i.plan_type,onChange:p=>f("plan_type",p.target.value),children:[a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("div",{children:[a.jsx(ce,{children:"Trial Ends At"}),a.jsx(pe,{type:"datetime-local",value:i.trial_ends_at,onChange:p=>f("trial_ends_at",p.target.value)})]}),a.jsxs("div",{children:[a.jsx(ce,{children:"Max Responses"}),a.jsx(pe,{type:"number",value:i.max_responses,min:1,onChange:p=>f("max_responses",p.target.value)})]})]}),a.jsx(qe,{value:"features",className:"space-y-3",children:a.jsxs("div",{children:[a.jsx(ce,{children:"Features Config Override (JSON)"}),a.jsx("textarea",{className:"w-full font-mono border rounded min-h-[120px] p-2 text-xs",value:i.features_config,onChange:p=>f("features_config",p.target.value),placeholder:'{ "analytics": true, "modules": {"settings": false} }'}),a.jsx("p",{className:"text-xs text-gray-500",children:"Advanced: Override default plan features."})]})}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx(J,{type:"button",variant:"outline",onClick:t,disabled:c,children:"Cancel"}),a.jsx(J,{type:"submit",disabled:c,children:c?"Saving...":"Save Changes"})]})]})]})]})})},bF=({org:e,onToggleActive:t,onUpdatePlan:r})=>{const[n,s]=m.useState(!1),[o,i]=m.useState(!1),[l,c]=m.useState(e);return a.jsxs(a.Fragment,{children:[a.jsx(ge,{className:`transition-all ${l.is_active?"border-green-200":"border-red-200 opacity-75"}`,children:a.jsxs(ve,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:l.name}),a.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${l.is_active?"bg-green-100 text-green-800":"bg-gray-200 text-gray-600"}`,children:l.is_active?"Active":"Inactive"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fl,{className:"w-4 h-4"}),a.jsxs("span",{children:["Slug: ",l.slug]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Z1,{className:"w-4 h-4"}),a.jsxs("span",{children:["Created: ",new Date(l.created_at).toLocaleDateString()]})]}),l.domain&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fl,{className:"w-4 h-4"}),a.jsxs("span",{children:["Domain: ",l.domain]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Max Responses: ",l.max_responses||100]})]})]})]})]}),a.jsx("div",{className:"flex flex-col space-y-2",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(J,{variant:l.is_active?"destructive":"default",size:"sm",onClick:()=>t(l.id,l.is_active),children:l.is_active?"Deactivate":"Activate"}),a.jsx(J,{variant:"outline",size:"sm",onClick:()=>i(!0),children:"Edit"}),a.jsxs(Jl,{open:n,onOpenChange:s,children:[a.jsx(z_,{asChild:!0,children:a.jsxs(J,{variant:"outline",size:"sm",children:[a.jsx(Eg,{className:"w-4 h-4 mr-1"}),"Users"]})}),a.jsxs(si,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[a.jsx(oi,{children:a.jsxs(ai,{children:["User Management - ",l.name]})}),a.jsx(yF,{organizationId:l.id,organizationName:l.name})]})]})]})})]}),!1]})}),o&&a.jsx(wF,{open:o,onClose:()=>i(!1),organization:l,onSave:d=>c(d)})]})},jF=({organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Organizations"}),a.jsx("p",{className:"text-gray-600",children:"Manage all organizations in the system"})]}),a.jsxs(J,{onClick:t,children:[a.jsx(cA,{className:"w-4 h-4 mr-2"}),"Add Organization"]})]}),a.jsx(F6,{organizations:e}),a.jsx("div",{className:"grid gap-4",children:e==null?void 0:e.map(s=>a.jsx(bF,{org:s,onToggleActive:r,onUpdatePlan:n},s.id))})]}),SF=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(!1),[s,o]=m.useState(!1),[i,l]=m.useState(!0);m.useEffect(()=>{c()},[]);const c=async()=>{try{console.log("Loading Flask wrapper URL...");const{data:f,error:h}=await q.from("system_settings").select("setting_value").eq("setting_key","flask_sms_wrapper_base_url").single();if(h&&h.code!=="PGRST116"){console.error("Error loading Flask URL:",h),Ur({title:"Error",description:"Failed to load Flask wrapper URL",variant:"destructive"});return}console.log("Flask URL loaded:",f==null?void 0:f.setting_value),t((f==null?void 0:f.setting_value)||"")}catch(f){console.error("Error loading Flask URL:",f)}finally{l(!1)}},u=async()=>{n(!0);try{console.log("Saving Flask wrapper URL:",e);const{error:f}=await q.from("system_settings").upsert({setting_key:"flask_sms_wrapper_base_url",setting_value:e.trim(),description:"Base URL for the Flask SMS wrapper API"},{onConflict:"setting_key"});if(f)throw console.error("Error saving Flask URL:",f),f;console.log("Flask URL saved successfully"),Ur({title:"Success",description:"Flask wrapper URL saved successfully"})}catch(f){console.error("Error saving Flask URL:",f),Ur({title:"Error",description:`Failed to save Flask wrapper URL: ${f.message}`,variant:"destructive"})}finally{n(!1)}},d=async()=>{if(!e.trim()){Ur({title:"Error",description:"Please enter a Flask wrapper URL first",variant:"destructive"});return}o(!0);try{const f=e.trim().replace(/\/$/,"")+"/health";console.log("Testing Flask connection to:",f);const h=await fetch(f,{method:"GET",headers:{"Content-Type":"application/json"}});console.log("Flask test response:",h.status,h.statusText),h.ok?Ur({title:"Success",description:"Flask wrapper API is reachable"}):Ur({title:"Warning",description:`Flask wrapper returned status: ${h.status}`,variant:"destructive"})}catch(f){console.error("Error testing Flask connection:",f),Ur({title:"Error",description:"Failed to connect to Flask wrapper API. Check the URL and try again.",variant:"destructive"})}finally{o(!1)}};return i?a.jsxs(ge,{children:[a.jsx(rt,{children:a.jsxs(nt,{className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"w-5 h-5"}),"Flask SMS Wrapper Settings"]})}),a.jsx(ve,{children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),a.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"})]})})]}):a.jsxs(ge,{children:[a.jsx(rt,{children:a.jsxs(nt,{className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"w-5 h-5"}),"Flask SMS Wrapper Settings"]})}),a.jsxs(ve,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{htmlFor:"flask-url",children:"Flask Wrapper Base URL"}),a.jsx(pe,{id:"flask-url",type:"url",placeholder:"http://localhost:5000 or https://your-flask-api.com",value:e,onChange:f=>t(f.target.value)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The base URL for your Flask SMS wrapper API (without trailing slash)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(J,{onClick:u,disabled:r,className:"flex-1",children:[a.jsx(ij,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save URL"]}),a.jsxs(J,{onClick:d,disabled:s||!e.trim(),variant:"outline",children:[a.jsx(mA,{className:"w-4 h-4 mr-2"}),s?"Testing...":"Test Connection"]})]}),e&&a.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"font-medium",children:"Expected endpoints:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[a.jsxs("li",{children:["• POST ",e,"/send-sms - Send SMS messages"]}),a.jsxs("li",{children:["• GET ",e,"/health - Health check (optional)"]})]}),a.jsx("p",{className:"mt-2 font-medium",children:"Required headers:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[a.jsx("li",{children:"• Content-Type: application/json"}),a.jsx("li",{children:"• X-Signature: HMAC-SHA256 signature for verification"})]})]})]})]})},_F=({organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})=>a.jsxs(zl,{defaultValue:"organizations",className:"w-full",children:[a.jsxs(Ul,{className:"grid w-full grid-cols-4",children:[a.jsxs(cr,{value:"organizations",className:"flex items-center gap-2",children:[a.jsx(fl,{className:"w-4 h-4"}),"Organizations"]}),a.jsxs(cr,{value:"users",className:"flex items-center gap-2",children:[a.jsx(Pr,{className:"w-4 h-4"}),"Users"]}),a.jsxs(cr,{value:"system",className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"w-4 h-4"}),"System Settings"]}),a.jsxs(cr,{value:"integrations",className:"flex items-center gap-2",children:[a.jsx(XT,{className:"w-4 h-4"}),"API Settings"]})]}),a.jsx(qe,{value:"organizations",className:"mt-6",children:a.jsx(jF,{organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})}),a.jsx(qe,{value:"users",className:"mt-6",children:a.jsx($6,{organizations:e})}),a.jsx(qe,{value:"system",className:"mt-6",children:a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"System Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and integrations."})]})})}),a.jsx(qe,{value:"integrations",className:"mt-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"API Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Configure external API integrations and wrapper services."})]}),a.jsx(SF,{})]})})]}),NF=()=>{const[e,t]=m.useState(!1),r=sn(),{data:n,isLoading:s}=Ar({queryKey:["organizations"],queryFn:T3}),o=js({mutationFn:({id:u,updates:d})=>d_(u,d),onSuccess:()=>{r.invalidateQueries({queryKey:["organizations"]}),Ce.success("Organization updated successfully")},onError:()=>{Ce.error("Failed to update organization")}}),i=js({mutationFn:u=>A3(u),onSuccess:()=>{r.invalidateQueries({queryKey:["organizations"]}),t(!1),Ce.success("Organization created successfully")},onError:()=>{Ce.error("Failed to create organization")}}),l=(u,d)=>{o.mutate({id:u,updates:{is_active:!d}})},c=(u,d)=>{o.mutate({id:u,updates:{plan_type:d}})};return s?a.jsx("div",{className:"p-8",children:"Loading admin dashboard..."}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage organizations, view statistics, and configure system settings"})]}),a.jsx(_F,{organizations:n||[],onCreateClick:()=>t(!0),onToggleActive:l,onUpdatePlan:c}),e&&a.jsx(D3,{onClose:()=>t(!1),onSubmit:u=>i.mutate(u)})]})})},kF=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(!1),[s,o]=m.useState(""),[i,l]=m.useState(!1),c=Dr(),{toast:u}=rn(),{user:d,refreshUserRoles:f}=Pn();return m.useEffect(()=>{(async()=>{if(!d){o("You must be logged in to create an organization");return}n(!0),o("");try{console.log("Creating organization for user:",d.email);const p=d.email?`${d.email.split("@")[0][0].toUpperCase()}${d.email.split("@")[0].slice(1)}'s Organization`:"My Organization";t(p);let v=p.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().substring(0,50),g=v,x=1,{data:w}=await q.from("organizations").select("slug").eq("slug",g).single();for(;w;)if(g=`${v}-${x}`,{data:w}=await q.from("organizations").select("slug").eq("slug",g).single(),x++,x>100)throw new Error("Unable to generate unique slug");console.log("Creating organization with slug:",g);const{data:y,error:b}=await q.from("organizations").insert({name:p,slug:g,created_by_user_id:d.id,is_active:!0,billing_email:d.email,plan_type:"starter"}).select().single();if(b)throw b;console.log("Organization created:",y.id);const{error:j}=await q.from("organization_users").insert({user_id:d.id,organization_id:y.id,email:d.email,role:"admin",status:"active",accepted_at:new Date().toISOString()});if(j)throw j;console.log("User added to organization as admin"),l(!0),u({title:"Organization Created!",description:`Welcome to ${p}. Redirecting to your dashboard...`}),await f(),setTimeout(()=>{console.log("Redirecting to organization dashboard:",g),c(`/admin/${g}`)},2e3)}catch(p){console.error("Error creating organization:",p),o(p.message||"Failed to create organization")}finally{n(!1)}})()},[d]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(ge,{className:"shadow-lg",children:[a.jsxs(rt,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center text-blue-600 mb-4",children:a.jsx(Yr,{className:"h-8 w-8"})}),a.jsx(nt,{className:"text-2xl font-bold",children:i?"You're all set!":"Creating Your Organization"}),a.jsx("p",{className:"text-gray-600",children:i?"Welcome to your dashboard.":"Please wait while we set up your organization..."})]}),a.jsxs(ve,{children:[s&&a.jsx(Yt,{children:a.jsx(Gt,{children:s})}),!i&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsx(J,{variant:"ghost",disabled:!0,className:"pointer-events-none select-none",children:r?"Creating organization...":"Preparing..."})})]})]})})})},Rv=()=>{Dr();const[e,t]=m.useState(!0),[r,n]=m.useState(0),s=()=>{typeof window<"u"&&(window.scrollY>r&&window.scrollY>100?t(!1):t(!0),n(window.scrollY))};return m.useEffect(()=>{if(typeof window<"u")return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[r]),a.jsx("header",{className:`fixed top-0 w-full bg-transparent backdrop-blur-lg border-b border-warm-gray-100/20 dark:border-dark-warm-200/20 z-50 transition-transform duration-300 ${e?"translate-y-0":"-translate-y-full"}`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-between items-center py-4",children:a.jsxs(Oa,{to:"/",className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Yr,{className:"w-8 h-8 text-sunset-500","aria-label":"Pulsify pulse icon"}),a.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-sunset-500 rounded-full opacity-20 animate-ping"})]}),a.jsx("span",{className:"text-2xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:"Pulsify"})]})})})})},Da=({variant:e="light"})=>{const t=e==="dark";return a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:`absolute -top-40 -right-40 w-96 h-96 ${t?"bg-gradient-to-br from-sunset-500/20 via-coral-500/15 to-golden-400/10":"bg-gradient-to-br from-sunset-200/40 via-coral-200/30 to-golden-200/20"} rounded-full blur-3xl animate-blob`,style:{borderRadius:"60% 40% 30% 70% / 60% 30% 70% 40%",animationDelay:"0s"}}),a.jsx("div",{className:`absolute top-1/3 -left-32 w-80 h-80 ${t?"bg-gradient-to-tr from-golden-400/15 via-sunset-500/20 to-coral-500/10":"bg-gradient-to-tr from-golden-300/30 via-sunset-300/40 to-coral-300/20"} rounded-full blur-2xl animate-flow`,style:{borderRadius:"30% 60% 70% 40% / 50% 60% 30% 60%",animationDelay:"2s"}}),a.jsx("div",{className:`absolute bottom-20 right-1/4 w-64 h-64 ${t?"bg-gradient-to-bl from-coral-500/20 via-golden-400/15 to-sunset-500/10":"bg-gradient-to-bl from-coral-200/35 via-golden-200/25 to-sunset-200/15"} rounded-full blur-2xl animate-float`,style:{borderRadius:"70% 30% 60% 40% / 40% 50% 60% 50%",animationDelay:"4s"}}),a.jsx("div",{className:`absolute top-1/2 left-1/3 w-32 h-32 ${t?"bg-gradient-to-r from-sunset-400/25 to-golden-400/20":"bg-gradient-to-r from-sunset-200/50 to-golden-200/40"} rounded-full blur-xl animate-morph`,style:{animationDelay:"1s"}}),a.jsx("div",{className:`absolute bottom-1/3 left-2/3 w-24 h-24 ${t?"bg-gradient-to-l from-coral-400/20 to-sunset-400/15":"bg-gradient-to-l from-coral-200/45 to-sunset-200/35"} rounded-full blur-lg animate-fluid-move`,style:{animationDelay:"3s"}}),a.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-br from-transparent via-dark-warm-50/10 to-dark-warm-100/20":"bg-gradient-to-br from-transparent via-white/10 to-warm-gray-50/20"}`})]})},CF=()=>{const e=[{icon:a.jsx(vo,{className:"w-4 h-4"}),value:"94%",label:"Satisfaction Rate",position:"top-20 right-20",delay:"0s"},{icon:a.jsx(Pr,{className:"w-4 h-4"}),value:"2,000+",label:"Happy Customers",position:"top-1/3 left-16",delay:"1s"},{icon:a.jsx(rj,{className:"w-4 h-4"}),value:"15M+",label:"Feedback Collected",position:"bottom-1/3 right-16",delay:"2s"},{icon:a.jsx(Jr,{className:"w-4 h-4"}),value:"40%",label:"Growth Increase",position:"bottom-32 left-1/4",delay:"3s"}];return a.jsx("div",{className:"absolute inset-0 pointer-events-none hidden lg:block",children:e.map((t,r)=>a.jsx("div",{className:`absolute ${t.position} bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm border border-warm-gray-200/50 dark:border-dark-warm-300/50 rounded-2xl p-4 shadow-lg shadow-warm-gray-900/5 dark:shadow-dark-warm-50/20 animate-float`,style:{animationDelay:t.delay},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-lg text-white",children:t.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:t.value}),a.jsx("div",{className:"text-xs text-warm-gray-600 dark:text-dark-warm-600",children:t.label})]})]})},r))})},EF=()=>{const e=Dr();return a.jsxs("section",{className:"relative min-h-screen bg-white dark:bg-dark-warm-50 overflow-hidden flex flex-col",children:[a.jsx(Da,{}),a.jsx(Da,{variant:"dark"}),a.jsx(CF,{}),a.jsx("div",{className:"relative w-full flex-grow flex items-center max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 sm:pt-32",children:a.jsxs("div",{className:"text-center space-y-12 animate-fade-in w-full",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600",children:[a.jsxs("div",{className:"flex -space-x-1",children:[a.jsx("div",{className:"w-6 h-6 bg-sunset-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle"}),a.jsx("div",{className:"w-6 h-6 bg-golden-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"w-6 h-6 bg-coral-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle",style:{animationDelay:"1s"}})]}),a.jsx("span",{className:"text-sm font-medium",children:"Trusted by 2,000+ businesses worldwide"})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Yr,{className:"w-12 h-12 text-sunset-500 animate-pulse-gentle"}),a.jsx("div",{className:"absolute inset-0 w-12 h-12 bg-sunset-500 rounded-full opacity-20 animate-ping"})]}),a.jsx("h1",{className:"text-6xl lg:text-8xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 tracking-tight",children:"Pulsify"})]}),a.jsx("div",{className:"relative",children:a.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-bold text-warm-gray-800 dark:text-dark-warm-800 leading-tight max-w-5xl mx-auto",children:["Turn feedback into"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"revenue"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full animate-scale-in"})]}),".",a.jsx("span",{className:"block text-2xl lg:text-4xl mt-4 font-medium text-warm-gray-600 dark:text-dark-warm-600",children:"Get insights 10x faster. Reduce churn by 30%."})]})})]}),a.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed max-w-4xl mx-auto font-medium",children:"Our AI-powered platform unifies and analyzes customer feedback, delivering actionable insights to help you build better products and prevent customer churn."}),a.jsx("div",{className:"flex justify-center pt-8",children:a.jsx(J,{onClick:()=>e("/auth"),className:"bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white font-semibold shadow-lg shadow-sunset-500/25 px-10 py-4 rounded-full text-xl h-auto transition-all duration-300 hover:scale-105",children:a.jsxs("span",{className:"flex items-center justify-center space-x-3",children:[a.jsx("span",{children:"Start Free Trial"}),a.jsx(Ng,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})}),a.jsx("div",{className:"relative w-full flex justify-center pb-8 px-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-8 text-sm text-warm-gray-500 dark:text-dark-warm-500",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"font-medium",children:"No credit card required"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),a.jsx("span",{className:"font-medium",children:"14-day free trial"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",style:{animationDelay:"1s"}}),a.jsx("span",{className:"font-medium",children:"Setup in under 5 minutes"})]})]})})]})},PF=()=>{const e=[{icon:a.jsx(fl,{className:"h-6 w-6"}),title:"Small Businesses",description:"Restaurant owners, retail stores, and service providers looking to understand customer satisfaction"},{icon:a.jsx(Pr,{className:"h-6 w-6"}),title:"Growing Companies",description:"Mid-size businesses scaling operations and needing structured feedback management"},{icon:a.jsx(vo,{className:"h-6 w-6"}),title:"Enterprise Teams",description:"Large organizations requiring advanced analytics and team collaboration features"}],t=[{step:"01",title:"Collect",description:"Deploy feedback forms across touchpoints or send SMS surveys to gather customer insights",icon:a.jsx(Pa,{className:"h-8 w-8"})},{step:"02",title:"Analyze",description:"AI automatically categorizes and analyzes sentiment in real-time with machine learning",icon:a.jsx(Jr,{className:"h-8 w-8"})},{step:"03",title:"Act",description:"Get actionable insights and track improvements with intelligent recommendations",icon:a.jsx(Cg,{className:"h-8 w-8"})}];return a.jsxs("section",{className:"relative py-24 bg-warm-gray-50 dark:bg-dark-warm-50 overflow-hidden",children:[a.jsx(Da,{}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx(Pr,{className:"w-5 h-5 text-sunset-500"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Who It's For"})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Built for"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"every business"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-3xl mx-auto leading-relaxed font-medium mb-12",children:"Whether you're starting out or scaling up, Pulsify helps you understand and improve customer satisfaction"}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((r,n)=>a.jsxs("div",{className:"group relative bg-white/95 dark:bg-dark-warm-100/95 rounded-2xl p-8 border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sunset-500/5 via-coral-500/5 to-golden-400/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-xl flex items-center justify-center text-white mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:r.icon}),a.jsx("h3",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-3",children:r.title}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed text-sm",children:r.description})]})]},n))})]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx("div",{className:"w-2 h-2 bg-sunset-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"How It Works"}),a.jsx("div",{className:"w-2 h-2 bg-coral-500 rounded-full animate-pulse",style:{animationDelay:"1s"}})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Simple."," ",a.jsx("span",{className:"relative",children:a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"Powerful."})})," ","Effective."]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-3xl mx-auto leading-relaxed font-medium",children:"Three simple steps to transform feedback into growth"})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-12",children:t.map((r,n)=>a.jsxs("div",{className:"text-center group relative",children:[n<2&&a.jsx("div",{className:"hidden md:block absolute top-16 left-3/4 w-1/2 h-0.5 bg-gradient-to-r from-sunset-300 to-coral-300 dark:from-sunset-600 dark:to-coral-600 opacity-30"}),a.jsxs("div",{className:"relative mb-8 group-hover:scale-110 transition-transform duration-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-400 rounded-2xl flex items-center justify-center text-white mx-auto shadow-xl group-hover:shadow-2xl transition-shadow duration-300",children:r.icon}),a.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-400 rounded-2xl mx-auto opacity-20 animate-pulse"})]}),a.jsx("div",{className:"absolute -top-3 -right-3 w-12 h-12 bg-white dark:bg-dark-warm-100 rounded-full border-4 border-sunset-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:a.jsx("span",{className:"text-lg font-space font-black text-sunset-600",children:r.step})})]}),a.jsx("h3",{className:"text-xl lg:text-2xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-4",children:r.title}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium",children:r.description})]},n))})]})]})},RF=()=>a.jsxs("section",{className:"relative py-24 bg-white dark:bg-background overflow-hidden",children:[a.jsx(Da,{variant:"dark"}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid lg:grid-cols-12 gap-16 items-center",children:[a.jsxs("div",{className:"lg:col-span-5 text-center lg:text-left",children:[a.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx(Jr,{className:"w-5 h-5 text-sunset-500"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Platform Overview"})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Your"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"complete"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})," ","customer feedback platform"]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium mb-8",children:"Pulsify is an AI-powered feedback management system that helps businesses collect, analyze, and act on customer insights to drive growth and improve satisfaction"}),a.jsx("div",{className:"space-y-4",children:["Real-time sentiment analysis","Multi-channel feedback collection","Automated insights & recommendations"].map((e,t)=>a.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-sunset-500 rounded-full"}),a.jsx("span",{className:"text-warm-gray-700 dark:text-dark-warm-700 font-medium",children:e})]},t))})]}),a.jsx("div",{className:"lg:col-span-7",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"bg-white/95 dark:bg-dark-warm-100/95 rounded-3xl shadow-xl border border-warm-gray-200 dark:border-dark-warm-200 p-8 transition-all duration-500 hover:shadow-2xl hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 mt-1",children:"Real-time insights"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),a.jsx("div",{className:"w-3 h-3 bg-sunset-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"w-3 h-3 bg-coral-500 rounded-full animate-pulse",style:{animationDelay:"1s"}})]})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{icon:a.jsx(Pr,{className:"w-5 h-5"}),value:"2.8k+",label:"Responses",color:"from-sunset-500 to-coral-500"},{icon:a.jsx(rj,{className:"w-5 h-5"}),value:"94%",label:"Satisfaction",color:"from-coral-500 to-golden-400"},{icon:a.jsx(vo,{className:"w-5 h-5"}),value:"+23%",label:"Growth",color:"from-golden-400 to-sunset-500"},{icon:a.jsx(Jr,{className:"w-5 h-5"}),value:"4.8",label:"Avg Rating",color:"from-sunset-500 to-coral-500"}].map((e,t)=>a.jsxs("div",{className:"bg-white/90 dark:bg-dark-warm-200/90 rounded-xl p-4 border border-warm-gray-200/50 dark:border-dark-warm-300/50 hover:-translate-y-1 transition-transform duration-300",children:[a.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${e.color} rounded-lg flex items-center justify-center text-white mb-2`,children:e.icon}),a.jsx("div",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:e.value}),a.jsx("div",{className:"text-xs text-warm-gray-600 dark:text-dark-warm-600",children:e.label})]},t))}),a.jsx("div",{className:"bg-warm-gray-50 dark:bg-dark-warm-200 rounded-xl p-6 min-h-32 flex items-center justify-center border border-warm-gray-200 dark:border-dark-warm-300",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-xl flex items-center justify-center text-white mx-auto mb-3",children:a.jsx(Jr,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-lg font-space font-bold text-warm-gray-700 dark:text-dark-warm-700",children:"Interactive Analytics"})]})})]}),a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 bg-gradient-to-br from-sunset-400 to-coral-400 rounded-xl opacity-20 animate-float"}),a.jsx("div",{className:"absolute -bottom-4 -right-4 w-16 h-16 bg-gradient-to-br from-golden-400 to-sunset-400 rounded-2xl opacity-20 animate-float",style:{animationDelay:"2s"}})]})})]})})]}),TF=()=>{const e=[{problem:"Lost customers due to poor experiences",solution:"Get real-time alerts when issues arise",icon:a.jsx(Pr,{className:"h-6 w-6"}),gradient:"from-sunset-500 to-coral-500"},{problem:"Making decisions without customer insights",solution:"AI-powered analytics reveal hidden patterns",icon:a.jsx(Jr,{className:"h-6 w-6"}),gradient:"from-coral-500 to-golden-400"},{problem:"Scattered feedback across multiple channels",solution:"Unified platform for all customer touchpoints",icon:a.jsx(Pa,{className:"h-6 w-6"}),gradient:"from-golden-400 to-sunset-500"}],t=[{icon:a.jsx(Pa,{className:"h-6 w-6"}),title:"Multi-Channel Collection",description:"Forms, SMS, QR codes - collect feedback everywhere customers are",gradient:"from-sunset-500 to-coral-500",benefits:["Email & SMS surveys","Web forms & QR codes","Social media integration"]},{icon:a.jsx(Jr,{className:"h-6 w-6"}),title:"AI-Powered Analysis",description:"Automatic sentiment analysis and categorization for instant insights",gradient:"from-coral-500 to-golden-400",benefits:["Real-time sentiment analysis","Automated categorization","Trend identification"]},{icon:a.jsx(km,{className:"h-6 w-6"}),title:"Real-Time Alerts",description:"Get notified immediately when feedback requires urgent attention",gradient:"from-golden-400 to-sunset-500",benefits:["Instant notifications","Priority flagging","Custom alert rules"]},{icon:a.jsx(Ka,{className:"h-6 w-6"}),title:"Enterprise Security",description:"Bank-grade security with SOC 2 compliance and data protection",gradient:"from-sunset-500 to-coral-500",benefits:["SOC 2 compliance","End-to-end encryption","GDPR compliant"]}];return a.jsxs("section",{className:"relative py-24 bg-white dark:bg-background overflow-hidden",children:[a.jsx(Da,{}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx(vo,{className:"w-5 h-5 text-sunset-500"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Why It Matters"})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Stop losing"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"customers"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})," ","to poor experiences"]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-4xl mx-auto leading-relaxed font-medium mb-12",children:"Without proper feedback management, businesses miss critical insights that could prevent customer churn and drive growth"}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:e.map((r,n)=>a.jsxs("div",{className:"group relative bg-white/95 dark:bg-dark-warm-100/95 rounded-2xl p-6 border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 via-orange-500/5 to-yellow-500/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-xl flex items-center justify-center text-white mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`,children:r.icon}),a.jsxs("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400 mb-2",children:["Problem: ",r.problem]}),a.jsxs("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["Solution: ",r.solution]})]})]},n))})]}),a.jsx("div",{className:"text-center mb-16",children:a.jsx("h3",{className:"text-2xl lg:text-4xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-12",children:"Powerful features that make the difference"})}),a.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:t.map((r,n)=>a.jsxs(ge,{className:"group relative border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg bg-white/95 dark:bg-dark-warm-100/95 hover:shadow-xl transition-all duration-300 rounded-2xl overflow-hidden hover:-translate-y-1",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sunset-500/5 via-coral-500/5 to-golden-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx(rt,{className:"pb-4 relative",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-xl flex items-center justify-center text-white flex-shrink-0 group-hover:scale-110 transition-transform duration-300`,children:r.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx(nt,{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 leading-tight mb-2",children:r.title}),a.jsx(yl,{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium",children:r.description})]})]})}),a.jsx(ve,{className:"pt-0 relative",children:a.jsx("div",{className:"space-y-2",children:r.benefits.map((s,o)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Er,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-warm-gray-600 dark:text-dark-warm-600 font-medium",children:s})]},o))})})]},n))})]})]})},AF=()=>{const e=Dr(),[t,r]=m.useState(!1),n=[{icon:a.jsx(Ea,{className:"w-8 h-8"}),title:"Customer complaints increasing?",description:"Don't wait until it's too late - start monitoring satisfaction now"},{icon:a.jsx(vs,{className:"w-8 h-8"}),title:"Competing on customer experience?",description:"Get ahead of competitors with better customer insights"},{icon:a.jsx(km,{className:"w-8 h-8"}),title:"Growing fast and losing touch?",description:"Scale your business without losing the personal connection"}],s=[{name:"Starter",monthlyPrice:7,yearlyPrice:70,period:t?"/year":"/month",description:"Perfect for small teams getting started with feedback.",features:["Up to 5 team members","1,000 responses/month","Standard Analytics","Email Support"],popular:!1,cta:"Start Free Trial",gradient:"from-warm-gray-100 to-warm-gray-50"},{name:"Growth",monthlyPrice:27,yearlyPrice:270,period:t?"/year":"/month",description:"For growing businesses who need to scale their feedback operations.",features:["Up to 15 team members","5,000 responses/month","AI-Powered Insights","Priority Support","Custom Branding"],popular:!0,cta:"Start Free Trial",gradient:"from-sunset-50 to-coral-50"},{name:"Pro",monthlyPrice:97,yearlyPrice:970,period:t?"/year":"/month",description:"For established businesses that require advanced control and integrations.",features:["Up to 30 team members","20,000 responses/month","API Access","Advanced Integrations","Team Collaboration Tools"],popular:!1,cta:"Start Free Trial",gradient:"from-golden-50 to-sunset-50"},{name:"Enterprise",monthlyPrice:247,yearlyPrice:2470,period:t?"/year":"/month",description:"Tailored solutions for large organizations with complex needs.",features:["Unlimited team members","Custom response limits","Dedicated Success Manager","SLA & Advanced Security","On-premise deployment"],popular:!1,cta:"Start Free Trial",gradient:"from-warm-gray-100 to-warm-gray-50"}],o=i=>t?i.yearlyPrice:i.monthlyPrice;return a.jsxs("section",{id:"pricing",className:"relative py-32 bg-gradient-to-br from-warm-gray-50 via-white to-sunset-50/30 dark:from-dark-warm-50 dark:via-dark-warm-100 dark:to-dark-warm-50 overflow-hidden",children:[a.jsx(Da,{}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-24 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-8",children:[a.jsx(Ea,{className:"w-6 h-6 text-sunset-500"}),a.jsx("span",{className:"text-lg font-space font-medium",children:"When You Need It"})]}),a.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-8 leading-tight",children:["The"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"right time"}),a.jsx("div",{className:"absolute -bottom-3 left-0 right-0 h-2 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full animate-scale-in"})]})," ","is now"]}),a.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium max-w-4xl mx-auto mb-16",children:"Don't wait until customer satisfaction becomes a crisis. Start building better relationships today."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:n.map((i,l)=>a.jsxs("div",{className:"bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm rounded-3xl p-8 border border-warm-gray-200/50 dark:border-dark-warm-300/50 group hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl flex items-center justify-center text-white mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:i.icon}),a.jsx("h3",{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-4",children:i.title}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed",children:i.description})]},l))})]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-8",children:[a.jsx(km,{className:"w-6 h-6 text-sunset-500"}),a.jsx("span",{className:"text-lg font-space font-medium",children:"Where To Get Started"})]}),a.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-8 leading-tight",children:["Choose your"," ",a.jsx("span",{className:"relative",children:a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"growth path"})})]}),a.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium max-w-4xl mx-auto mb-12",children:"Start free, scale as you grow. Upgrade or downgrade anytime."}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-16",children:[a.jsx("span",{className:`text-lg font-medium ${t?"text-warm-gray-600 dark:text-dark-warm-600":"text-sunset-600 dark:text-sunset-400"}`,children:"Monthly"}),a.jsx("button",{onClick:()=>r(!t),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-sunset-500 focus:ring-offset-2 ${t?"bg-sunset-500":"bg-warm-gray-300 dark:bg-dark-warm-400"}`,children:a.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${t?"translate-x-7":"translate-x-1"}`})}),a.jsxs("span",{className:`text-lg font-medium ${t?"text-sunset-600 dark:text-sunset-400":"text-warm-gray-600 dark:text-dark-warm-600"}`,children:["Yearly",a.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 text-sm rounded-full",children:"Save 20%"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8 max-w-7xl mx-auto mb-16 items-stretch",children:s.map((i,l)=>a.jsxs(ge,{className:`flex flex-col border-0 shadow-lg relative transition-all duration-300 rounded-3xl group ${i.popular?"bg-white dark:bg-dark-warm-100 shadow-2xl shadow-sunset-500/20 ring-2 ring-sunset-500 z-10":"bg-white/60 dark:bg-dark-warm-100/60 backdrop-blur-md border border-warm-gray-200/50 dark:border-dark-warm-300/50 hover:bg-white dark:hover:bg-dark-warm-100 hover:shadow-xl hover:scale-[1.02]"}`,children:[i.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-20",children:a.jsx(er,{className:"bg-gradient-to-r from-sunset-500 to-coral-500 text-white px-6 py-2 text-base font-space font-bold shadow-lg rounded-full",children:"Most Popular"})}),a.jsxs(rt,{className:"text-center pb-8 pt-12",children:[a.jsx(nt,{className:"text-3xl font-space font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-2",children:i.name}),a.jsxs("div",{className:"mt-6 mb-4",children:[a.jsxs("span",{className:"text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900",children:["$",o(i)]}),i.period&&a.jsx("span",{className:"text-warm-gray-500 dark:text-dark-warm-500 text-lg font-medium",children:i.period})]}),a.jsx(yl,{className:"text-warm-gray-600 dark:text-dark-warm-600 text-base leading-relaxed px-4",children:i.description})]}),a.jsxs(ve,{className:"flex flex-col flex-grow px-8 pb-8",children:[a.jsx("ul",{className:"space-y-4 flex-grow",children:i.features.map((c,u)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(Er,{className:"h-6 w-6 text-green-500 mr-3 mt-1 flex-shrink-0"}),a.jsx("span",{className:"text-warm-gray-700 dark:text-dark-warm-600 font-medium text-base",children:c})]},u))}),a.jsx(J,{className:"w-full mt-10",variant:i.popular?"default":"outline",size:"lg",onClick:()=>e("/auth"),children:a.jsxs("span",{className:"flex items-center justify-center",children:[i.cta,a.jsx(Ng,{className:"ml-3 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]})]},l))}),a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm rounded-2xl p-8 max-w-2xl mx-auto border border-warm-gray-200/50 dark:border-dark-warm-300/50 shadow-lg",children:a.jsxs("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 font-medium text-lg",children:["All plans include a ",a.jsx("span",{className:"text-sunset-600 dark:text-sunset-400 font-semibold",children:"14-day free trial"}),a.jsx("br",{}),"No setup fees • Cancel anytime • Full feature access"]})})})]})]})},OF=()=>a.jsxs("section",{className:"relative py-32 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-500 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 left-20 w-40 h-40 bg-white/10 rounded-full animate-float blur-xl"}),a.jsx("div",{className:"absolute bottom-20 right-20 w-32 h-32 bg-white/10 rounded-full animate-pulse-gentle blur-lg"}),a.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-white/5 rounded-full animate-morph blur-lg"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-36 h-36 bg-white/5 rounded-full animate-blob blur-xl"}),a.jsx("div",{className:"absolute top-40 right-40 w-64 h-64 bg-white/5 rounded-full blur-3xl animate-flow",style:{borderRadius:"60% 40% 30% 70% / 60% 30% 70% 40%"}}),a.jsx("div",{className:"absolute bottom-40 left-40 w-48 h-48 bg-white/5 rounded-full blur-2xl animate-float",style:{borderRadius:"30% 60% 70% 40% / 50% 60% 30% 60%"}})]}),a.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Yr,{className:"w-8 h-8 text-white animate-pulse-gentle","aria-label":"Pulsify pulse icon"}),a.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-white rounded-full opacity-20 animate-ping"})]}),a.jsx("span",{className:"text-white/90 text-lg font-space font-medium",children:"Join 2,000+ happy customers"})]}),a.jsxs("h2",{className:"text-5xl lg:text-7xl font-space font-black text-white mb-10 leading-tight","aria-label":"Ready to transform your customer feedback?",children:["Ready to"," ",a.jsxs("span",{className:"relative",children:["transform",a.jsx("div",{className:"absolute -bottom-4 left-0 right-0 h-2 bg-white rounded-full animate-scale-in"})]}),a.jsx("br",{}),"your customer feedback?"]}),a.jsxs("p",{className:"text-2xl lg:text-3xl text-white/95 leading-relaxed max-w-4xl mx-auto font-medium",children:["Join thousands of businesses using Pulsify to make"," ",a.jsx("span",{className:"font-bold",children:"better decisions"})]})]})]}),MF=()=>{const[e,t]=m.useState(!1);m.useEffect(()=>{const n=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;(n==="dark"||!n&&s)&&(t(!0),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=!e;t(n),n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return a.jsx(J,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full",children:e?a.jsx(fA,{className:"h-5 w-5 text-golden-400"}):a.jsx(aA,{className:"h-5 w-5 text-warm-gray-600"})})},Ly=({href:e,children:t,isRouterLink:r=!1})=>r?a.jsx(Oa,{to:e,className:"text-warm-gray-400 hover:text-white transition-colors duration-300 text-base",children:t}):a.jsx("a",{href:e,className:"text-warm-gray-400 hover:text-white transition-colors duration-300 text-base",children:t}),Tv=()=>a.jsx("footer",{className:"bg-warm-gray-900 dark:bg-dark-warm-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Yr,{className:"w-8 h-8 text-sunset-500","aria-label":"Pulsify pulse icon"}),a.jsx("span",{className:"text-2xl font-space font-bold text-white",children:"Pulsify"})]}),a.jsx("p",{className:"text-base text-warm-gray-400 max-w-xs",children:"Real Insights. Real Impact."}),a.jsxs("div",{className:"text-base text-warm-gray-400 mt-4 space-y-1",children:[a.jsx("p",{children:"info@pulsify.bunisystems.com"}),a.jsx("p",{children:"+254207862379"}),a.jsx("p",{children:"Nairobi, Kenya"})]})]})}),a.jsxs("div",{className:"mt-12 border-t border-warm-gray-700 pt-8 flex flex-col-reverse sm:flex-row sm:justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-x-6 gap-y-4",children:[a.jsxs("p",{className:"text-base text-warm-gray-500",children:["© ",new Date().getFullYear()," Pulsify. All rights reserved."]}),a.jsxs("div",{className:"flex items-center gap-x-6",children:[a.jsx(Ly,{href:"/privacy-policy",isRouterLink:!0,children:"Privacy Policy"}),a.jsx(Ly,{href:"/terms-of-service",isRouterLink:!0,children:"Terms of Service"})]})]}),a.jsx(MF,{})]})]})}),DF=[{icon:a.jsx(dA,{className:"h-10 w-10 text-sunset-500"}),name:"SOC 2 Compliant",description:"Enterprise-grade security standards."},{icon:a.jsx(sj,{className:"h-10 w-10 text-coral-500"}),name:"GDPR & CCPA Ready",description:"Your data privacy is our priority."},{icon:a.jsx(eA,{className:"h-10 w-10 text-golden-500"}),name:"99.9% Uptime SLA",description:"Reliable service you can count on."}],IF=()=>a.jsx("section",{className:"py-24 bg-warm-gray-50 dark:bg-dark-warm-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-base font-semibold text-sunset-600 dark:text-sunset-400 tracking-wider uppercase",children:"Trusted & Secure"}),a.jsx("p",{className:"mt-2 text-3xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 tracking-tight sm:text-4xl",children:"Your peace of mind is our top priority"}),a.jsx("p",{className:"mt-5 max-w-prose mx-auto text-xl text-warm-gray-500 dark:text-dark-warm-500",children:"We employ best-in-class security practices to keep your data safe, secure, and private."})]}),a.jsx("div",{className:"mt-12",children:a.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:DF.map(e=>a.jsx("div",{className:"pt-6",children:a.jsx("div",{className:"flow-root bg-white dark:bg-dark-warm-200 rounded-lg px-6 pb-8 shadow-lg",children:a.jsxs("div",{className:"-mt-6",children:[a.jsx("div",{children:a.jsx("span",{className:"inline-flex items-center justify-center p-3 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-md shadow-lg",children:A.cloneElement(e.icon,{className:"h-8 w-8 text-white"})})}),a.jsx("h3",{className:"mt-8 text-lg font-medium text-warm-gray-900 dark:text-dark-warm-900 tracking-tight",children:e.name}),a.jsx("p",{className:"mt-5 text-base text-warm-gray-500 dark:text-dark-warm-500",children:e.description})]})})},e.name))})})]})});var Av="Collapsible",[LF,rC]=ut(Av),[$F,Ov]=LF(Av),nC=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c=!1,u]=_t({prop:n,defaultProp:s,onChange:i});return a.jsx($F,{scope:r,disabled:o,contentId:Ft(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:a.jsx(V.div,{"data-state":Dv(c),"data-disabled":o?"":void 0,...l,ref:t})})});nC.displayName=Av;var sC="CollapsibleTrigger",oC=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Ov(sC,r);return a.jsx(V.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Dv(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:D(e.onClick,s.onOpenToggle)})});oC.displayName=sC;var Mv="CollapsibleContent",aC=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ov(Mv,e.__scopeCollapsible);return a.jsx(Qe,{present:r||s.open,children:({present:o})=>a.jsx(FF,{...n,ref:t,present:o})})});aC.displayName=Mv;var FF=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,i=Ov(Mv,r),[l,c]=m.useState(n),u=m.useRef(null),d=te(t,u),f=m.useRef(0),h=f.current,p=m.useRef(0),v=p.current,g=i.open||l,x=m.useRef(g),w=m.useRef();return m.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),Ge(()=>{const y=u.current;if(y){w.current=w.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const b=y.getBoundingClientRect();f.current=b.height,p.current=b.width,x.current||(y.style.transitionDuration=w.current.transitionDuration,y.style.animationName=w.current.animationName),c(n)}},[i.open,n]),a.jsx(V.div,{"data-state":Dv(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:g&&s})});function Dv(e){return e?"open":"closed"}var zF=nC,UF=oC,BF=aC,Tn="Accordion",WF=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Iv,qF,VF]=qa(Tn),[lf,XW]=ut(Tn,[VF,rC]),Lv=rC(),iC=A.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,o=n;return a.jsx(Iv.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(GF,{...o,ref:t}):a.jsx(YF,{...s,ref:t})})});iC.displayName=Tn;var[lC,HF]=lf(Tn),[cC,KF]=lf(Tn,{collapsible:!1}),YF=A.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[l,c]=_t({prop:r,defaultProp:n,onChange:s});return a.jsx(lC,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:A.useCallback(()=>o&&c(""),[o,c]),children:a.jsx(cC,{scope:e.__scopeAccordion,collapsible:o,children:a.jsx(uC,{...i,ref:t})})})}),GF=A.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[i=[],l]=_t({prop:r,defaultProp:n,onChange:s}),c=A.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=A.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(lC,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:a.jsx(cC,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(uC,{...o,ref:t})})})}),[QF,cf]=lf(Tn),uC=A.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:o="vertical",...i}=e,l=A.useRef(null),c=te(l,t),u=qF(r),f=Ps(s)==="ltr",h=D(e.onKeyDown,p=>{var E;if(!WF.includes(p.key))return;const v=p.target,g=u().filter(T=>{var R;return!((R=T.ref.current)!=null&&R.disabled)}),x=g.findIndex(T=>T.ref.current===v),w=g.length;if(x===-1)return;p.preventDefault();let y=x;const b=0,j=w-1,S=()=>{y=x+1,y>j&&(y=b)},N=()=>{y=x-1,y<b&&(y=j)};switch(p.key){case"Home":y=b;break;case"End":y=j;break;case"ArrowRight":o==="horizontal"&&(f?S():N());break;case"ArrowDown":o==="vertical"&&S();break;case"ArrowLeft":o==="horizontal"&&(f?N():S());break;case"ArrowUp":o==="vertical"&&N();break}const C=y%w;(E=g[C].ref.current)==null||E.focus()});return a.jsx(QF,{scope:r,disabled:n,direction:s,orientation:o,children:a.jsx(Iv.Slot,{scope:r,children:a.jsx(V.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:h})})})}),Ju="AccordionItem",[XF,$v]=lf(Ju),dC=A.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,o=cf(Ju,r),i=HF(Ju,r),l=Lv(r),c=Ft(),u=n&&i.value.includes(n)||!1,d=o.disabled||e.disabled;return a.jsx(XF,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(zF,{"data-orientation":o.orientation,"data-state":vC(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});dC.displayName=Ju;var fC="AccordionHeader",hC=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=cf(Tn,r),o=$v(fC,r);return a.jsx(V.h3,{"data-orientation":s.orientation,"data-state":vC(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});hC.displayName=fC;var vp="AccordionTrigger",mC=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=cf(Tn,r),o=$v(vp,r),i=KF(vp,r),l=Lv(r);return a.jsx(Iv.ItemSlot,{scope:r,children:a.jsx(UF,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...n,ref:t})})});mC.displayName=vp;var pC="AccordionContent",gC=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=cf(Tn,r),o=$v(pC,r),i=Lv(r);return a.jsx(BF,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});gC.displayName=pC;function vC(e){return e?"open":"closed"}var JF=iC,ZF=dC,e8=hC,xC=mC,yC=gC;const t8=JF,wC=m.forwardRef(({className:e,...t},r)=>a.jsx(ZF,{ref:r,className:O("border-b",e),...t}));wC.displayName="AccordionItem";const bC=m.forwardRef(({className:e,children:t,...r},n)=>a.jsx(e8,{className:"flex",children:a.jsxs(xC,{ref:n,className:O("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Dl,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));bC.displayName=xC.displayName;const jC=m.forwardRef(({className:e,children:t,...r},n)=>a.jsx(yC,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:O("pb-4 pt-0",e),children:t})}));jC.displayName=yC.displayName;const r8=[{question:"What is Pulsify?",answer:"Pulsify is an AI-powered customer feedback platform that helps businesses collect, analyze, and act on customer insights to drive growth. We unify feedback from various channels and provide actionable analytics."},{question:"Is there a free trial?",answer:"Yes, we offer a 14-day free trial on our Professional plan. No credit card is required to get started. You can explore all the features and see how Pulsify can benefit your business."},{question:"What kind of support do you offer?",answer:"We offer email support on the Starter plan and priority email and chat support on the Professional plan. Enterprise customers receive a dedicated success manager and custom support SLAs."},{question:"Can I integrate Pulsify with other tools?",answer:"Our Professional and Enterprise plans also include API access for custom integrations."},{question:"How is my data secured?",answer:"We take data security very seriously. Our platform is SOC 2 compliant, and all data is encrypted end-to-end. We follow industry best practices to ensure your data is safe and private."},{question:"Can I customize the feedback forms?",answer:"Yes! You can customize the look and feel of your feedback forms to match your brand, including colors, logos, and custom domains (on supported plans)."}],n8=()=>a.jsx("section",{id:"faq",className:"py-24 bg-white dark:bg-background",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 sm:text-4xl",children:"Frequently Asked Questions"}),a.jsx("p",{className:"mt-4 text-lg text-warm-gray-600 dark:text-dark-warm-600",children:"Have questions? We have answers. If you can't find what you're looking for, feel free to contact us."})]}),a.jsx("div",{className:"mt-12",children:a.jsx(t8,{type:"single",collapsible:!0,className:"w-full",children:r8.map((e,t)=>a.jsxs(wC,{value:`item-${t}`,className:"border-b border-warm-gray-200 dark:border-dark-warm-200",children:[a.jsx(bC,{className:"text-left text-lg font-medium text-warm-gray-900 dark:text-dark-warm-900 hover:no-underline py-6",children:e.question}),a.jsx(jC,{className:"text-base text-warm-gray-600 dark:text-dark-warm-600 pb-6",children:e.answer})]},t))})})]})}),s8=()=>a.jsxs("div",{className:"min-h-screen bg-white dark:bg-background transition-colors duration-300",children:[a.jsx(Rv,{}),a.jsx(EF,{}),a.jsx(RF,{}),a.jsx(IF,{}),a.jsx(PF,{}),a.jsx(TF,{}),a.jsx(AF,{}),a.jsx(n8,{}),a.jsx(OF,{}),a.jsx(Tv,{})]}),o8=()=>a.jsx(s8,{}),li=()=>{var o;const{organization:e}=US(),[t,r]=m.useState({assets:[],theme:null,logoAsset:null}),[n,s]=m.useState(!0);return m.useEffect(()=>{(async()=>{if(!e){s(!1);return}try{s(!0);const[l,c]=await Promise.all([O3(e.id),M3(e.id)]),u=l.find(d=>d.asset_type==="logo")||null;r({assets:l,theme:c,logoAsset:u})}catch(l){console.error("Error loading organization config:",l)}finally{s(!1)}})()},[e]),{...t,isLoading:n,organization:e,colors:((o=t.theme)==null?void 0:o.colors)||{primary:(e==null?void 0:e.primary_color)||"#073763",secondary:(e==null?void 0:e.secondary_color)||"#007ACE",accent:"#f97316"},flowConfig:(e==null?void 0:e.flow_configuration)||{},headerTitle:(e==null?void 0:e.feedback_header_title)||"Share Your Experience",headerSubtitle:(e==null?void 0:e.feedback_header_subtitle)||"Help us serve you better with your valuable feedback",welcomeTitle:(e==null?void 0:e.welcome_screen_title)||"Share Your Experience",welcomeDescription:(e==null?void 0:e.welcome_screen_description)||"Help us serve you better with your valuable feedback. Your input helps us improve our services and better serve our community.",thankYouTitle:(e==null?void 0:e.thank_you_title)||"Thank You for Your Feedback!",thankYouMessage:(e==null?void 0:e.thank_you_message)||"Your valuable feedback has been received and will help us improve our services."}},SC=({title:e,subtitle:t,showSecureIndicator:r=!1})=>{const{colors:n,logoAsset:s,organization:o}=li(),i={background:`linear-gradient(to right, ${n.primary}, ${n.accent})`},l=(o==null?void 0:o.name)||"Pulsify";return a.jsxs("div",{className:"p-8 text-white text-center",style:i,children:[(s==null?void 0:s.asset_url)&&a.jsx("img",{src:s.asset_url,alt:s.asset_name||`${l} Logo`,className:"h-20 mx-auto mb-6 drop-shadow-lg object-contain",onError:c=>{c.target.src="/lovable-uploads/pulse-favicon-64.png",c.target.alt="Pulsify Logo"}}),a.jsx("h1",{className:"text-4xl font-bold mb-3",children:e==="Pulselify"?"Pulsify":e}),a.jsx("p",{className:"text-xl text-blue-100",children:t==="Turn Customer Feedback Into Growth"?"Real Insights. Real Impact.":t}),r&&a.jsx("div",{className:"flex items-center justify-center mt-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-green-300",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Secure & Confidential"})]})})]})},uf=()=>{const{organization:e,logoAsset:t,colors:r,isLoading:n}=li(),[s,o]=m.useState(!1),i={primary:"#073763",secondary:"#007ACE",accent:"#f97316",background:"#f8fafc",surface:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280"},l={primary:r.primary||i.primary,secondary:r.secondary||i.secondary,accent:r.accent||i.accent,background:r.background||i.background,surface:r.surface||i.surface,textPrimary:r.text_primary||i.textPrimary,textSecondary:r.text_secondary||i.textSecondary},u={logoUrl:(t==null?void 0:t.asset_url)||(e==null?void 0:e.logo_url)||"/lovable-uploads/367347fe-02da-4338-b8ba-91138293d303.png",logoAlt:`${(e==null?void 0:e.name)||"Organization"} Logo`},d=()=>{if(typeof document>"u"||s)return;const f=document.documentElement;f.style.setProperty("--brand-primary",l.primary),f.style.setProperty("--brand-secondary",l.secondary),f.style.setProperty("--brand-accent",l.accent),f.style.setProperty("--brand-background",l.background),f.style.setProperty("--brand-surface",l.surface),f.style.setProperty("--brand-text-primary",l.textPrimary),f.style.setProperty("--brand-text-secondary",l.textSecondary);const h=`linear-gradient(to right, ${l.primary}, ${l.accent})`,p=`linear-gradient(to right, ${l.primary}, ${l.secondary})`;f.style.setProperty("--brand-gradient-primary-accent",h),f.style.setProperty("--brand-gradient-primary-secondary",p),o(!0)};return m.useEffect(()=>{!n&&e&&d()},[l.primary,l.secondary,l.accent,n,e]),{colors:l,assets:u,isLoading:n,organizationName:(e==null?void 0:e.name)||"Organization",applyBrandingStyles:d}},Zu=({children:e,onClick:t,size:r="lg",variant:n="primary",className:s,disabled:o=!1})=>{const{colors:i}=uf(),c=(()=>{switch(n){case"primary":return{background:`linear-gradient(to right, ${i.primary}, ${i.accent})`,"&:hover":{background:`linear-gradient(to right, ${i.primary}dd, ${i.accent}dd)`}};case"secondary":return{backgroundColor:i.secondary,"&:hover":{backgroundColor:`${i.secondary}dd`}};case"outline":return{borderColor:i.primary,color:i.primary,"&:hover":{backgroundColor:i.primary,color:"white"}};default:return{}}})();return a.jsx(J,{onClick:t,size:r,disabled:o,className:O("text-white font-semibold transform transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl",n==="primary"&&"text-white",n==="outline"&&"bg-transparent border-2",s),style:c,children:e})},a8=({onStart:e})=>{const{colors:t,welcomeTitle:r,welcomeDescription:n}=li(),s={background:`linear-gradient(135deg, ${t.primary}22 0%, ${t.secondary}22 50%, ${t.accent}22 100%)`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:s,children:a.jsxs(ge,{className:"max-w-2xl w-full shadow-2xl border-0 overflow-hidden",children:[a.jsx(SC,{title:r,subtitle:n}),a.jsxs(ve,{className:"p-8",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.secondary}20`},children:a.jsx(Ea,{className:"h-6 w-6",style:{color:t.secondary}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Quick & Easy"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Takes only 3-5 minutes"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.accent}20`},children:a.jsx(Ka,{className:"h-6 w-6",style:{color:t.accent}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Confidential"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Your privacy is protected"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.primary}20`},children:a.jsx(Pr,{className:"h-6 w-6",style:{color:t.primary}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Your Voice Matters"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Every response helps improve our services"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.accent}20`},children:a.jsx(vs,{className:"h-6 w-6",style:{color:t.accent}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Make a Difference"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Shape the future of our services"})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Zu,{onClick:e,size:"lg",className:"px-12 py-4 text-lg",children:"Start Feedback Survey"}),a.jsx("p",{className:"text-sm mt-4 text-gray-600",children:"Your responses are anonymous and help us improve our services"})]})]})]})})},$y=()=>{const{colors:e}=li(),t={background:`linear-gradient(135deg, ${e.primary}1A 0%, ${e.secondary}1A 50%, ${e.accent}1A 100%)`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:t,children:a.jsxs("div",{className:"text-center animate-fade-in",children:[a.jsx("div",{className:"relative mb-6",children:a.jsx(nj,{className:"h-16 w-16 animate-spin mx-auto",style:{color:e.accent}})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:e.primary},children:"Loading Your Feedback Form"}),a.jsx("p",{className:"text-gray-600 animate-pulse",children:"Preparing your personalized experience..."}),a.jsx("div",{className:"mt-4 flex justify-center space-x-1",children:[0,1,2].map(r=>a.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:e.accent,animationDelay:`${r*.1}s`}},r))})]})})},As=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(!1);m.useEffect(()=>{const o=()=>{const i=window.innerWidth;t(i<768),n(i>=768&&i<1024)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const s="ontouchstart"in window||navigator.maxTouchPoints>0;return{isMobile:e,isTablet:r,isDesktop:!e&&!r,isTouchDevice:s,screenSize:e?"mobile":r?"tablet":"desktop"}},i8=({children:e})=>{const{isMobile:t}=As();return a.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 ${t?"pb-24":""}`,children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-orange-400/10 rounded-full blur-3xl"})]}),e]})},Fv=m.forwardRef(({...e},t)=>a.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Fv.displayName="Breadcrumb";const zv=m.forwardRef(({className:e,...t},r)=>a.jsx("ol",{ref:r,className:O("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));zv.displayName="BreadcrumbList";const Yi=m.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:O("inline-flex items-center gap-1.5",e),...t}));Yi.displayName="BreadcrumbItem";const xp=m.forwardRef(({asChild:e,className:t,...r},n)=>{const s=e?St:"a";return a.jsx(s,{ref:n,className:O("transition-colors hover:text-foreground",t),...r})});xp.displayName="BreadcrumbLink";const Uv=m.forwardRef(({className:e,...t},r)=>a.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:O("font-normal text-foreground",e),...t}));Uv.displayName="BreadcrumbPage";const yp=({children:e,className:t,...r})=>a.jsx("li",{role:"presentation","aria-hidden":"true",className:O("[&>svg]:size-3.5",t),...r,children:e??a.jsx(Ha,{})});yp.displayName="BreadcrumbSeparator";const l8=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=[{name:"Service Quality",range:[0,2]},{name:"Customer Experience",range:[3,5]},{name:"Overall Satisfaction",range:[6,t-1]}],o=n.find(i=>e>=i.range[0]&&e<=i.range[1]);return a.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsx(Fv,{children:a.jsx(zv,{className:"flex-wrap",children:n.map((i,l)=>{const c=i===o,u=i.range.every(d=>r.includes(d));return a.jsx(Yi,{className:"flex items-center",children:a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full transition-all ${c?"bg-blue-100 text-blue-700":u?"bg-green-100 text-green-700":"text-gray-500"}`,children:[u?a.jsx(Er,{className:"h-4 w-4"}):a.jsx(Sd,{className:"h-4 w-4"}),a.jsx(Uv,{className:"font-medium",children:i.name})]})},i.name)})})})})},c8=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=(e+1)/t*100,s=()=>n<25?"Great start! Your feedback matters.":n<50?"You're doing amazing! Keep going.":n<75?"Almost there! Your input is valuable.":"Final stretch! Thank you for your time.",o=()=>n<33?a.jsx(Cg,{className:"h-4 w-4 text-blue-600"}):n<66?a.jsx(vo,{className:"h-4 w-4 text-orange-600"}):a.jsx(vs,{className:"h-4 w-4 text-green-600"});return a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-orange-50 rounded-xl p-4 border border-blue-200/50",children:a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[o(),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:s()})]}),a.jsxs("div",{className:"text-sm font-bold text-orange-600",children:[Math.round(n),"%"]})]})})},u8=({currentIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s})=>{const o=s<30?"fast":s<60?"steady":"thoughtful",i=()=>{switch(o){case"fast":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"steady":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}},l=()=>{switch(o){case"fast":return a.jsx(vo,{className:"h-3 w-3"});case"steady":return a.jsx(Cg,{className:"h-3 w-3"});default:return a.jsx(vs,{className:"h-3 w-3"})}};return a.jsxs("div",{className:"flex items-center justify-between mb-6 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"font-medium",children:[e+1," of ",t]}),r.includes(e)&&a.jsx(Er,{className:"h-4 w-4 text-green-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ea,{className:"h-4 w-4 text-blue-500"}),a.jsxs("span",{children:["~",n,"s left"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(vs,{className:"h-4 w-4 text-orange-500"}),a.jsxs("span",{children:[s,"s avg"]})]}),a.jsx(er,{className:`${i()} shadow-sm border`,children:a.jsxs("div",{className:"flex items-center space-x-1",children:[l(),a.jsx("span",{className:"font-medium",children:o})]})})]})]})},d8=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=(e+1)/t*100;return a.jsxs("div",{className:"mb-4 bg-white/80 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[r.includes(e)?a.jsx(Er,{className:"h-5 w-5 text-green-500"}):a.jsx(Sd,{className:"h-5 w-5 text-gray-400"}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e+1," of ",t]})]}),a.jsxs("span",{className:"text-sm font-bold text-orange-600",children:[Math.round(n),"%"]})]}),a.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-orange-500 rounded-full transition-all duration-500",style:{width:`${n}%`}})}),a.jsx("div",{className:"flex justify-center mt-2",children:a.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(t,8)},(s,o)=>a.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${o<=e?"bg-blue-500":"bg-gray-300"}`},o))})})]})},f8=({currentQuestionIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s})=>{const{isMobile:o}=As(),{colors:i}=uf();return o?a.jsx(d8,{currentIndex:e,totalQuestions:t,completedQuestions:r}):a.jsxs("div",{className:"mb-8 p-4 rounded-lg border",style:{backgroundColor:`${i.primary}08`,borderColor:`${i.primary}30`},role:"progressbar","aria-valuenow":e+1,"aria-valuemin":1,"aria-valuemax":t,children:[a.jsx(l8,{currentIndex:e,totalQuestions:t,completedQuestions:r}),a.jsx(u8,{currentIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s}),a.jsx(c8,{currentIndex:e,totalQuestions:t,completedQuestions:r})]})},h8=({value:e,onChange:t,max:r=5})=>a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"flex space-x-2",children:Array.from({length:r},(n,s)=>{const o=s+1;return a.jsx("button",{type:"button",onClick:()=>t(o),className:"transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#007ACE] rounded","aria-label":`Rate ${o} out of ${r} stars`,children:a.jsx(vs,{className:`h-10 w-10 ${o<=e?"text-yellow-400 fill-yellow-400":"text-gray-300 hover:text-yellow-400"}`})},s)})}),e>0&&a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-lg font-medium text-[#073763]",children:[e," out of ",r," stars"]})})]}),m8=({value:e,onChange:t})=>{const r=s=>s<=6?"Detractor":s<=8?"Passive":"Promoter",n=s=>s<=6?"text-red-600":s<=8?"text-yellow-600":"text-green-600";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[a.jsx("span",{children:"Not likely at all"}),a.jsx("span",{children:"Extremely likely"})]}),a.jsx("div",{className:"grid grid-cols-11 gap-2",children:Array.from({length:11},(s,o)=>a.jsx("button",{type:"button",onClick:()=>t(o),className:`
              h-12 w-full rounded-lg border-2 transition-all duration-200 
              font-medium text-sm hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#007ACE]
              ${e===o?"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white border-[#073763]":"bg-white border-gray-300 text-gray-700 hover:border-[#007ACE]"}
            `,"aria-label":`Rate ${o} out of 10`,children:o},o))}),e!==void 0&&a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-lg font-medium text-[#073763]",children:["Score: ",e,"/10"]}),a.jsx("div",{className:`text-sm font-medium ${n(e)}`,children:r(e)})]})]})},p8=({value:e,onChange:t,scale:r={min:1,max:5,minLabel:"Strongly Disagree",maxLabel:"Strongly Agree"}})=>{const{min:n,max:s,minLabel:o,maxLabel:i}=r,l=Array.from({length:s-n+1},(u,d)=>n+d),c=u=>u===n?o:u===s?i:s-n===4?["","Disagree","Neutral","Agree",""][u-n]:`${u}`;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-4",children:[a.jsx("span",{children:o}),a.jsx("span",{children:i})]}),a.jsx("div",{className:"space-y-3",children:l.map(u=>a.jsxs("label",{className:`
              flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
              hover:bg-blue-50 hover:border-[#007ACE]
              ${e===u?"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white border-[#073763]":"bg-white border-gray-300"}
            `,children:[a.jsx("input",{type:"radio",name:"likert",value:u,checked:e===u,onChange:()=>t(u),className:"sr-only"}),a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{className:"font-medium",children:c(u)}),a.jsxs("span",{className:"text-sm opacity-75",children:["(",u,")"]})]})]},u))})]})};var Bv="Checkbox",[g8,JW]=ut(Bv),[v8,x8]=g8(Bv),_C=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),v=te(t,j=>p(j)),g=m.useRef(!1),x=h?d||!!h.closest("form"):!0,[w=!1,y]=_t({prop:s,defaultProp:o,onChange:u}),b=m.useRef(w);return m.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const S=()=>y(b.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[h,y]),a.jsxs(v8,{scope:r,state:w,disabled:l,children:[a.jsx(V.button,{type:"button",role:"checkbox","aria-checked":ms(w)?"mixed":w,"aria-required":i,"data-state":CC(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:D(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:D(e.onClick,j=>{y(S=>ms(S)?!0:!S),x&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),x&&a.jsx(y8,{control:h,bubbles:!g.current,name:n,value:c,checked:w,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ms(o)?!1:o})]})});_C.displayName=Bv;var NC="CheckboxIndicator",kC=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=x8(NC,r);return a.jsx(Qe,{present:n||ms(o.state)||o.state===!0,children:a.jsx(V.span,{"data-state":CC(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});kC.displayName=NC;var y8=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...o}=e,i=m.useRef(null),l=Yd(r),c=Cd(t);m.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const v=new Event("click",{bubbles:n});d.indeterminate=ms(r),p.call(d,ms(r)?!1:r),d.dispatchEvent(v)}},[l,r,n]);const u=m.useRef(ms(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ms(e){return e==="indeterminate"}function CC(e){return ms(e)?"indeterminate":e?"checked":"unchecked"}var EC=_C,w8=kC;const PC=m.forwardRef(({className:e,...t},r)=>a.jsx(EC,{ref:r,className:O("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(w8,{className:O("flex items-center justify-center text-current"),children:a.jsx(jd,{className:"h-4 w-4"})})}));PC.displayName=EC.displayName;var Wv="Radio",[b8,RC]=ut(Wv),[j8,S8]=b8(Wv),TC=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=m.useState(null),p=te(t,x=>h(x)),v=m.useRef(!1),g=f?u||!!f.closest("form"):!0;return a.jsxs(j8,{scope:r,checked:s,disabled:i,children:[a.jsx(V.button,{type:"button",role:"radio","aria-checked":s,"data-state":MC(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:p,onClick:D(e.onClick,x=>{s||c==null||c(),g&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),g&&a.jsx(_8,{control:f,bubbles:!v.current,name:n,value:l,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});TC.displayName=Wv;var AC="RadioIndicator",OC=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=S8(AC,r);return a.jsx(Qe,{present:n||o.checked,children:a.jsx(V.span,{"data-state":MC(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});OC.displayName=AC;var _8=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=m.useRef(null),i=Yd(r),l=Cd(t);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[i,r,n]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function MC(e){return e?"checked":"unchecked"}var N8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qv="RadioGroup",[k8,ZW]=ut(qv,[ni,RC]),DC=ni(),IC=RC(),[C8,E8]=k8(qv),LC=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=DC(r),v=Ps(u),[g,x]=_t({prop:o,defaultProp:s,onChange:f});return a.jsx(C8,{scope:r,name:n,required:i,disabled:l,value:g,onValueChange:x,children:a.jsx(ev,{asChild:!0,...p,orientation:c,dir:v,loop:d,children:a.jsx(V.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...h,ref:t})})})});LC.displayName=qv;var $C="RadioGroupItem",FC=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=E8($C,r),i=o.disabled||n,l=DC(r),c=IC(r),u=m.useRef(null),d=te(t,u),f=o.value===s.value,h=m.useRef(!1);return m.useEffect(()=>{const p=g=>{N8.includes(g.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",v)}},[]),a.jsx(tv,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(TC,{disabled:i,required:o.required,checked:f,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:D(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:D(s.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});FC.displayName=$C;var P8="RadioGroupIndicator",zC=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=IC(r);return a.jsx(OC,{...s,...n,ref:t})});zC.displayName=P8;var UC=LC,BC=FC,R8=zC;const Vv=m.forwardRef(({className:e,...t},r)=>a.jsx(UC,{className:O("grid gap-2",e),...t,ref:r}));Vv.displayName=UC.displayName;const Hv=m.forwardRef(({className:e,...t},r)=>a.jsx(BC,{ref:r,className:O("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(R8,{className:"flex items-center justify-center",children:a.jsx(Sd,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Hv.displayName=BC.displayName;const T8=({options:e,value:t,onChange:r,multiple:n})=>{const s=i=>{r(i)},o=(i,l)=>{const c=Array.isArray(t)?t:[];r(l?[...c,i]:c.filter(u=>u!==i))};return n?a.jsx("div",{className:"space-y-3",children:e.map((i,l)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-blue-50 transition-colors",children:[a.jsx(PC,{id:`option-${l}`,checked:Array.isArray(t)&&t.includes(i),onCheckedChange:c=>o(i,c),className:"data-[state=checked]:bg-[#073763] data-[state=checked]:border-[#073763]"}),a.jsx("label",{htmlFor:`option-${l}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:i})]},l))}):a.jsx(Vv,{value:t,onValueChange:s,children:a.jsx("div",{className:"space-y-3",children:e.map((i,l)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-blue-50 transition-colors",children:[a.jsx(Hv,{value:i,id:`option-${l}`,className:"border-[#073763] text-[#073763]"}),a.jsx("label",{htmlFor:`option-${l}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:i})]},l))})})},WC=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:O("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));WC.displayName="Textarea";const A8=({value:e,onChange:t,placeholder:r="Please share your thoughts...",maxLength:n=500})=>a.jsxs("div",{className:"space-y-3",children:[a.jsx(WC,{value:e,onChange:s=>t(s.target.value),placeholder:r,maxLength:n,className:"min-h-[120px] resize-none border-gray-300 focus:border-[#007ACE] focus:ring-[#007ACE]"}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[a.jsx("span",{children:"Share any additional thoughts or suggestions"}),a.jsxs("span",{children:[e.length,"/",n]})]})]}),O8=({value:e,onChange:t,options:r})=>{const n=r.filter(o=>o&&o.trim()),s=n.length>0?n:["😞","😐","😊"];return a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"flex space-x-4",children:s.map((o,i)=>a.jsx("button",{type:"button",onClick:()=>t(o),className:`text-6xl p-4 rounded-full transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#f97316] ${e===o?"bg-orange-100 scale-110":"hover:bg-gray-100"}`,"aria-label":`Select ${o} rating`,children:o},i))}),e&&a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-lg font-medium text-[#073763]",children:["You selected: ",e]})})]})},M8=({value:e,onChange:t,options:r})=>{const[n,s]=m.useState(e||[...r]);m.useEffect(()=>{e&&e.length>0?s(e):s([...r])},[e,r]);const o=(c,u)=>{c.dataTransfer.setData("text/plain",u.toString())},i=c=>{c.preventDefault()},l=(c,u)=>{c.preventDefault();const d=parseInt(c.dataTransfer.getData("text/plain")),f=[...n],h=f[d];f.splice(d,1),f.splice(u,0,h),s(f),t(f)};return a.jsxs("div",{className:"space-y-2",children:[n.map((c,u)=>a.jsxs("div",{draggable:!0,onDragStart:d=>o(d,u),onDragOver:i,onDrop:d=>l(d,u),className:"flex items-center p-3 bg-white border border-gray-200 rounded-lg cursor-move hover:shadow-md transition-shadow",children:[a.jsx("span",{className:"flex items-center justify-center w-8 h-8 bg-[#f97316] text-white rounded-full text-sm font-medium mr-3",children:u+1}),a.jsx(nA,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsx("span",{className:"flex-1 text-gray-800",children:c})]},c)),a.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Drag and drop to reorder items by importance (1 = most important)"})]})},D8=({value:e={},onChange:t,options:r,scale:n={min:1,max:5}})=>{const s=(o,i)=>{t({...e,[o]:i})};return a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3 border-b border-gray-200",children:"Aspect"}),Array.from({length:n.max-n.min+1},(o,i)=>a.jsx("th",{className:"text-center p-3 border-b border-gray-200 min-w-[60px]",children:n.min+i},i))]})}),a.jsx("tbody",{children:r.map(o=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"p-3 border-b border-gray-100 font-medium",children:o}),Array.from({length:n.max-n.min+1},(i,l)=>{var u;const c=n.min+l;return a.jsx("td",{className:"p-3 border-b border-gray-100 text-center",children:a.jsx(Vv,{value:((u=e[o])==null?void 0:u.toString())||"",onValueChange:d=>s(o,parseInt(d)),children:a.jsx(Hv,{value:c.toString()})})},c)})]},o))})]}),a.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[a.jsx("span",{children:n.minLabel||`${n.min} - Poor`}),a.jsx("span",{children:n.maxLabel||`${n.max} - Excellent`})]})]})};var qC=["PageUp","PageDown"],VC=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],HC={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ci="Slider",[wp,I8,L8]=qa(ci),[KC,eq]=ut(ci,[L8]),[$8,df]=KC(ci),YC=m.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:v,...g}=e,x=m.useRef(new Set),w=m.useRef(0),b=i==="horizontal"?F8:z8,[j=[],S]=_t({prop:d,defaultProp:u,onChange:L=>{var K;(K=[...x.current][w.current])==null||K.focus(),f(L)}}),N=m.useRef(j);function C(L){const $=V8(j,L);R(L,$)}function E(L){R(L,w.current)}function T(){const L=N.current[w.current];j[w.current]!==L&&h(j)}function R(L,$,{commit:K}={commit:!1}){const I=G8(o),G=Q8(Math.round((L-n)/o)*o+n,I),U=jl(G,[n,s]);S((M=[])=>{const _=W8(M,U,$);if(Y8(_,c*o)){w.current=_.indexOf(U);const P=String(_)!==String(M);return P&&K&&h(_),P?_:M}else return M})}return a.jsx($8,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:w,thumbs:x.current,values:j,orientation:i,form:v,children:a.jsx(wp.Provider,{scope:e.__scopeSlider,children:a.jsx(wp.Slot,{scope:e.__scopeSlider,children:a.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:D(g.onPointerDown,()=>{l||(N.current=j)}),min:n,max:s,inverted:p,onSlideStart:l?void 0:C,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&R(n,0,{commit:!0}),onEndKeyDown:()=>!l&&R(s,j.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:$})=>{if(!l){const G=qC.includes(L.key)||L.shiftKey&&VC.includes(L.key)?10:1,U=w.current,M=j[U],_=o*G*$;R(M+_,U,{commit:!0})}}})})})})});YC.displayName=ci;var[GC,QC]=KC(ci,{startEdge:"left",endEdge:"right",size:"width",direction:1}),F8=m.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=m.useState(null),p=te(t,b=>h(b)),v=m.useRef(),g=Ps(s),x=g==="ltr",w=x&&!o||!x&&o;function y(b){const j=v.current||f.getBoundingClientRect(),S=[0,j.width],C=Kv(S,w?[r,n]:[n,r]);return v.current=j,C(b-j.left)}return a.jsx(GC,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:a.jsx(XC,{dir:g,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const j=y(b.clientX);i==null||i(j)},onSlideMove:b=>{const j=y(b.clientX);l==null||l(j)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:b=>{const S=HC[w?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:S?-1:1})}})})}),z8=m.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=m.useRef(null),f=te(t,d),h=m.useRef(),p=!s;function v(g){const x=h.current||d.current.getBoundingClientRect(),w=[0,x.height],b=Kv(w,p?[n,r]:[r,n]);return h.current=x,b(g-x.top)}return a.jsx(GC,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:a.jsx(XC,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const x=v(g.clientY);o==null||o(x)},onSlideMove:g=>{const x=v(g.clientY);i==null||i(x)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const w=HC[p?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:w?-1:1})}})})}),XC=m.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=df(ci,r);return a.jsx(V.span,{...u,ref:t,onKeyDown:D(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):qC.concat(VC).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:D(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:D(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:D(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),JC="SliderTrack",ZC=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=df(JC,r);return a.jsx(V.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});ZC.displayName=JC;var bp="SliderRange",eE=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=df(bp,r),o=QC(bp,r),i=m.useRef(null),l=te(t,i),c=s.values.length,u=s.values.map(h=>rE(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return a.jsx(V.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});eE.displayName=bp;var jp="SliderThumb",tE=m.forwardRef((e,t)=>{const r=I8(e.__scopeSlider),[n,s]=m.useState(null),o=te(t,l=>s(l)),i=m.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(U8,{...e,ref:o,index:i})}),U8=m.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...o}=e,i=df(jp,r),l=QC(jp,r),[c,u]=m.useState(null),d=te(t,y=>u(y)),f=c?i.form||!!c.closest("form"):!0,h=Cd(c),p=i.values[n],v=p===void 0?0:rE(p,i.min,i.max),g=q8(n,i.values.length),x=h==null?void 0:h[l.size],w=x?H8(x,v,l.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${w}px)`},children:[a.jsx(wp.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(V.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:D(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&a.jsx(B8,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},n)]})});tE.displayName=jp;var B8=e=>{const{value:t,...r}=e,n=m.useRef(null),s=Yd(t);return m.useEffect(()=>{const o=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(o,t),o.dispatchEvent(u)}},[s,t]),a.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function W8(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,o)=>s-o)}function rE(e,t,r){const o=100/(r-t)*(e-t);return jl(o,[0,100])}function q8(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function V8(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function H8(e,t,r){const n=e/2,o=Kv([0,50],[0,n]);return(n-o(t)*r)*r}function K8(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Y8(e,t){if(t>0){const r=K8(e);return Math.min(...r)>=t}return!0}function Kv(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function G8(e){return(String(e).split(".")[1]||"").length}function Q8(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var nE=YC,X8=ZC,J8=eE,Z8=tE;const sE=m.forwardRef(({className:e,...t},r)=>a.jsxs(nE,{ref:r,className:O("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(X8,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(J8,{className:"absolute h-full bg-primary"})}),a.jsx(Z8,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));sE.displayName=nE.displayName;const ez=({value:e,onChange:t,scale:r={min:1,max:10}})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"px-3",children:a.jsx(sE,{value:[e||r.min],onValueChange:n=>t(n[0]),min:r.min,max:r.max,step:1,className:"w-full"})}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsx("span",{children:r.minLabel||`${r.min}`}),a.jsx("span",{className:"text-lg font-medium text-[#f97316]",children:e||r.min}),a.jsx("span",{children:r.maxLabel||`${r.max}`})]}),a.jsx("div",{className:"flex justify-between text-xs text-gray-500",children:Array.from({length:r.max-r.min+1},(n,s)=>a.jsx("span",{className:"text-center",children:r.min+s},s))})]}),tz=({children:e,title:t,required:r,isAnswered:n,className:s=""})=>a.jsxs(ge,{className:`
      mb-6 shadow-lg border-0 
      animate-fade-in
      transition-all duration-300 ease-out
      hover:shadow-xl hover:scale-[1.02]
      ${n?"ring-2 ring-green-400 ring-opacity-50":""}
      ${s}
    `,children:[a.jsxs(rt,{className:`
        bg-gradient-to-r from-[#f97316] to-[#fb923c] text-white rounded-t-lg 
        relative overflow-hidden
        ${n?"bg-gradient-to-r from-green-500 to-green-600":""}
      `,children:[a.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(nt,{className:"text-xl pr-4 animate-fade-in",children:t}),r&&a.jsxs("span",{className:"text-orange-200 text-sm flex items-center mt-1 animate-fade-in",children:[a.jsx("span",{className:"text-red-300 mr-1",children:"*"}),"Required"]})]}),n&&a.jsx(Er,{className:"h-6 w-6 text-green-300 flex-shrink-0 animate-scale-in"})]}),n&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 to-green-600/20 animate-fade-in"})]}),a.jsx(ve,{className:"p-6 transition-all duration-200",children:e})]}),rz=({children:e,title:t,required:r,isAnswered:n})=>a.jsxs(ge,{className:`
      mb-20 shadow-lg border-0 mx-2
      animate-fade-in
      transition-all duration-300 ease-out
      ${n?"ring-2 ring-green-400 ring-opacity-50":""}
    `,children:[a.jsx(rt,{className:`
        bg-gradient-to-r from-[#f97316] to-[#fb923c] text-white rounded-t-lg 
        relative overflow-hidden p-4
        ${n?"bg-gradient-to-r from-green-500 to-green-600":""}
      `,children:a.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[a.jsxs("div",{className:"flex-1 pr-2",children:[a.jsx(nt,{className:"text-lg leading-tight animate-fade-in",children:t}),r&&a.jsxs("span",{className:"text-orange-200 text-xs flex items-center mt-1",children:[a.jsx("span",{className:"text-red-300 mr-1",children:"*"}),"Required"]})]}),n&&a.jsx(Er,{className:"h-6 w-6 text-green-300 flex-shrink-0 animate-scale-in"})]})}),a.jsx(ve,{className:"p-4",children:e})]}),nz=({children:e,className:t=""})=>{const{isMobile:r,isTouchDevice:n}=As(),s=`
    ${r&&n?"touch-manipulation":""}
    ${r?"min-h-[44px]":"min-h-[40px]"}
    ${t}
  `;return a.jsx("div",{className:s,style:{WebkitTapHighlightColor:"transparent"},children:e})},sz=({question:e,value:t,onChange:r,validation:n})=>{const{isMobile:s}=As(),o=t!=null&&t!=="",i=(n==null?void 0:n.isValid)!==!1,l=()=>{const u={value:t,onChange:r};switch(e.type){case"star":return a.jsx(h8,{...u});case"nps":return a.jsx(m8,{...u});case"likert":return a.jsx(p8,{...u,scale:e.scale});case"emoji":return a.jsx(O8,{...u,options:e.options||[]});case"ranking":return a.jsx(M8,{...u,options:e.options||[]});case"matrix":return a.jsx(D8,{...u,options:e.options||[],scale:e.scale});case"slider":return a.jsx(ez,{...u,scale:e.scale});case"single-choice":case"multi-choice":return a.jsx(T8,{options:e.options||[],...u,multiple:e.type==="multi-choice"});case"text":return a.jsx(A8,{value:t||"",onChange:r,placeholder:"Please share your thoughts..."});default:return null}},c=s?rz:tz;return a.jsxs(c,{title:e.question,required:e.required,isAnswered:o&&i,children:[(n==null?void 0:n.errors)&&n.errors.length>0&&a.jsxs(Yt,{className:"mb-4 border-red-200 bg-red-50 animate-fade-in",children:[a.jsx(tj,{className:"h-4 w-4 text-red-600"}),a.jsx(Gt,{className:"text-red-700",children:n.errors[0]})]}),(n==null?void 0:n.warnings)&&n.warnings.length>0&&a.jsxs(Yt,{className:"mb-4 border-yellow-200 bg-yellow-50 animate-fade-in",children:[a.jsx(Du,{className:"h-4 w-4 text-yellow-600"}),a.jsx(Gt,{className:"text-yellow-700",children:n.warnings[0]})]}),a.jsx(nz,{children:a.jsx("div",{role:"group","aria-labelledby":`question-${e.id}`,className:"animate-fade-in",children:l()})})]})},oz=({currentQuestionIndex:e,totalQuestions:t,canGoNext:r,onPrevious:n,onNext:s})=>{const o=e===t-1;return a.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-3",children:a.jsxs("div",{className:"flex justify-between items-center gap-3",children:[a.jsxs(J,{variant:"outline",size:"lg",onClick:n,disabled:e===0,className:"flex-1 border-[#073763] text-[#073763] hover:bg-[#073763] hover:text-white disabled:opacity-30",children:[a.jsx(kg,{className:"h-5 w-5 mr-1"}),"Previous"]}),a.jsx(J,{size:"lg",onClick:s,disabled:!r,className:"flex-1 bg-gradient-to-r from-[#073763] to-[#007ACE] hover:from-[#062c52] hover:to-[#0066a6] text-white disabled:opacity-30",children:o?a.jsxs(a.Fragment,{children:[a.jsx(uA,{className:"h-5 w-5 mr-1"}),"Submit"]}):a.jsxs(a.Fragment,{children:["Next",a.jsx(Ha,{className:"h-5 w-5 ml-1"})]})})]})})})},az=e=>{const{isMobile:t}=As();if(t)return a.jsx(oz,{...e});const{currentQuestionIndex:r,totalQuestions:n,canGoNext:s,onPrevious:o,onNext:i}=e,l=r===n-1;return a.jsxs("div",{className:"flex justify-between items-center animate-fade-in",children:[a.jsxs(Zu,{variant:"outline",onClick:o,disabled:r===0,className:"flex items-center gap-2",children:[a.jsx(kg,{size:16}),"Previous"]}),a.jsxs(Zu,{onClick:i,disabled:!s,className:"flex items-center gap-2",children:[l?"Submit":"Next",!l&&a.jsx(Ha,{size:16})]})]})},iz=({onNext:e,onPrevious:t,canGoNext:r,isFirstQuestion:n})=>(m.useEffect(()=>{const s=o=>{if(!(o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement))switch(o.key){case"ArrowRight":case"Enter":r&&(o.preventDefault(),e());break;case"ArrowLeft":n||(o.preventDefault(),t());break}};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,t,r,n]),a.jsx("div",{className:"fixed bottom-4 right-4 bg-white/80 backdrop-blur-sm rounded-lg p-2 shadow-lg border text-xs text-gray-500",children:a.jsx("div",{children:"← → Navigate • Enter Submit"})})),lz=({currentQuestion:e,responses:t,onSuggestionClick:r})=>{const s=(()=>{var l;const o=Object.values(t),i=o.filter(c=>typeof c=="number"&&c>=4||typeof c=="string"&&c.includes("good")).length/o.length;switch(e.type){case"star":return i>.6?[5,4]:[3,4];case"text":return i>.6?["Great service overall!","Very satisfied with the experience"]:["Could be improved","Good but has room for enhancement"];case"single-choice":return((l=e.options)==null?void 0:l.slice(0,2))||[];default:return[]}})();return s.length===0?null:a.jsxs(ge,{className:"mt-4 bg-blue-50 border-blue-200 animate-fade-in",children:[a.jsx(rt,{className:"pb-3",children:a.jsxs(nt,{className:"text-sm flex items-center gap-2 text-blue-700",children:[a.jsx(oA,{className:"h-4 w-4"}),"Smart Suggestions"]})}),a.jsx(ve,{className:"pt-0",children:a.jsx("div",{className:"space-y-2",children:s.slice(0,2).map((o,i)=>a.jsxs(J,{variant:"outline",size:"sm",className:"w-full justify-between text-left h-auto p-3 hover:bg-blue-100",onClick:()=>r(o),children:[a.jsx("span",{className:"truncate",children:String(o)}),a.jsx(Ng,{className:"h-3 w-3 ml-2 flex-shrink-0"})]},i))})})]})},cz=()=>{const[e,t]=m.useState(!1);return a.jsxs("div",{className:"mb-4 text-center",children:[a.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"text-gray-500 hover:text-gray-700",children:[a.jsx(Du,{className:"h-3 w-3 mr-1"}),"Data Usage",e?a.jsx(ej,{className:"h-3 w-3 ml-1"}):a.jsx(Dl,{className:"h-3 w-3 ml-1"})]}),e&&a.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 animate-fade-in",children:[a.jsx("p",{children:"Your responses are stored locally and used only for feedback analysis."}),a.jsx("p",{className:"mt-1",children:"No personal information is collected or shared."})]})]})},uz=({onSave:e,onPause:t,hasUnsavedChanges:r})=>{const{toast:n}=rn(),s=()=>{e(),n({title:"Progress saved",description:"You can continue later from where you left off"})};return a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsxs(J,{variant:"outline",size:"sm",onClick:s,disabled:!r,className:"text-xs",children:[a.jsx(ij,{className:"h-3 w-3 mr-1"}),"Save Progress"]}),a.jsxs(J,{variant:"outline",size:"sm",onClick:t,className:"text-xs",children:[a.jsx(lA,{className:"h-3 w-3 mr-1"}),"Pause & Exit"]})]})},dz=({children:e,className:t=""})=>{const{isMobile:r,isTablet:n}=As(),{colors:s}=uf(),o=`
    ${r?"px-4 py-2":n?"px-6 py-4":"px-8 py-6"}
    ${r?"max-w-full":n?"max-w-3xl":"max-w-4xl"}
    mx-auto min-h-screen
    ${t}
  `,i={background:`linear-gradient(135deg, ${s.primary}08 0%, ${s.secondary}08 50%, ${s.accent}08 100%)`};return a.jsx("div",{className:o,style:i,children:e})},fz=()=>{const{organization:e,colors:t,headerTitle:r,headerSubtitle:n}=li();return e?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50 to-orange-50 rounded-2xl opacity-50"}),a.jsx("div",{className:"relative text-center py-4 px-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${t.primary}, ${t.secondary})`},children:r}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 max-w-2xl mx-auto leading-relaxed",children:n}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500 pt-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{children:"Secure & Confidential"})]})]})})]}):null},hz=()=>null,mz=({questions:e,currentQuestionIndex:t,responses:r,completedQuestions:n,hasConsented:s,canGoNext:o,estimatedTimeRemaining:i,averageResponseTime:l,hasUnsavedChanges:c,onQuestionResponse:u,onNext:d,onPrevious:f,onSaveProgress:h,onPauseAndExit:p,getValidationResult:v})=>{const{isMobile:g}=As(),x=e[t];return s?a.jsxs(dz,{children:[a.jsx(hz,{}),a.jsx(fz,{}),a.jsxs("div",{className:`bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 ${g?"p-4":"p-8"}`,children:[a.jsx(f8,{currentQuestionIndex:t,totalQuestions:e.length,completedQuestions:n,estimatedTimeRemaining:i,averageResponseTime:l}),a.jsx(sz,{question:x,value:r[x==null?void 0:x.id],onChange:w=>u(x.id,w),validation:v(x==null?void 0:x.id)}),!g&&a.jsx(lz,{currentQuestion:x,responses:r,onSuggestionClick:w=>u(x.id,w)}),!g&&a.jsx("div",{className:"my-6",children:a.jsx(uz,{onSave:h,onPause:p,hasUnsavedChanges:c})}),a.jsx(az,{currentQuestionIndex:t,totalQuestions:e.length,canGoNext:o,onPrevious:f,onNext:d}),!g&&a.jsx(cz,{})]}),!g&&a.jsx(iz,{onNext:d,onPrevious:f,canGoNext:o,isFirstQuestion:t===0})]}):null},pz=({isVisible:e,onAccept:t})=>{const{colors:r,organizationName:n}=uf();if(!e)return null;const s={background:`linear-gradient(135deg, ${r.primary}dd 0%, ${r.secondary}dd 50%, ${r.accent}dd 100%)`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:s,children:a.jsxs(ge,{className:"max-w-2xl w-full shadow-2xl border-0 overflow-hidden",children:[a.jsx(SC,{title:`${n} Feedback`,subtitle:"Your feedback drives our commitment to excellence. Share your experience to help us serve you better.",showSecureIndicator:!0}),a.jsx(ve,{className:"p-8",children:a.jsxs("div",{className:"border rounded-lg p-6",style:{backgroundColor:`${r.primary}08`,borderColor:`${r.primary}30`},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Ka,{className:"h-5 w-5",style:{color:r.primary}}),a.jsx("h3",{className:"text-lg font-semibold",style:{color:r.primary},children:"Your Privacy Matters"})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:r.textSecondary},children:[a.jsx(sj,{className:"h-4 w-4",style:{color:r.secondary}}),a.jsx("span",{children:"Encrypted & Secure"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:r.textSecondary},children:[a.jsx(Ko,{className:"h-4 w-4",style:{color:r.secondary}}),a.jsx("span",{children:"Anonymous & Confidential"})]})]}),a.jsx("div",{className:"text-center",children:a.jsx(Zu,{onClick:t,size:"lg",className:"px-12 py-3 text-lg",children:"I understand"})})]})})]})})},gz=({isOpen:e,responses:t,questions:r,onClose:n})=>{const{organization:s,logoAsset:o,colors:i,thankYouTitle:l,thankYouMessage:c}=li();if(!s)return null;const u=t.reduce((p,v)=>p+(v.score||0),0),d=t.length>0?Math.round(u/t.length):0,f=Math.round(t.length/r.length*100),h=t.reduce((p,v)=>{const g=r.find(x=>x.id===v.questionId);return g&&g.category&&(p[g.category]||(p[g.category]={total:0,count:0}),p[g.category].total+=v.score||0,p[g.category].count+=1),p},{});return a.jsx(Jl,{open:e,onOpenChange:n,children:a.jsxs(si,{className:"sm:max-w-lg bg-gradient-to-br from-white to-gray-50 border-0 shadow-2xl",children:[a.jsxs(oi,{className:"text-center space-y-6 pb-6",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-lg",style:{backgroundColor:`${i.primary}10`},children:a.jsx(Er,{className:"w-12 h-12",style:{color:i.primary}})}),a.jsx("div",{className:"absolute -inset-2 rounded-full blur-lg opacity-30",style:{backgroundColor:i.primary}})]}),(o==null?void 0:o.asset_url)&&a.jsx("img",{src:o.asset_url,alt:o.asset_name||`${s.name} Logo`,className:"h-12 w-auto opacity-80"})]}),a.jsx(ai,{className:"text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${i.primary}, ${i.secondary})`},children:l})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-center text-gray-700 text-lg leading-relaxed px-4",children:c}),a.jsxs("div",{className:"p-6 bg-white/60 rounded-xl border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-center mb-4",style:{color:i.primary},children:"Your Feedback Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx(vs,{className:"w-6 h-6 mr-1",style:{color:i.primary}})}),a.jsxs("div",{className:"text-2xl font-bold",style:{color:i.primary},children:[d,"/5"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx(Er,{className:"w-6 h-6 mr-1",style:{color:i.primary}})}),a.jsxs("div",{className:"text-2xl font-bold",style:{color:i.primary},children:[f,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),Object.keys(h).length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 text-center",children:"Ratings by Category:"}),Object.entries(h).map(([p,v])=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:p}),a.jsxs("span",{className:"font-medium",style:{color:i.primary},children:[Math.round(v.total/v.count),"/5"]})]},p))]})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx(J,{onClick:n,size:"lg",className:"text-white font-semibold px-8 py-3 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",style:{backgroundColor:i.primary,background:`linear-gradient(135deg, ${i.primary}, ${i.secondary})`},children:"Complete"})})]})]})})},vz=({showPrivacyNotice:e,isComplete:t,finalResponses:r,questions:n,onAcceptPrivacy:s,onReset:o})=>a.jsxs(a.Fragment,{children:[a.jsx(pz,{isVisible:e,onAccept:s}),a.jsx(gz,{isOpen:t,responses:r,questions:n,onClose:o})]}),vh=({orgLoading:e,orgError:t,organization:r})=>e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):t||!r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Organization Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:t||"The requested organization could not be found or is not active."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):null,xh="https://rigurrwjiaucodxuuzeh.supabase.co/functions/v1/questions-crud",yh=async()=>{const{data:{session:e},error:t}=await q.auth.getSession();if(t||!(e!=null&&e.access_token))throw new Error("Authentication required");return{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}},wh=async e=>{if(!e.ok){let t;try{t=await e.json()}catch{t={error:`HTTP ${e.status}: ${e.statusText}`}}console.error("API Error Response:",{status:e.status,statusText:e.statusText,error:t});const r=t.error||t.message||`HTTP ${e.status}: ${e.statusText}`;throw new Error(r)}try{return await e.json()}catch(t){throw console.error("Error parsing response JSON:",t),new Error("Invalid response format from server")}},xz=e=>{var t,r;return{id:e.id,type:e.question_type,question:e.question_text,required:e.is_required||!1,category:e.category,options:((t=e.question_options)==null?void 0:t.map(n=>n.option_text))||[],scale:(r=e.question_scale_config)!=null&&r[0]?{min:e.question_scale_config[0].min_value,max:e.question_scale_config[0].max_value,minLabel:e.question_scale_config[0].min_label,maxLabel:e.question_scale_config[0].max_label}:void 0}},yz=async e=>{if(!e)return console.warn("fetchQuestions called without organizationSlug"),[];try{const{data:t,error:r}=await q.functions.invoke("public-questions",{body:{organizationSlug:e}});if(r)throw console.error("Error fetching questions for form:",r),r;return t.map(xz)}catch(t){throw console.error("Error fetching questions for form:",t),t}},tq={async getQuestions(){try{const e=await yh(),t=await fetch(xh,{method:"GET",headers:e}),r=await wh(t);return console.log("Successfully fetched questions:",(r==null?void 0:r.length)||0),r}catch(e){throw console.error("Error fetching questions:",e),e}},async createQuestion(e){try{console.log("Creating question:",e);const t=await yh(),r=await fetch(xh,{method:"POST",headers:t,body:JSON.stringify(e)}),n=await wh(r);return console.log("Successfully created question:",n==null?void 0:n.id),n}catch(t){throw console.error("Error creating question:",t),t}},async updateQuestion(e,t){try{console.log("Updating question:",e,t);const r=await yh(),n=await fetch(xh,{method:"PUT",headers:r,body:JSON.stringify({id:e,...t})}),s=await wh(n);return console.log("Successfully updated question:",s==null?void 0:s.id),s}catch(r){throw console.error("Error updating question:",r),r}},async deleteQuestion(e){try{console.log("Deleting question:",e);const{data:t,error:r}=await q.rpc("safe_delete_question",{question_uuid:e});if(r)throw console.error("Error deleting question:",r),r;const n={deleted:t,archived:!t};return console.log("Question deletion result:",n),n}catch(t){throw console.error("Error deleting question:",t),t}},async getQuestionTypes(){try{const{data:e,error:t}=await q.from("question_types").select("*").order("name");if(t)throw console.error("Error fetching question types:",t),t;return console.log("Successfully fetched question types:",(e==null?void 0:e.length)||0),e||[]}catch(e){return console.error("Error fetching question types:",e),[]}},async getQuestionCategories(){try{const{data:e,error:t}=await q.from("question_categories").select("*").order("name");if(t)throw console.error("Error fetching question categories:",t),t;return console.log("Successfully fetched question categories:",(e==null?void 0:e.length)||0),e||[]}catch(e){return console.error("Error fetching question categories:",e),[]}}},wz=e=>{const[t,r]=m.useState(0);return{currentQuestionIndex:t,goToNext:()=>{t<e-1&&r(i=>i+1)},goToPrevious:()=>{t>0&&r(i=>i-1)},resetNavigation:()=>{r(0)},isLastQuestion:t===e-1,isFirstQuestion:t===0}},bz=()=>{const[e,t]=m.useState({}),[r,n]=m.useState(!1),{organization:s}=US(),{toast:o}=rn();return{responses:e,isSubmitting:r,handleResponse:(f,h)=>{t(p=>({...p,[f]:h}))},loadResponses:f=>{t(f)},generateFinalResponses:()=>Object.entries(e).map(([f,h])=>({questionId:f,value:h,score:Math.floor(Math.random()*5)+1,category:"QualityService"})),submitResponses:async(f,h)=>{if(!(s!=null&&s.id))throw new Error("Organization not found");n(!0);try{console.log("Submitting feedback via Edge Function...");const{data:p,error:v}=await q.functions.invoke("submit-feedback",{body:{responses:e,organizationId:s.id,questions:f,timingData:h}});if(v)throw v;if(!p.success)throw new Error(p.error||"Failed to submit feedback");return o({title:"Feedback submitted successfully!",description:`${p.responseCount} responses recorded`}),console.log("Feedback submitted successfully:",p),{id:p.sessionId,total_score:p.totalScore}}catch(p){throw console.error("Error submitting feedback:",p),o({title:"Error submitting feedback",description:"Please try again later",variant:"destructive"}),p}finally{n(!1)}},resetResponses:()=>{t({})},organizationId:s==null?void 0:s.id}},jz=(e,t,r=2e3)=>{rn();const n=m.useRef();return m.useEffect(()=>(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{try{localStorage.setItem(t,JSON.stringify(e)),console.log("Auto-saved form data")}catch(i){console.error("Failed to auto-save:",i)}},r),()=>{n.current&&clearTimeout(n.current)}),[e,t,r]),{loadSavedData:()=>{try{const i=localStorage.getItem(t);return i?JSON.parse(i):null}catch(i){return console.error("Failed to load saved data:",i),null}},clearSavedData:()=>{try{localStorage.removeItem(t),console.log("Cleared saved form data")}catch(i){console.error("Failed to clear saved data:",i)}}}},Sz=()=>{const[e,t]=m.useState({}),r=m.useCallback((o,i)=>{const l=[],c=[];switch(o.required&&((i==null||i==="")&&l.push("This field is required"),(o.type==="multi-choice"||o.type==="ranking")&&Array.isArray(i)&&i.length===0&&l.push("Please select at least one option"),o.type==="matrix"&&(!i||Object.keys(i).length===0)&&l.push("Please rate all aspects")),o.type){case"text":i&&typeof i=="string"&&(i.length<3&&o.required&&c.push("Consider providing more detailed feedback"),i.length>500&&l.push("Response is too long (maximum 500 characters)"));break;case"star":i!==void 0&&(i<1||i>5)&&l.push("Rating must be between 1 and 5 stars");break;case"nps":i!==void 0&&(i<0||i>10)&&l.push("NPS score must be between 0 and 10");break;case"slider":const u=o.scale||{min:1,max:10};i!==void 0&&(i<u.min||i>u.max)&&l.push(`Value must be between ${u.min} and ${u.max}`);break;case"matrix":if(i&&o.options){const d=o.options.filter(f=>!i[f]);d.length>0&&o.required&&l.push(`Please rate: ${d.join(", ")}`)}break}return{isValid:l.length===0,errors:l,warnings:c}},[]),n=m.useCallback((o,i)=>{const l={};return o.forEach(c=>{l[c.id]=r(c,i[c.id])}),t(l),l},[r]),s=m.useCallback(o=>e[o]||{isValid:!0,errors:[],warnings:[]},[e]);return{validateQuestion:r,validateAllQuestions:n,getValidationResult:s,validationResults:e}},oE=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(!0),[s,o]=m.useState(null),i=fS(),l=on();return m.useEffect(()=>{(async()=>{const u=l.pathname;console.log("useOrganization - Starting detection for path:",u),n(!0),o(null),t(null);let d=null;const f=i.orgSlug||i.slug,h=["admin","auth","login","create-organization","terms-of-service","privacy-policy"];if(f&&h.includes(f)){console.log(`useOrganization - Path matched special route "${f}", skipping org detection.`),n(!1);return}const v=new URL(window.location.href).hostname;if(v!=="localhost"&&!v.includes("lovable.app")&&!v.includes("lovableproject.com")){console.log("useOrganization - Checking domain:",v);try{d=await R3(v),console.log("useOrganization - Domain result:",d)}catch(x){console.warn("useOrganization - Domain check failed:",x)}}if(!d&&v.includes(".")){const x=v.split(".")[0];if(x!=="www"&&x!=="feedback"&&!x.includes("preview--")){console.log("useOrganization - Checking subdomain:",x);try{d=await ch(x),console.log("useOrganization - Subdomain result:",d)}catch(w){console.warn("useOrganization - Subdomain check failed:",w)}}}if(!d&&f){console.log("useOrganization - Checking slug from params:",f);try{d=await ch(f),console.log("useOrganization - Slug result:",d)}catch(x){console.error("useOrganization - Slug check failed:",x)}}if(!d&&u==="/"){console.log("useOrganization - No org found, defaulting to police-sacco for root path");try{d=await ch("police-sacco"),console.log("useOrganization - Default police-sacco result:",d)}catch(x){console.error("useOrganization - Default police-sacco failed:",x)}}t(d);const g=f&&!h.includes(f);!d&&g&&(console.log("useOrganization - No organization found for slug:",f),o("Organization not found")),n(!1),console.log("useOrganization - Detection finished. Final org:",(d==null?void 0:d.name)||"none")})()},[i.slug,i.orgSlug,l.pathname]),{organization:e,isLoading:r,error:s}};let Bc;const _z=new Uint8Array(16);function Nz(){if(!Bc&&(Bc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bc(_z)}const at=[];for(let e=0;e<256;++e)at.push((e+256).toString(16).slice(1));function kz(e,t=0){return at[e[t+0]]+at[e[t+1]]+at[e[t+2]]+at[e[t+3]]+"-"+at[e[t+4]]+at[e[t+5]]+"-"+at[e[t+6]]+at[e[t+7]]+"-"+at[e[t+8]]+at[e[t+9]]+"-"+at[e[t+10]]+at[e[t+11]]+at[e[t+12]]+at[e[t+13]]+at[e[t+14]]+at[e[t+15]]}const Cz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fy={randomUUID:Cz};function zy(e,t,r){if(Fy.randomUUID&&!t&&!e)return Fy.randomUUID();e=e||{};const n=e.random||(e.rng||Nz)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,kz(n)}class Ez{constructor(){di(this,"sessionTimes",new Map)}startSession(t){this.sessionTimes.set(t,{sessionId:t,startTime:Date.now(),questionTimes:[]})}startQuestion(t,r){const n=this.sessionTimes.get(t);if(!n)return;const s=n.questionTimes[n.questionTimes.length-1];s&&!s.endTime&&(s.endTime=Date.now(),s.responseTime=s.endTime-s.startTime),n.questionTimes.push({questionId:r,startTime:Date.now(),endTime:0,responseTime:0})}endQuestion(t,r){const n=this.sessionTimes.get(t);if(!n)return 0;const s=n.questionTimes.find(o=>o.questionId===r);return!s||s.endTime?(s==null?void 0:s.responseTime)||0:(s.endTime=Date.now(),s.responseTime=s.endTime-s.startTime,s.responseTime)}endSession(t){const r=this.sessionTimes.get(t);if(!r)return 0;const n=r.questionTimes[r.questionTimes.length-1];return n&&!n.endTime&&(n.endTime=Date.now(),n.responseTime=n.endTime-n.startTime),r.endTime=Date.now(),r.totalResponseTime=r.endTime-r.startTime,r.totalResponseTime}getSessionTime(t){return this.sessionTimes.get(t)}calculateCategoryAverages(t){const r=new Map;return t.forEach(n=>{const s=this.sessionTimes.get(n.sessionId);if(!s)return;const o=s.questionTimes.find(i=>i.questionId===n.questionId);!o||!o.responseTime||(r.has(n.category)||r.set(n.category,[]),r.get(n.category).push(o.responseTime))}),Array.from(r.entries()).map(([n,s])=>({category:n,averageTime:s.reduce((o,i)=>o+i,0)/s.length,totalResponses:s.length,minTime:Math.min(...s),maxTime:Math.max(...s)}))}clearSession(t){this.sessionTimes.delete(t)}}const Ao=new Ez,Pz=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!1),[s,o]=m.useState([]),[i,l]=m.useState(!0),[c,u]=m.useState([]),[d,f]=m.useState(null),{organization:h,isLoading:p}=oE(),{toast:v}=rn(),{responses:g,isSubmitting:x,handleResponse:w,generateFinalResponses:y,submitResponses:b,resetResponses:j,loadResponses:S}=bz(),{currentQuestionIndex:N,goToNext:C,goToPrevious:E,resetNavigation:T}=wz(e.length),{validateQuestion:R,getValidationResult:L}=Sz(),$=m.useRef(!1),K=m.useRef(null),I=m.useRef(zy()),{loadSavedData:G,clearSavedData:U}=jz({responses:g,currentQuestionIndex:N,completedQuestions:c},h?`feedback-${h.slug}`:"feedback-default");m.useEffect(()=>{(async()=>{if(console.log("useFeedbackForm - Loading questions, org loading:",p,"organization:",h),p)return;const Z=(h==null?void 0:h.id)||"fallback";if($.current&&K.current===Z){console.log("useFeedbackForm - Questions already loaded for this organization");return}try{l(!0),f(null);const se=await yz(h==null?void 0:h.slug);console.log("useFeedbackForm - Questions loaded:",se),t(se),$.current=!0,K.current=(h==null?void 0:h.id)||"fallback",Ao.startSession(I.current);const je=G();je&&Object.keys(je.responses||{}).length>0&&(v({title:"Previous session restored",description:"We've restored your previous answers"}),S(je.responses),u(je.completedQuestions||[]))}catch(se){console.error("useFeedbackForm - Error loading questions:",se),f("We couldn't load the survey questions. Please check your connection and try again.")}finally{l(!1)}})()},[h==null?void 0:h.id,h==null?void 0:h.slug,p]),m.useEffect(()=>{if(e.length>0){const W=e[N].id;Ao.startQuestion(I.current,W)}},[N,e]);const M=()=>{const W=e[N];if(!W)return!1;const Z=g[W.id];return R(W,Z).isValid},_=(W,Z)=>{w(W,Z);const se=e.findIndex(je=>je.id===W);se!==-1&&!c.includes(se)&&u(je=>[...je,se])},P=async()=>{try{console.log("Submitting feedback to database..."),Ao.endSession(I.current);const W=Ao.getSessionTime(I.current);await b(e,W);const Z=y();o(Z),n(!0),U(),Ao.clearSession(I.current)}catch(W){console.error("Error submitting feedback:",W)}};return{questions:e,currentQuestionIndex:N,responses:g,isComplete:r,finalResponses:s,isLoading:i||x,questionsError:d,completedQuestions:c,handleResponse:_,isCurrentQuestionAnswered:M,goToNext:()=>{N<e.length-1?C():P()},goToPrevious:E,resetForm:()=>{I.current&&Ao.clearSession(I.current),I.current=zy(),T(),j(),n(!1),o([]),u([]),U(),f(null),$.current=!1,K.current=null},getValidationResult:L}},Rz=(e,t)=>{const r=Object.keys(e).length,n=r/t*100,s=Object.values(e).reduce((o,i)=>typeof i=="string"&&i.length>10?o+20:Array.isArray(i)&&i.length>1?o+15:o+10,0)/r||0;return Math.min(100,(n+s)/2)},Tz=e=>{const t=e.reduce((n,s)=>n+s.score,0)/e.length||0,r=t>=80?"positive":t>=60?"neutral":"needs_improvement";return{responseTime:Math.floor(Math.random()*300)+60,completionRate:e.length/10*100,engagementScore:t,satisfactionTrend:r,commonPatterns:["High satisfaction with services","Mobile app needs improvement"]}},Az=(e,t,r)=>{const[n,s]=m.useState(null),[o,i]=m.useState(Date.now()),[l,c]=m.useState([]),u=()=>{i(Date.now())},d=()=>{const p=Math.floor((Date.now()-o)/1e3);c(v=>[...v,p])},f=()=>l.length>0?Math.round(l.reduce((p,v)=>p+v,0)/l.length):30,h=p=>{const v=f();return(t-p)*v};return m.useEffect(()=>{if(r.length>0){const p=Tz(r);s(p)}},[r]),{analytics:n,trackQuestionStart:u,trackQuestionResponse:d,getAverageResponseTime:f,getEstimatedTimeRemaining:h,engagementScore:Rz(e,t)}},Oz=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(!0);return m.useEffect(()=>{localStorage.getItem("feedback-privacy-consent")==="true"&&(t(!0),n(!1))},[]),{hasConsented:e,showPrivacyNotice:r,acceptPrivacy:()=>{localStorage.setItem("feedback-privacy-consent","true"),t(!0),n(!1)}}},Mz=(e,t,r)=>{const{toast:n}=rn(),s=()=>{const l={responses:e,currentQuestionIndex:t,completedQuestions:r,timestamp:new Date().toISOString()};localStorage.setItem("feedback-save-continue",JSON.stringify(l))},o=()=>{s(),n({title:"Session paused",description:"Your progress has been saved. Return anytime to continue."}),window.location.reload()},i=Object.keys(e).length>0;return{saveProgress:s,pauseAndExit:o,hasUnsavedChanges:i}},Dz=()=>{const[e,t]=m.useState(!0),{organization:r,isLoading:n,error:s}=oE();console.log("FeedbackForm - Organization state:",{organization:r,orgLoading:n,orgError:s});const{questions:o,currentQuestionIndex:i,responses:l,isComplete:c,finalResponses:u,isLoading:d,questionsError:f,completedQuestions:h,handleResponse:p,isCurrentQuestionAnswered:v,goToNext:g,goToPrevious:x,resetForm:w,getValidationResult:y}=Pz(),{trackQuestionStart:b,trackQuestionResponse:j,getAverageResponseTime:S,getEstimatedTimeRemaining:N}=Az(l,o.length,u),{hasConsented:C,showPrivacyNotice:E,acceptPrivacy:T}=Oz(),{saveProgress:R,pauseAndExit:L,hasUnsavedChanges:$}=Mz(l,i,h);m.useEffect(()=>{!e&&o.length>0&&b()},[i,b,e,o.length]);const K=(U,M)=>{p(U,M),j()},I=()=>{t(!1)},G=()=>{w(),t(!0)};return n?(console.log("FeedbackForm - Showing loading state"),a.jsx($y,{})):s||!r?(console.log("FeedbackForm - Showing error boundary for org"),a.jsx(vh,{orgLoading:n,orgError:s,organization:r})):f?(console.log("FeedbackForm - Showing error boundary for questions"),a.jsx(vh,{orgLoading:!1,orgError:f,organization:r})):d?(console.log("FeedbackForm - Questions loading"),a.jsx($y,{})):e?(console.log("FeedbackForm - Showing welcome screen"),a.jsx(a8,{onStart:I})):o.length===0?(console.log("FeedbackForm - No questions available"),a.jsx(vh,{orgLoading:!1,orgError:"No questions configured for this organization",organization:r})):(console.log("FeedbackForm - Rendering main content"),a.jsxs(i8,{children:[a.jsx(mz,{questions:o,currentQuestionIndex:i,responses:l,completedQuestions:h,hasConsented:C,canGoNext:v(),estimatedTimeRemaining:N(i),averageResponseTime:S(),hasUnsavedChanges:$,onQuestionResponse:K,onNext:g,onPrevious:x,onSaveProgress:R,onPauseAndExit:L,getValidationResult:y}),a.jsx(vz,{showPrivacyNotice:E,isComplete:c,finalResponses:u,questions:o,onAcceptPrivacy:T,onReset:G})]}))},Uy=()=>a.jsx(Dz,{}),bh=768;function Iz(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${bh-1}px)`),n=()=>{t(window.innerWidth<bh)};return r.addEventListener("change",n),t(window.innerWidth<bh),()=>r.removeEventListener("change",n)},[]),!!e}var Lz="Separator",By="horizontal",$z=["horizontal","vertical"],aE=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=By,...s}=e,o=Fz(n)?n:By,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(V.div,{"data-orientation":o,...l,...s,ref:t})});aE.displayName=Lz;function Fz(e){return $z.includes(e)}var iE=aE;const lE=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(iE,{ref:s,decorative:r,orientation:t,className:O("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));lE.displayName=iE.displayName;const zz=uv,Uz=dv,cE=m.forwardRef(({className:e,...t},r)=>a.jsx(Kl,{className:O("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));cE.displayName=Kl.displayName;const Bz=go("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),uE=m.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(Uz,{children:[a.jsx(cE,{}),a.jsxs(Yl,{ref:s,className:O(Bz({side:e}),t),...n,children:[r,a.jsxs(Xl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Ya,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));uE.displayName=Yl.displayName;const Wz=m.forwardRef(({className:e,...t},r)=>a.jsx(Gl,{ref:r,className:O("text-lg font-semibold text-foreground",e),...t}));Wz.displayName=Gl.displayName;const qz=m.forwardRef(({className:e,...t},r)=>a.jsx(Ql,{ref:r,className:O("text-sm text-muted-foreground",e),...t}));qz.displayName=Ql.displayName;function Sp({className:e,...t}){return a.jsx("div",{className:O("animate-pulse rounded-md bg-muted",e),...t})}const Vz="sidebar:state",Hz=60*60*24*7,Kz="16rem",Yz="18rem",Gz="3rem",Qz="b",dE=m.createContext(null);function ff(){const e=m.useContext(dE);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const fE=m.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:o,...i},l)=>{const c=Iz(),[u,d]=m.useState(!1),[f,h]=m.useState(e),p=t??f,v=m.useCallback(y=>{const b=typeof y=="function"?y(p):y;r?r(b):h(b),document.cookie=`${Vz}=${b}; path=/; max-age=${Hz}`},[r,p]),g=m.useCallback(()=>c?d(y=>!y):v(y=>!y),[c,v,d]);m.useEffect(()=>{const y=b=>{b.key===Qz&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),g())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[g]);const x=p?"expanded":"collapsed",w=m.useMemo(()=>({state:x,open:p,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:g}),[x,p,v,c,u,d,g]);return a.jsx(dE.Provider,{value:w,children:a.jsx(qj,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":Kz,"--sidebar-width-icon":Gz,...s},className:O("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...i,children:o})})})});fE.displayName="SidebarProvider";const hE=m.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...o},i)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=ff();return r==="none"?a.jsx("div",{className:O("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:i,...o,children:s}):l?a.jsx(zz,{open:u,onOpenChange:d,...o,children:a.jsx(uE,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Yz},side:e,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):a.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:O("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:O("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});hE.displayName="Sidebar";const mE=m.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=ff();return a.jsxs(J,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:O("h-7 w-7",e),onClick:o=>{t==null||t(o),s()},...r,children:[a.jsx(iA,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});mE.displayName="SidebarTrigger";const Xz=m.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=ff();return a.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:O("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Xz.displayName="SidebarRail";const Jz=m.forwardRef(({className:e,...t},r)=>a.jsx("main",{ref:r,className:O("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Jz.displayName="SidebarInset";const Zz=m.forwardRef(({className:e,...t},r)=>a.jsx(pe,{ref:r,"data-sidebar":"input",className:O("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Zz.displayName="SidebarInput";const pE=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"header",className:O("flex flex-col gap-2 p-2",e),...t}));pE.displayName="SidebarHeader";const eU=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"footer",className:O("flex flex-col gap-2 p-2",e),...t}));eU.displayName="SidebarFooter";const tU=m.forwardRef(({className:e,...t},r)=>a.jsx(lE,{ref:r,"data-sidebar":"separator",className:O("mx-2 w-auto bg-sidebar-border",e),...t}));tU.displayName="SidebarSeparator";const gE=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"content",className:O("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));gE.displayName="SidebarContent";const vE=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group",className:O("relative flex w-full min-w-0 flex-col p-2",e),...t}));vE.displayName="SidebarGroup";const xE=m.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?St:"div";return a.jsx(s,{ref:n,"data-sidebar":"group-label",className:O("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});xE.displayName="SidebarGroupLabel";const rU=m.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?St:"button";return a.jsx(s,{ref:n,"data-sidebar":"group-action",className:O("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});rU.displayName="SidebarGroupAction";const yE=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group-content",className:O("w-full text-sm",e),...t}));yE.displayName="SidebarGroupContent";const wE=m.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu",className:O("flex w-full min-w-0 flex-col gap-1",e),...t}));wE.displayName="SidebarMenu";const bE=m.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,"data-sidebar":"menu-item",className:O("group/menu-item relative",e),...t}));bE.displayName="SidebarMenuItem";const nU=go("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),jE=m.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:o,...i},l)=>{const c=e?St:"button",{isMobile:u,state:d}=ff(),f=a.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:O(nU({variant:r,size:n}),o),...i});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(tD,{children:[a.jsx(rD,{asChild:!0,children:f}),a.jsx(Vj,{side:"right",align:"center",hidden:d!=="collapsed"||u,...s})]})):f});jE.displayName="SidebarMenuButton";const sU=m.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const o=t?St:"button";return a.jsx(o,{ref:s,"data-sidebar":"menu-action",className:O("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});sU.displayName="SidebarMenuAction";const oU=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:O("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));oU.displayName="SidebarMenuBadge";const aU=m.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:O("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&a.jsx(Sp,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(Sp,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});aU.displayName="SidebarMenuSkeleton";const iU=m.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:O("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));iU.displayName="SidebarMenuSub";const lU=m.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));lU.displayName="SidebarMenuSubItem";const cU=m.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},o)=>{const i=e?St:"a";return a.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:O("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});cU.displayName="SidebarMenuSubButton";const Wy=({organizationId:e,onNavigate:t})=>{const[r,n]=m.useState(!1),[s,o]=m.useState(""),[i,l]=m.useState([]),[c,u]=m.useState(0),d=m.useRef(null),f=[{id:"1",title:"John Doe",type:"member",description:"Admin member since 2023",url:"/admin/members"},{id:"2",title:"How would you rate our service?",type:"question",description:"Rating question • 145 responses",url:"/admin/questions"},{id:"3",title:"Session #abc123",type:"session",description:"Completed 2 hours ago • Score: 4.5/5",url:"/admin/feedback"},{id:"4",title:"Organization Settings",type:"setting",description:"Manage organization preferences",url:"/admin/settings"}],h=g=>{switch(g){case"member":return Pr;case"question":return Pa;case"session":return Yr;case"setting":return Ra;default:return wi}},p=g=>{switch(g){case"member":return"bg-blue-50 text-blue-700";case"question":return"bg-green-50 text-green-700";case"session":return"bg-purple-50 text-purple-700";case"setting":return"bg-orange-50 text-orange-700";default:return"bg-gray-50 text-gray-700"}};m.useEffect(()=>{const g=x=>{(x.metaKey||x.ctrlKey)&&x.key==="k"&&(x.preventDefault(),n(!0),setTimeout(()=>{var w;return(w=d.current)==null?void 0:w.focus()},100)),x.key==="Escape"&&(n(!1),o(""),l([])),r&&(x.key==="ArrowDown"&&(x.preventDefault(),u(w=>Math.min(w+1,i.length-1))),x.key==="ArrowUp"&&(x.preventDefault(),u(w=>Math.max(w-1,0))),x.key==="Enter"&&i[c]&&(x.preventDefault(),v(i[c])))};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r,i,c]),m.useEffect(()=>{if(s.length>0){const g=f.filter(x=>x.title.toLowerCase().includes(s.toLowerCase())||x.description.toLowerCase().includes(s.toLowerCase()));l(g),u(0)}else l([])},[s]);const v=g=>{g.url&&t&&t(g.url),n(!1),o(""),l([])};return r?a.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",children:a.jsx("div",{className:"flex items-start justify-center pt-20",children:a.jsx(ge,{className:"w-full max-w-2xl mx-4",children:a.jsxs(ve,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center border-b px-4",children:[a.jsx(wi,{className:"w-4 h-4 text-muted-foreground mr-3"}),a.jsx(pe,{ref:d,placeholder:"Search members, questions, sessions...",value:s,onChange:g=>o(g.target.value),className:"border-0 focus-visible:ring-0 shadow-none",autoFocus:!0}),a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>n(!1),className:"ml-2",children:a.jsx(Ya,{className:"w-4 h-4"})})]}),i.length>0&&a.jsx("div",{className:"max-h-96 overflow-y-auto p-2",children:i.map((g,x)=>{const w=h(g.type);return a.jsxs("button",{onClick:()=>v(g),className:`w-full flex items-center space-x-3 p-3 rounded-lg text-left hover:bg-muted transition-colors ${x===c?"bg-muted":""}`,children:[a.jsx("div",{className:"p-2 rounded-lg bg-muted",children:a.jsx(w,{className:"w-4 h-4 text-muted-foreground"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:g.title}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:g.description})]}),a.jsx(er,{variant:"outline",className:p(g.type),children:g.type})]},g.id)})}),s.length>0&&i.length===0&&a.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[a.jsx(wi,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsxs("p",{children:['No results found for "',s,'"']})]}),s.length===0&&a.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[a.jsx(wi,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Start typing to search your dashboard"}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4 text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("kbd",{className:"bg-muted px-1.5 py-0.5 rounded text-[10px]",children:"↵"}),a.jsx("span",{children:"to select"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("kbd",{className:"bg-muted px-1.5 py-0.5 rounded text-[10px]",children:"↑↓"}),a.jsx("span",{children:"to navigate"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("kbd",{className:"bg-muted px-1.5 py-0.5 rounded text-[10px]",children:"esc"}),a.jsx("span",{children:"to close"})]})]})]})]})})})}):a.jsxs(J,{variant:"outline",onClick:()=>n(!0),className:"w-full max-w-md flex items-center justify-between text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wi,{className:"w-4 h-4"}),a.jsx("span",{children:"Search dashboard..."})]}),a.jsx("div",{className:"flex items-center space-x-1",children:a.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[a.jsx(JT,{className:"w-3 h-3"}),"K"]})})]})},uU=async e=>{const{data:t,error:r}=await q.from("notifications").select("*").eq("organization_id",e).order("created_at",{ascending:!1}).limit(50);if(r)throw console.error("Error fetching notifications:",r),r;return t},dU=e=>{const t=sn(),[r,n]=m.useState(0),{data:s=[],isLoading:o,error:i}=Ar({queryKey:["notifications",e],queryFn:()=>uU(e),enabled:!!e,refetchOnWindowFocus:!1,staleTime:3e4});return m.useEffect(()=>{if(!e)return;const f=q.channel(`notifications-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`organization_id=eq.${e}`},h=>{console.log("New notification received:",h.new),t.setQueryData(["notifications",e],v=>[h.new,...v||[]]);const p=Date.now();p-r>3e3&&(Ce(h.new.title,{description:h.new.message,action:{label:"View",onClick:()=>{console.log("View notification:",h.new.id)}},duration:5e3,className:fU(h.new.type)}),n(p))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`organization_id=eq.${e}`},h=>{console.log("Notification updated:",h.new),t.setQueryData(["notifications",e],p=>(p==null?void 0:p.map(v=>v.id===h.new.id?h.new:v))||[])}).on("postgres_changes",{event:"DELETE",schema:"public",table:"notifications",filter:`organization_id=eq.${e}`},h=>{console.log("Notification deleted:",h.old),t.setQueryData(["notifications",e],p=>(p==null?void 0:p.filter(v=>v.id!==h.old.id))||[])}).subscribe();return()=>{console.log("Unsubscribing from notifications channel"),q.removeChannel(f)}},[e,t,r]),{notifications:s,isLoading:o,error:i,markAsRead:async f=>{t.setQueryData(["notifications",e],h=>(h==null?void 0:h.map(p=>p.id===f?{...p,is_read:!0}:p))||[]);try{const{error:h}=await q.from("notifications").update({is_read:!0}).eq("id",f);h&&(console.error("Error marking notification as read:",h),t.invalidateQueries({queryKey:["notifications",e]}),Ce.error("Failed to mark notification as read"))}catch(h){console.error("Unexpected error:",h),t.invalidateQueries({queryKey:["notifications",e]}),Ce.error("Failed to mark notification as read")}},markAllAsRead:async()=>{const f=s.filter(h=>!h.is_read);if(f.length!==0){t.setQueryData(["notifications",e],h=>(h==null?void 0:h.map(p=>({...p,is_read:!0})))||[]);try{const{error:h}=await q.from("notifications").update({is_read:!0}).eq("organization_id",e).eq("is_read",!1);h?(console.error("Error marking all notifications as read:",h),t.invalidateQueries({queryKey:["notifications",e]}),Ce.error("Failed to mark all notifications as read")):Ce.success(`Marked ${f.length} notifications as read`)}catch(h){console.error("Unexpected error:",h),t.invalidateQueries({queryKey:["notifications",e]}),Ce.error("Failed to mark all notifications as read")}}},removeNotification:async f=>{const h=t.getQueryData(["notifications",e]);t.setQueryData(["notifications",e],p=>(p==null?void 0:p.filter(v=>v.id!==f))||[]);try{const{error:p}=await q.from("notifications").delete().eq("id",f);p&&(console.error("Error removing notification:",p),t.setQueryData(["notifications",e],h),Ce.error("Failed to remove notification"))}catch(p){console.error("Unexpected error:",p),t.setQueryData(["notifications",e],h),Ce.error("Failed to remove notification")}},clearAllNotifications:async()=>{if(s.length===0)return;const f=t.getQueryData(["notifications",e]);t.setQueryData(["notifications",e],[]);try{const{error:h}=await q.from("notifications").delete().eq("organization_id",e);h?(console.error("Error clearing all notifications:",h),t.setQueryData(["notifications",e],f),Ce.error("Failed to clear all notifications")):Ce.success("All notifications cleared")}catch(h){console.error("Unexpected error:",h),t.setQueryData(["notifications",e],f),Ce.error("Failed to clear all notifications")}},unreadCount:s.filter(f=>!f.is_read).length}},fU=e=>{switch(e){case"success":return"border-green-200 bg-green-50";case"warning":return"border-yellow-200 bg-yellow-50";case"error":return"border-red-200 bg-red-50";default:return"border-blue-200 bg-blue-50"}};function ne(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ut(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function bt(e,t){const r=ne(e);return isNaN(t)?Ut(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Or(e,t){const r=ne(e);if(isNaN(t))return Ut(e,NaN);if(!t)return r;const n=r.getDate(),s=Ut(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const o=s.getDate();return n>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const Yv=6048e5,hU=864e5,Wc=43200,qy=1440;let mU={};function ui(){return mU}function tn(e,t){var l,c,u,d;const r=ui(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ne(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function uo(e){return tn(e,{weekStartsOn:1})}function SE(e){const t=ne(e),r=t.getFullYear(),n=Ut(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=uo(n),o=Ut(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=uo(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Ia(e){const t=ne(e);return t.setHours(0,0,0,0),t}function La(e){const t=ne(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Gr(e,t){const r=Ia(e),n=Ia(t),s=+r-La(r),o=+n-La(n);return Math.round((s-o)/hU)}function pU(e){const t=SE(e),r=Ut(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),uo(r)}function _p(e,t){const r=t*7;return bt(e,r)}function gU(e,t){return Or(e,t*12)}function vU(e){let t;return e.forEach(function(r){const n=ne(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function xU(e){let t;return e.forEach(r=>{const n=ne(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function cu(e,t){const r=ne(e),n=ne(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function yU(e){return Ut(e,Date.now())}function Dt(e,t){const r=Ia(e),n=Ia(t);return+r==+n}function Gv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wU(e){if(!Gv(e)&&typeof e!="number")return!1;const t=ne(e);return!isNaN(Number(t))}function $a(e,t){const r=ne(e),n=ne(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function bU(e,t,r){const n=tn(e,r),s=tn(t,r),o=+n-La(n),i=+s-La(s);return Math.round((o-i)/Yv)}function jU(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function SU(e,t){return+ne(e)-+ne(t)}function _U(e){const t=ne(e);return t.setHours(23,59,59,999),t}function hf(e){const t=ne(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function NU(e){const t=ne(e);return+_U(t)==+hf(t)}function kU(e,t){const r=ne(e),n=ne(t),s=cu(r,n),o=Math.abs($a(r,n));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let l=cu(r,n)===-s;NU(ne(e))&&o===1&&cu(e,n)===1&&(l=!1),i=s*(o-Number(l))}return i===0?0:i}function CU(e,t,r){const n=SU(e,t)/1e3;return jU(r==null?void 0:r.roundingMethod)(n)}function zt(e){const t=ne(e);return t.setDate(1),t.setHours(0,0,0,0),t}function _E(e){const t=ne(e),r=Ut(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Qv(e,t){var l,c,u,d;const r=ui(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ne(e),o=s.getDay(),i=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function NE(e){return Qv(e,{weekStartsOn:1})}const EU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PU=(e,t,r)=>{let n;const s=EU[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function jh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const RU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},TU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OU={date:jh({formats:RU,defaultWidth:"full"}),time:jh({formats:TU,defaultWidth:"full"}),dateTime:jh({formats:AU,defaultWidth:"full"})},MU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DU=(e,t,r,n)=>MU[e];function _i(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const IU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$U={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},WU={ordinalNumber:BU,era:_i({values:IU,defaultWidth:"wide"}),quarter:_i({values:LU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_i({values:$U,defaultWidth:"wide"}),day:_i({values:FU,defaultWidth:"wide"}),dayPeriod:_i({values:zU,defaultWidth:"wide",formattingValues:UU,defaultFormattingWidth:"wide"})};function Ni(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?VU(l,f=>f.test(i)):qU(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function qU(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function VU(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function HU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const KU=/^(\d+)(th|st|nd|rd)?/i,YU=/\d+/i,GU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QU={any:[/^b/i,/^(a|c)/i]},XU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JU={any:[/1/i,/2/i,/3/i,/4/i]},ZU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},t7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},o7={ordinalNumber:HU({matchPattern:KU,parsePattern:YU,valueCallback:e=>parseInt(e,10)}),era:Ni({matchPatterns:GU,defaultMatchWidth:"wide",parsePatterns:QU,defaultParseWidth:"any"}),quarter:Ni({matchPatterns:XU,defaultMatchWidth:"wide",parsePatterns:JU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ni({matchPatterns:ZU,defaultMatchWidth:"wide",parsePatterns:e7,defaultParseWidth:"any"}),day:Ni({matchPatterns:t7,defaultMatchWidth:"wide",parsePatterns:r7,defaultParseWidth:"any"}),dayPeriod:Ni({matchPatterns:n7,defaultMatchWidth:"any",parsePatterns:s7,defaultParseWidth:"any"})},Xv={code:"en-US",formatDistance:PU,formatLong:OU,formatRelative:DU,localize:WU,match:o7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function a7(e){const t=ne(e);return Gr(t,_E(t))+1}function kE(e){const t=ne(e),r=+uo(t)-+pU(t);return Math.round(r/Yv)+1}function CE(e,t){var d,f,h,p;const r=ne(e),n=r.getFullYear(),s=ui(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=Ut(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=tn(i,t),c=Ut(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=tn(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function i7(e,t){var l,c,u,d;const r=ui(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=CE(e,t),o=Ut(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),tn(o,t)}function EE(e,t){const r=ne(e),n=+tn(r,t)-+i7(r,t);return Math.round(n/Yv)+1}function Ne(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ln={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ne(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ne(r+1,2)},d(e,t){return Ne(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ne(e.getHours()%12||12,t.length)},H(e,t){return Ne(e.getHours(),t.length)},m(e,t){return Ne(e.getMinutes(),t.length)},s(e,t){return Ne(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ne(s,t.length)}},Oo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vy={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Ln.y(e,t)},Y:function(e,t,r,n){const s=CE(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Ne(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ne(o,t.length)},R:function(e,t){const r=SE(e);return Ne(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ne(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ne(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ne(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ln.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ne(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=EE(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ne(s,t.length)},I:function(e,t,r){const n=kE(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ne(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ln.d(e,t)},D:function(e,t,r){const n=a7(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ne(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ne(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ne(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ne(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Oo.noon:n===0?s=Oo.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Oo.evening:n>=12?s=Oo.afternoon:n>=4?s=Oo.morning:s=Oo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ln.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ln.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ne(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ne(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ln.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ln.s(e,t)},S:function(e,t){return Ln.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Ky(n);case"XXXX":case"XX":return Fs(n);case"XXXXX":case"XXX":default:return Fs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Ky(n);case"xxxx":case"xx":return Fs(n);case"xxxxx":case"xxx":default:return Fs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Hy(n,":");case"OOOO":default:return"GMT"+Fs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Hy(n,":");case"zzzz":default:return"GMT"+Fs(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ne(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ne(n,t.length)}};function Hy(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+Ne(o,2)}function Ky(e,t){return e%60===0?(e>0?"-":"+")+Ne(Math.abs(e)/60,2):Fs(e,t)}function Fs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ne(Math.trunc(n/60),2),o=Ne(n%60,2);return r+s+t+o}const Yy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},PE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},l7=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Yy(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Yy(n,t)).replace("{{time}}",PE(s,t))},c7={p:PE,P:l7},u7=/^D+$/,d7=/^Y+$/,f7=["D","DD","YY","YYYY"];function h7(e){return u7.test(e)}function m7(e){return d7.test(e)}function p7(e,t,r){const n=g7(e,t,r);if(console.warn(n),f7.includes(e))throw new RangeError(n)}function g7(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const v7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y7=/^'([^]*?)'?$/,w7=/''/g,b7=/[a-zA-Z]/;function Zr(e,t,r){var d,f,h,p,v,g,x,w;const n=ui(),s=(r==null?void 0:r.locale)??n.locale??Xv,o=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(x=n.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,l=ne(e);if(!wU(l))throw new RangeError("Invalid time value");let c=t.match(x7).map(y=>{const b=y[0];if(b==="p"||b==="P"){const j=c7[b];return j(y,s.formatLong)}return y}).join("").match(v7).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:j7(y)};if(Vy[b])return{isToken:!0,value:y};if(b.match(b7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&m7(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&h7(b))&&p7(b,t,String(e));const j=Vy[b[0]];return j(l,b,s.localize,u)}).join("")}function j7(e){const t=e.match(y7);return t?t[1].replace(w7,"'"):e}function S7(e,t,r){const n=ui(),s=(r==null?void 0:r.locale)??n.locale??Xv,o=2520,i=cu(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=ne(t),u=ne(e)):(c=ne(e),u=ne(t));const d=CU(u,c),f=(La(u)-La(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<qy){const v=Math.round(h/60);return s.formatDistance("aboutXHours",v,l)}else{if(h<o)return s.formatDistance("xDays",1,l);if(h<Wc){const v=Math.round(h/qy);return s.formatDistance("xDays",v,l)}else if(h<Wc*2)return p=Math.round(h/Wc),s.formatDistance("aboutXMonths",p,l)}if(p=kU(u,c),p<12){const v=Math.round(h/Wc);return s.formatDistance("xMonths",v,l)}else{const v=p%12,g=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",g,l):v<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function _7(e,t){return S7(e,yU(e),t)}function N7(e){const t=ne(e),r=t.getFullYear(),n=t.getMonth(),s=Ut(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function k7(e){return Math.trunc(+ne(e)/1e3)}function C7(e){const t=ne(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function E7(e,t){return bU(C7(e),zt(e),t)+1}function Np(e,t){const r=ne(e),n=ne(t);return r.getTime()>n.getTime()}function RE(e,t){const r=ne(e),n=ne(t);return+r<+n}function Jv(e,t){const r=ne(e),n=ne(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function P7(e,t){const r=ne(e),n=ne(t);return r.getFullYear()===n.getFullYear()}function Sh(e,t){return bt(e,-t)}function _h(e,t){const r=ne(e),n=r.getFullYear(),s=r.getDate(),o=Ut(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const i=N7(o);return r.setMonth(t,Math.min(s,i)),r}function Gy(e,t){const r=ne(e);return isNaN(+r)?Ut(e,NaN):(r.setFullYear(t),r)}function R7(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Zv="ScrollArea",[TE,rq]=ut(Zv),[T7,pr]=TE(Zv),AE=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,v]=m.useState(null),[g,x]=m.useState(null),[w,y]=m.useState(0),[b,j]=m.useState(0),[S,N]=m.useState(!1),[C,E]=m.useState(!1),T=te(t,L=>c(L)),R=Ps(s);return a.jsx(T7,{scope:r,type:n,dir:R,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:j,children:a.jsx(V.div,{dir:R,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});AE.displayName=Zv;var OE="ScrollAreaViewport",ME=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:o,...i}=e,l=pr(OE,r),c=m.useRef(null),u=te(t,c,l.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),a.jsx(V.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:U7({asChild:s,children:n},d=>a.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});ME.displayName=OE;var an="ScrollAreaScrollbar",e0=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=pr(an,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(A7,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(O7,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(DE,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(t0,{...n,ref:t}):null});e0.displayName=an;var A7=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=pr(an,e.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Qe,{present:r||o,children:a.jsx(DE,{"data-state":o?"visible":"hidden",...n,ref:t})})}),O7=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=pr(an,e.__scopeScrollArea),o=e.orientation==="horizontal",i=pf(()=>c("SCROLL_END"),100),[l,c]=R7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,o,c,i]),a.jsx(Qe,{present:r||l!=="hidden",children:a.jsx(t0,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:D(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:D(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),DE=m.forwardRef((e,t)=>{const r=pr(an,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=m.useState(!1),l=e.orientation==="horizontal",c=pf(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return Fa(r.viewport,c),Fa(r.content,c),a.jsx(Qe,{present:n||o,children:a.jsx(t0,{"data-state":o?"visible":"hidden",...s,ref:t})})}),t0=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=pr(an,e.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=zE(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,p){return F7(h,i.current,l,p)}return r==="horizontal"?a.jsx(M7,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=Qy(h,l,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(D7,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=Qy(h,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),M7=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=pr(an,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=te(t,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(LE,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mf(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),BE(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:td(i.paddingLeft),paddingEnd:td(i.paddingRight)}})}})}),D7=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=pr(an,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=te(t,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(LE,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mf(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),BE(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:td(i.paddingTop),paddingEnd:td(i.paddingBottom)}})}})}),[I7,IE]=TE(an),LE=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=pr(an,r),[v,g]=m.useState(null),x=te(t,T=>g(T)),w=m.useRef(null),y=m.useRef(""),b=p.viewport,j=n.content-n.viewport,S=Fe(d),N=Fe(c),C=pf(f,10);function E(T){if(w.current){const R=T.clientX-w.current.left,L=T.clientY-w.current.top;u({x:R,y:L})}}return m.useEffect(()=>{const T=R=>{const L=R.target;(v==null?void 0:v.contains(L))&&S(R,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,v,j,S]),m.useEffect(N,[n,N]),Fa(v,C),Fa(p.content,C),a.jsx(I7,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Fe(o),onThumbPointerUp:Fe(i),onThumbPositionChange:N,onThumbPointerDown:Fe(l),children:a.jsx(V.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:D(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),w.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(T))}),onPointerMove:D(e.onPointerMove,E),onPointerUp:D(e.onPointerUp,T=>{const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),ed="ScrollAreaThumb",$E=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=IE(ed,e.__scopeScrollArea);return a.jsx(Qe,{present:r||s.hasThumb,children:a.jsx(L7,{ref:t,...n})})}),L7=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=pr(ed,r),i=IE(ed,r),{onThumbPositionChange:l}=i,c=te(t,f=>i.onThumbChange(f)),u=m.useRef(),d=pf(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const p=z7(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,l]),a.jsx(V.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:D(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,g=f.clientY-p.top;i.onThumbPointerDown({x:v,y:g})}),onPointerUp:D(e.onPointerUp,i.onThumbPointerUp)})});$E.displayName=ed;var r0="ScrollAreaCorner",FE=m.forwardRef((e,t)=>{const r=pr(r0,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx($7,{...e,ref:t}):null});FE.displayName=r0;var $7=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=pr(r0,r),[o,i]=m.useState(0),[l,c]=m.useState(0),u=!!(o&&l);return Fa(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Fa(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?a.jsx(V.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function td(e){return e?parseInt(e,10):0}function zE(e,t){const r=e/t;return isNaN(r)?0:r}function mf(e){const t=zE(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function F7(e,t,r,n="ltr"){const s=mf(r),o=s/2,i=t||o,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return UE([c,u],f)(e)}function Qy(e,t,r="ltr"){const n=mf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],u=jl(e,c);return UE([0,i],[0,l])(u)}function UE(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function BE(e,t){return e>0&&e<t}var z7=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function pf(e,t){const r=Fe(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Fa(e,t){const r=Fe(t);Ge(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function U7(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=m.Children.only(n);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var WE=AE,B7=ME,W7=FE;const qE=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(WE,{ref:n,className:O("relative overflow-hidden",e),...r,children:[a.jsx(B7,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(VE,{}),a.jsx(W7,{})]}));qE.displayName=WE.displayName;const VE=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(e0,{ref:n,orientation:t,className:O("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx($E,{className:"relative flex-1 rounded-full bg-border"})}));VE.displayName=e0.displayName;const q7=({organizationId:e})=>{const{notifications:t,isLoading:r,error:n,markAsRead:s,markAllAsRead:o,removeNotification:i,unreadCount:l}=dU(e),c=d=>{switch(d){case"info":return a.jsx(Du,{className:"w-4 h-4 text-blue-600"});case"warning":return a.jsx(ta,{className:"w-4 h-4 text-yellow-600"});case"success":return a.jsx(Er,{className:"w-4 h-4 text-green-600"});case"error":return a.jsx(ta,{className:"w-4 h-4 text-red-600"});default:return a.jsx(Du,{className:"w-4 h-4"})}},u=t.slice(0,10);return a.jsxs(zk,{children:[a.jsx(Uk,{asChild:!0,children:a.jsxs(J,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(Ox,{className:"w-5 h-5"}),l>0&&a.jsx(er,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:l>9?"9+":l})]})}),a.jsxs(Cv,{align:"end",className:"w-80",children:[a.jsxs("div",{className:"p-2 flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold",children:"Notifications"}),l>0&&a.jsxs(J,{variant:"ghost",size:"sm",onClick:o,className:"text-xs h-6 px-2",children:[a.jsx(jd,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),a.jsx(gp,{}),n?a.jsxs("div",{className:"p-4 text-center text-red-500 text-sm",children:[a.jsx(ta,{className:"w-4 h-4 mx-auto mb-1"}),"Failed to load notifications"]}):r?a.jsx("div",{className:"p-2 space-y-2",children:Array.from({length:3}).map((d,f)=>a.jsx(Sp,{className:"h-16 w-full"},f))}):u.length===0?a.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:[a.jsx(Ox,{className:"w-4 h-4 mx-auto mb-1 opacity-50"}),"You're all caught up!"]}):a.jsxs(qE,{className:"max-h-[400px]",children:[u.map(d=>a.jsx(Ev,{className:"p-0",onSelect:f=>f.preventDefault(),children:a.jsx("div",{className:`w-full p-3 ${d.is_read?"":"bg-blue-50 dark:bg-blue-900/20"}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[c(d.type),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:d.title}),!d.is_read&&a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full ml-2 mt-1 flex-shrink-0"})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mt-1",children:d.message}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:_7(new Date(d.created_at),{addSuffix:!0})})]})]}),a.jsxs("div",{className:"flex items-center shrink-0 pl-2 space-x-1",children:[!d.is_read&&a.jsx(J,{variant:"ghost",size:"sm",title:"Mark as read",onClick:f=>{f.stopPropagation(),s(d.id)},className:"h-7 w-7 p-0 hover:bg-green-100",children:a.jsx(Er,{className:"w-4 h-4 text-gray-500 hover:text-green-600"})}),a.jsx(J,{variant:"ghost",size:"sm",title:"Dismiss",onClick:f=>{f.stopPropagation(),i(d.id)},className:"h-7 w-7 p-0 hover:bg-red-100",children:a.jsx(Ya,{className:"w-4 h-4 text-gray-500 hover:text-red-600"})})]})]})})},d.id)),t.length>10&&a.jsxs(a.Fragment,{children:[a.jsx(gp,{}),a.jsx("div",{className:"p-2 text-center",children:a.jsxs("span",{className:"text-xs text-gray-500",children:[t.length-10," more notifications..."]})})]})]})]})]})},V7=()=>{const{user:e,isAdmin:t,isOrgAdmin:r,signOut:n}=Pn();let s="Member";t?s="System Admin":r&&(s="Organization Admin");const o=async()=>{await n(),Ce.success("Successfully signed out.")};return a.jsxs("div",{className:"flex items-center gap-3 ml-3",children:[a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[a.jsx(Pg,{className:"w-5 h-5 text-orange-500"}),a.jsxs("div",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(e==null?void 0:e.email)||"—"}),a.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:s})]})]}),a.jsx(J,{variant:"ghost",size:"icon",title:"Sign out",onClick:o,className:"rounded-full hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/20",children:a.jsx(oj,{className:"w-5 h-5"})})]})},H7=({organization:e})=>{const t=r=>{console.log("Navigate to:",r)};return a.jsx(ge,{className:"border-0 shadow-lg bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20",children:a.jsxs(ve,{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-orange-500 rounded-xl shadow-lg",children:a.jsx(fl,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.name}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Organization Dashboard"}),e.status&&a.jsx(er,{variant:e.status==="active"?"default":"outline",children:e.status})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 justify-end",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(Wy,{organizationId:e.id,onNavigate:t})}),a.jsx(q7,{organizationId:e.id}),a.jsx(V7,{})]})]}),a.jsx("div",{className:"md:hidden mt-4",children:a.jsx(Wy,{organizationId:e.id,onNavigate:t})})]})})},K7=({groupedMenuItems:e,isMobile:t,expandedGroups:r,toggleGroup:n,activeTab:s,onTabChange:o,isLoading:i})=>a.jsx(a.Fragment,{children:e.map((l,c)=>{const u=t?r[l.label]!==!1:!0;return a.jsxs(vE,{className:`px-2 ${c!==0?"mt-5 pt-5 border-t border-gray-200 dark:border-sidebar-border":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between cursor-pointer select-none px-2",onClick:t?()=>n(l.label):void 0,tabIndex:t?0:-1,"aria-label":l.label+" Menu","aria-expanded":u,children:[a.jsx(xE,{className:"uppercase font-extrabold tracking-wider text-orange-700 dark:text-sidebar-accent text-xs pb-1",style:{letterSpacing:"0.05em"},children:l.label}),t&&(u?a.jsx(Dl,{className:"w-4 h-4 text-gray-400"}):a.jsx(Ha,{className:"w-4 h-4 text-gray-400"}))]}),a.jsx(yE,{className:u?"block":"hidden",children:a.jsx("div",{className:"bg-white dark:bg-sidebar-accent rounded-lg mt-1 mb-2 shadow-xs transition-colors duration-150",children:a.jsx(wE,{children:l.items.map(d=>a.jsx(bE,{children:a.jsxs(jE,{onClick:()=>o(d.id),isActive:s===d.id,className:`flex items-center justify-between w-full px-3 py-2 gap-2 rounded-md
                          transition-colors duration-150
                          ${t?"py-3 px-2 gap-3":""}
                          hover:bg-orange-50 dark:hover:bg-sidebar-ring/10
                          focus-visible:bg-orange-100 dark:focus-visible:bg-sidebar-ring/15
                          ${s===d.id?"bg-orange-100 dark:bg-sidebar-ring/20 font-semibold shadow-inner":""}
                        `,style:t?{minHeight:48,fontSize:16}:void 0,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(d.icon,{className:`mr-2 ${t?"w-5 h-5":"h-4 w-4"}`}),a.jsx("span",{children:d.label})]}),i?a.jsx(bl,{size:"sm",text:"",className:"ml-2"}):d.badge&&a.jsx(er,{variant:"secondary",className:"ml-2",children:d.badge})]})},d.id))})})})]},l.label)})}),Y7=()=>null,G7=({organizationName:e,activeTab:t,onTabChange:r,stats:n,isLoading:s=!1})=>{var p;const{isMobile:o}=As(),{signOut:i}=Pn(),l=Dr(),c=async()=>{await i(),l("/auth")},[u,d]=A.useState({}),f=[{label:"Team & Settings",items:[{id:"members",label:"Members",icon:Pr,badge:(n==null?void 0:n.active_members)||0},{id:"integrations",label:"Integrations",icon:gA},{id:"settings",label:"Settings",icon:Ra}]},{label:"Core Analytics",items:[{id:"overview",label:"Analytics",icon:Jr,badge:(p=n==null?void 0:n.growth_metrics)!=null&&p.growth_rate&&n.growth_metrics.growth_rate>0?`+${n.growth_metrics.growth_rate}%`:void 0}]},{label:"Customer Intelligence",items:[{id:"customer-insights",label:"Customer Insights",icon:vo},{id:"sentiment",label:"Sentiment Analysis",icon:GT},{id:"performance",label:"Performance",icon:Jr}]},{label:"Content Management",items:[{id:"feedback",label:"Feedback",icon:Pa,badge:(n==null?void 0:n.total_responses)||0},{id:"questions",label:"Questions",icon:Pa,badge:(n==null?void 0:n.total_questions)||0}]}],h=v=>{d(g=>({...g,[v]:!g[v]}))};return a.jsxs(hE,{className:"border-r bg-gray-50 dark:bg-sidebar-background rounded-xl shadow-sm transition-colors duration-200 flex flex-col",children:[a.jsx(pE,{className:"border-b p-4 bg-white dark:bg-sidebar-background rounded-t-xl",children:a.jsx("h2",{className:"font-bold text-lg truncate",title:e,children:e})}),a.jsxs(gE,{className:"flex-1",children:[a.jsx(K7,{groupedMenuItems:f,isMobile:o,expandedGroups:u,toggleGroup:h,activeTab:t,onTabChange:r,isLoading:s}),n&&!s&&a.jsx(Y7,{stats:n})]}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-sidebar-border",children:a.jsxs(J,{variant:"ghost",className:"w-full justify-start",onClick:c,children:[a.jsx(oj,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})};class Q7 extends A.Component{constructor(r){super(r);di(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Dashboard Error:",r,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsxs(ge,{className:"border-destructive",children:[a.jsx(rt,{children:a.jsxs(nt,{className:"flex items-center text-destructive",children:[a.jsx(ta,{className:"w-5 h-5 mr-2"}),"Dashboard Error"]})}),a.jsxs(ve,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"Something went wrong while loading the dashboard. Please try again."}),this.state.error&&a.jsxs("details",{className:"text-sm text-muted-foreground",children:[a.jsx("summary",{children:"Error details"}),a.jsx("pre",{className:"mt-2 text-xs",children:this.state.error.message})]}),a.jsxs(J,{onClick:this.handleRetry,variant:"outline",children:[a.jsx(aj,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]}):this.props.children}}const nq=({onRetry:e})=>a.jsx(ge,{className:"border-destructive",children:a.jsxs(ve,{className:"p-6 text-center",children:[a.jsx(ta,{className:"w-12 h-12 text-destructive mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Unable to load dashboard"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"There was an error loading your dashboard data."}),a.jsxs(J,{onClick:e,variant:"outline",children:[a.jsx(aj,{className:"w-4 h-4 mr-2"}),"Retry"]})]})}),X7=({organizationName:e,currentPage:t="Overview"})=>a.jsx(Fv,{children:a.jsxs(zv,{children:[a.jsx(Yi,{children:a.jsxs(xp,{href:"/admin",className:"flex items-center",children:[a.jsx(sA,{className:"w-4 h-4 mr-1"}),"Admin"]})}),a.jsx(yp,{}),a.jsx(Yi,{children:a.jsxs(xp,{className:"flex items-center",children:[a.jsx(QT,{className:"w-4 h-4 mr-1"}),e]})}),a.jsx(yp,{}),a.jsx(Yi,{children:a.jsx(Uv,{children:t})})]})});var re=function(){return re=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},re.apply(this,arguments)};function J7(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function HE(e,t,r){for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function rc(e){return e.mode==="multiple"}function nc(e){return e.mode==="range"}function gf(e){return e.mode==="single"}var Z7={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function e9(e,t){return Zr(e,"LLLL y",t)}function t9(e,t){return Zr(e,"d",t)}function r9(e,t){return Zr(e,"LLLL",t)}function n9(e){return"".concat(e)}function s9(e,t){return Zr(e,"cccccc",t)}function o9(e,t){return Zr(e,"yyyy",t)}var a9=Object.freeze({__proto__:null,formatCaption:e9,formatDay:t9,formatMonthCaption:r9,formatWeekNumber:n9,formatWeekdayName:s9,formatYearCaption:o9}),i9=function(e,t,r){return Zr(e,"do MMMM (EEEE)",r)},l9=function(){return"Month: "},c9=function(){return"Go to next month"},u9=function(){return"Go to previous month"},d9=function(e,t){return Zr(e,"cccc",t)},f9=function(e){return"Week n. ".concat(e)},h9=function(){return"Year: "},m9=Object.freeze({__proto__:null,labelDay:i9,labelMonthDropdown:l9,labelNext:c9,labelPrevious:u9,labelWeekNumber:f9,labelWeekday:d9,labelYearDropdown:h9});function p9(){var e="buttons",t=Z7,r=Xv,n={},s={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:a9,labels:m9,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function g9(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=zt(n):t&&(o=new Date(t,0,1)),s?i=hf(s):r&&(i=new Date(r,11,31)),{fromDate:o?Ia(o):void 0,toDate:i?Ia(i):void 0}}var KE=m.createContext(void 0);function v9(e){var t,r=e.initialProps,n=p9(),s=g9(r),o=s.fromDate,i=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(gf(r)||rc(r)||nc(r))&&(c=r.onSelect);var u=re(re(re({},n),r),{captionLayout:l,classNames:re(re({},n.classNames),r.classNames),components:re({},r.components),formatters:re(re({},n.formatters),r.formatters),fromDate:o,labels:re(re({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:re(re({},n.modifiers),r.modifiers),modifiersClassNames:re(re({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:re(re({},n.styles),r.styles),toDate:i});return a.jsx(KE.Provider,{value:u,children:e.children})}function Te(){var e=m.useContext(KE);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function YE(e){var t=Te(),r=t.locale,n=t.classNames,s=t.styles,o=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function x9(e){return a.jsx("svg",re({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function GE(e){var t,r,n=e.onChange,s=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,u=Te(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:x9;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function y9(e){var t,r=Te(),n=r.fromDate,s=r.toDate,o=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(P7(n,s))for(var h=zt(n),p=n.getMonth();p<=s.getMonth();p++)f.push(_h(h,p));else for(var h=zt(new Date),p=0;p<=11;p++)f.push(_h(h,p));var v=function(x){var w=Number(x.target.value),y=_h(zt(e.displayMonth),w);e.onChange(y)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:GE;return a.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(x){return a.jsx("option",{value:x.getMonth(),children:l(x,{locale:i})},x.getMonth())})})}function w9(e){var t,r=e.displayMonth,n=Te(),s=n.fromDate,o=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),v=o.getFullYear(),g=p;g<=v;g++)h.push(Gy(_E(new Date),g));var x=function(y){var b=Gy(zt(r),Number(y.target.value));e.onChange(b)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:GE;return a.jsx(w,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(y){return a.jsx("option",{value:y.getFullYear(),children:d(y,{locale:i})},y.getFullYear())})})}function b9(e,t){var r=m.useState(e),n=r[0],s=r[1],o=t===void 0?n:t;return[o,s]}function j9(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&$a(o,s)<0){var u=-1*(c-1);s=Or(o,u)}return i&&$a(s,i)<0&&(s=i),zt(s)}function S9(){var e=Te(),t=j9(e),r=b9(t,e.month),n=r[0],s=r[1],o=function(i){var l;if(!e.disableNavigation){var c=zt(i);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,o]}function _9(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=zt(e),o=zt(Or(s,n)),i=$a(o,s),l=[],c=0;c<i;c++){var u=Or(s,c);l.push(u)}return r&&(l=l.reverse()),l}function N9(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,l=zt(e);if(!r)return Or(l,i);var c=$a(r,e);if(!(c<o))return Or(l,i)}}function k9(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,l=zt(e);if(!r)return Or(l,-i);var c=$a(l,r);if(!(c<=0))return Or(l,-i)}}var QE=m.createContext(void 0);function C9(e){var t=Te(),r=S9(),n=r[0],s=r[1],o=_9(n,t),i=N9(n,t),l=k9(n,t),c=function(f){return o.some(function(h){return Jv(f,h)})},u=function(f,h){c(f)||(h&&RE(f,h)?s(Or(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return a.jsx(QE.Provider,{value:d,children:e.children})}function sc(){var e=m.useContext(QE);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Xy(e){var t,r=Te(),n=r.classNames,s=r.styles,o=r.components,i=sc().goToMonth,l=function(d){i(Or(d,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:YE,u=a.jsx(c,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:u}),a.jsx(y9,{onChange:l,displayMonth:e.displayMonth}),a.jsx(w9,{onChange:l,displayMonth:e.displayMonth})]})}function E9(e){return a.jsx("svg",re({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function P9(e){return a.jsx("svg",re({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var rd=m.forwardRef(function(e,t){var r=Te(),n=r.classNames,s=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),l=re(re({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",re({},e,{ref:t,type:"button",className:i,style:l}))});function R9(e){var t,r,n=Te(),s=n.dir,o=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var h=u(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:o}),g=[i.nav_button,i.nav_button_next].join(" "),x=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:P9,w=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:E9;return a.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(rd,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(x,{className:i.nav_icon,style:l.nav_icon}):a.jsx(w,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(rd,{name:"next-month","aria-label":v,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(w,{className:i.nav_icon,style:l.nav_icon}):a.jsx(x,{className:i.nav_icon,style:l.nav_icon})})]})}function Jy(e){var t=Te().numberOfMonths,r=sc(),n=r.previousMonth,s=r.nextMonth,o=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(v){return Jv(e.displayMonth,v)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&o(n)},p=function(){s&&o(s)};return a.jsx(R9,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:p})}function T9(e){var t,r=Te(),n=r.classNames,s=r.disableNavigation,o=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:YE,u;return s?u=a.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=a.jsx(Xy,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(Xy,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(Jy,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(Jy,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:o.caption,children:u})}function A9(e){var t=Te(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function O9(e,t,r){for(var n=r?uo(new Date):tn(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=bt(n,o);s.push(i)}return s}function M9(){var e=Te(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=O9(s,o,i);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function D9(){var e,t=Te(),r=t.classNames,n=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:M9;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(o,{})})}function I9(e){var t=Te(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var n0=m.createContext(void 0);function L9(e){if(!rc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(n0.Provider,{value:t,children:e.children})}return a.jsx($9,{initialProps:e.initialProps,children:e.children})}function $9(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,o=t.max,i=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var v=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!v){var g=!!(!d.selected&&o&&(n==null?void 0:n.length)===o);if(!g){var x=n?HE([],n):[];if(d.selected){var w=x.findIndex(function(y){return Dt(u,y)});x.splice(w,1)}else x.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,x,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=o&&n.length>o-1,f=n.some(function(h){return Dt(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:i,modifiers:l};return a.jsx(n0.Provider,{value:c,children:r})}function s0(){var e=m.useContext(n0);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function F9(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Dt(s,e)&&Dt(n,e)?void 0:Dt(s,e)?{from:s,to:void 0}:Dt(n,e)?void 0:Np(n,e)?{from:e,to:s}:{from:n,to:e}:s?Np(e,s)?{from:s,to:e}:{from:e,to:s}:n?RE(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var o0=m.createContext(void 0);function z9(e){if(!nc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(o0.Provider,{value:t,children:e.children})}return a.jsx(U9,{initialProps:e.initialProps,children:e.children})}function U9(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},o=s.from,i=s.to,l=t.min,c=t.max,u=function(p,v,g){var x,w;(x=t.onDayClick)===null||x===void 0||x.call(t,p,v,g);var y=F9(p,n);(w=t.onSelect)===null||w===void 0||w.call(t,y,p,v,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],Dt(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:Sh(o,l-1),before:bt(o,l-1)}),o&&i&&d.disabled.push({after:o,before:bt(o,l-1)}),!o&&i&&d.disabled.push({after:Sh(i,l-1),before:bt(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:bt(o,-c+1)}),d.disabled.push({after:bt(o,c-1)})),o&&i){var f=Gr(i,o)+1,h=c-f;d.disabled.push({before:Sh(o,h)}),d.disabled.push({after:bt(i,h)})}!o&&i&&(d.disabled.push({before:bt(i,-c+1)}),d.disabled.push({after:bt(i,c-1)}))}return a.jsx(o0.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function a0(){var e=m.useContext(o0);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function uu(e){return Array.isArray(e)?HE([],e):e!==void 0?[e]:[]}function B9(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=uu(s)}),t}var Mr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Mr||(Mr={}));var W9=Mr.Selected,cn=Mr.Disabled,q9=Mr.Hidden,V9=Mr.Today,Nh=Mr.RangeEnd,kh=Mr.RangeMiddle,Ch=Mr.RangeStart,H9=Mr.Outside;function K9(e,t,r){var n,s=(n={},n[W9]=uu(e.selected),n[cn]=uu(e.disabled),n[q9]=uu(e.hidden),n[V9]=[e.today],n[Nh]=[],n[kh]=[],n[Ch]=[],n[H9]=[],n);return e.fromDate&&s[cn].push({before:e.fromDate}),e.toDate&&s[cn].push({after:e.toDate}),rc(e)?s[cn]=s[cn].concat(t.modifiers[cn]):nc(e)&&(s[cn]=s[cn].concat(r.modifiers[cn]),s[Ch]=r.modifiers[Ch],s[kh]=r.modifiers[kh],s[Nh]=r.modifiers[Nh]),s}var XE=m.createContext(void 0);function Y9(e){var t=Te(),r=s0(),n=a0(),s=K9(t,r,n),o=B9(t.modifiers),i=re(re({},s),o);return a.jsx(XE.Provider,{value:i,children:e.children})}function JE(){var e=m.useContext(XE);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function G9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Q9(e){return!!(e&&typeof e=="object"&&"from"in e)}function X9(e){return!!(e&&typeof e=="object"&&"after"in e)}function J9(e){return!!(e&&typeof e=="object"&&"before"in e)}function Z9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function eB(e,t){var r,n=t.from,s=t.to;if(n&&s){var o=Gr(s,n)<0;o&&(r=[s,n],n=r[0],s=r[1]);var i=Gr(e,n)>=0&&Gr(s,e)>=0;return i}return s?Dt(s,e):n?Dt(n,e):!1}function tB(e){return Gv(e)}function rB(e){return Array.isArray(e)&&e.every(Gv)}function nB(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(tB(r))return Dt(e,r);if(rB(r))return r.includes(e);if(Q9(r))return eB(e,r);if(Z9(r))return r.dayOfWeek.includes(e.getDay());if(G9(r)){var n=Gr(r.before,e),s=Gr(r.after,e),o=n>0,i=s<0,l=Np(r.before,r.after);return l?i&&o:o||i}return X9(r)?Gr(e,r.after)>0:J9(r)?Gr(r.before,e)>0:typeof r=="function"?r(e):!1})}function i0(e,t,r){var n=Object.keys(t).reduce(function(o,i){var l=t[i];return nB(e,l)&&o.push(i),o},[]),s={};return n.forEach(function(o){return s[o]=!0}),r&&!Jv(e,r)&&(s.outside=!0),s}function sB(e,t){for(var r=zt(e[0]),n=hf(e[e.length-1]),s,o,i=r;i<=n;){var l=i0(i,t),c=!l.disabled&&!l.hidden;if(!c){i=bt(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=bt(i,1)}return o||s}var oB=365;function ZE(e,t){var r=t.moveBy,n=t.direction,s=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:bt,week:_p,month:Or,year:gU,startOfWeek:function(x){return s.ISOWeek?uo(x):tn(x,{locale:f,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?NE(x):Qv(x,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=vU([u,p]):n==="after"&&d&&(p=xU([d,p]));var v=!0;if(o){var g=i0(p,o);v=!g.disabled&&!g.hidden}return v?p:l.count>oB?l.lastFocused:ZE(p,{moveBy:r,direction:n,context:s,modifiers:o,retry:re(re({},l),{count:l.count+1})})}var e2=m.createContext(void 0);function aB(e){var t=sc(),r=JE(),n=m.useState(),s=n[0],o=n[1],i=m.useState(),l=i[0],c=i[1],u=sB(t.displayMonths,r),d=s??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(s),o(void 0)},h=function(x){o(x)},p=Te(),v=function(x,w){if(s){var y=ZE(s,{moveBy:x,direction:w,context:p,modifiers:r});Dt(s,y)||(t.goToDate(y,s),h(y))}},g={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return a.jsx(e2.Provider,{value:g,children:e.children})}function l0(){var e=m.useContext(e2);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function iB(e,t){var r=JE(),n=i0(e,r,t);return n}var c0=m.createContext(void 0);function lB(e){if(!gf(e.initialProps)){var t={selected:void 0};return a.jsx(c0.Provider,{value:t,children:e.children})}return a.jsx(cB,{initialProps:e.initialProps,children:e.children})}function cB(e){var t=e.initialProps,r=e.children,n=function(o,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,o,o,i,l)},s={selected:t.selected,onDayClick:n};return a.jsx(c0.Provider,{value:s,children:r})}function t2(){var e=m.useContext(c0);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function uB(e,t){var r=Te(),n=t2(),s=s0(),o=a0(),i=l0(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,p=i.focusMonthBefore,v=i.focusMonthAfter,g=i.focusYearBefore,x=i.focusYearAfter,w=i.focusStartOfWeek,y=i.focusEndOfWeek,b=function(M){var _,P,B,z;gf(r)?(_=n.onDayClick)===null||_===void 0||_.call(n,e,t,M):rc(r)?(P=s.onDayClick)===null||P===void 0||P.call(s,e,t,M):nc(r)?(B=o.onDayClick)===null||B===void 0||B.call(o,e,t,M):(z=r.onDayClick)===null||z===void 0||z.call(r,e,t,M)},j=function(M){var _;h(e),(_=r.onDayFocus)===null||_===void 0||_.call(r,e,t,M)},S=function(M){var _;f(),(_=r.onDayBlur)===null||_===void 0||_.call(r,e,t,M)},N=function(M){var _;(_=r.onDayMouseEnter)===null||_===void 0||_.call(r,e,t,M)},C=function(M){var _;(_=r.onDayMouseLeave)===null||_===void 0||_.call(r,e,t,M)},E=function(M){var _;(_=r.onDayPointerEnter)===null||_===void 0||_.call(r,e,t,M)},T=function(M){var _;(_=r.onDayPointerLeave)===null||_===void 0||_.call(r,e,t,M)},R=function(M){var _;(_=r.onDayTouchCancel)===null||_===void 0||_.call(r,e,t,M)},L=function(M){var _;(_=r.onDayTouchEnd)===null||_===void 0||_.call(r,e,t,M)},$=function(M){var _;(_=r.onDayTouchMove)===null||_===void 0||_.call(r,e,t,M)},K=function(M){var _;(_=r.onDayTouchStart)===null||_===void 0||_.call(r,e,t,M)},I=function(M){var _;(_=r.onDayKeyUp)===null||_===void 0||_.call(r,e,t,M)},G=function(M){var _;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),u();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),d();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?g():p();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?x():v();break;case"Home":M.preventDefault(),M.stopPropagation(),w();break;case"End":M.preventDefault(),M.stopPropagation(),y();break}(_=r.onDayKeyDown)===null||_===void 0||_.call(r,e,t,M)},U={onClick:b,onFocus:j,onBlur:S,onKeyDown:G,onKeyUp:I,onMouseEnter:N,onMouseLeave:C,onPointerEnter:E,onPointerLeave:T,onTouchCancel:R,onTouchEnd:L,onTouchMove:$,onTouchStart:K};return U}function dB(){var e=Te(),t=t2(),r=s0(),n=a0(),s=gf(e)?t.selected:rc(e)?r.selected:nc(e)?n.selected:void 0;return s}function fB(e){return Object.values(Mr).includes(e)}function hB(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(fB(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function mB(e,t){var r=re({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=re(re({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function pB(e,t,r){var n,s,o,i=Te(),l=l0(),c=iB(e,t),u=uB(e,c),d=dB(),f=!!(i.onDayClick||i.mode!=="default");m.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Dt(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=hB(i,c).join(" "),p=mB(i,c),v=!!(c.outside&&!i.showOutsideDays||c.hidden),g=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:I9,x=a.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),w={style:p,className:h,children:x,role:"gridcell"},y=l.focusTarget&&Dt(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&Dt(l.focusedDay,e),j=re(re(re({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||y?0:-1,n)),u),S={isButton:f,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:w};return S}function gB(e){var t=m.useRef(null),r=pB(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(rd,re({name:"day",ref:t},r.buttonProps)):a.jsx("div",re({},r.divProps))}function vB(e){var t=e.number,r=e.dates,n=Te(),s=n.onWeekNumberClick,o=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(p){s(t,r,p)};return a.jsx(rd,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:h,children:d})}function xB(e){var t,r,n=Te(),s=n.styles,o=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:gB,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:vB,d;return i&&(d=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[d,e.dates.map(function(f){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:e.displayMonth,date:f})},k7(f))})]})}function Zy(e,t,r){for(var n=r!=null&&r.ISOWeek?NE(t):Qv(t,r),s=r!=null&&r.ISOWeek?uo(e):tn(e,r),o=Gr(n,s),i=[],l=0;l<=o;l++)i.push(bt(s,l));var c=i.reduce(function(u,d){var f=r!=null&&r.ISOWeek?kE(d):EE(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function yB(e,t){var r=Zy(zt(e),hf(e),t);if(t!=null&&t.useFixedWeeks){var n=E7(e,t);if(n<6){var s=r[r.length-1],o=s.dates[s.dates.length-1],i=_p(o,6-n),l=Zy(_p(o,1),i,t);r.push.apply(r,l)}}return r}function wB(e){var t,r,n,s=Te(),o=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,v=yB(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:D9,x=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:xB,w=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:A9;return a.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&a.jsx(g,{}),a.jsx("tbody",{className:i.tbody,style:l.tbody,children:v.map(function(y){return a.jsx(x,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),a.jsx(w,{displayMonth:e.displayMonth})]})}function bB(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var jB=bB()?m.useLayoutEffect:m.useEffect,Eh=!1,SB=0;function ew(){return"react-day-picker-".concat(++SB)}function _B(e){var t,r=e??(Eh?ew():null),n=m.useState(r),s=n[0],o=n[1];return jB(function(){s===null&&o(ew())},[]),m.useEffect(function(){Eh===!1&&(Eh=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function NB(e){var t,r,n=Te(),s=n.dir,o=n.classNames,i=n.styles,l=n.components,c=sc().displayMonths,u=_B(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[o.month],h=i.month,p=e.displayIndex===0,v=e.displayIndex===c.length-1,g=!p&&!v;s==="rtl"&&(t=[p,v],v=t[0],p=t[1]),p&&(f.push(o.caption_start),h=re(re({},h),i.caption_start)),v&&(f.push(o.caption_end),h=re(re({},h),i.caption_end)),g&&(f.push(o.caption_between),h=re(re({},h),i.caption_between));var x=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:T9;return a.jsxs("div",{className:f.join(" "),style:h,children:[a.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(wB,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function kB(e){var t=Te(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function CB(e){var t,r,n=e.initialProps,s=Te(),o=l0(),i=sc(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=re(re({},s.styles.root),s.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var x;return re(re({},v),(x={},x[g]=n[g],x))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:kB;return a.jsx("div",re({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:a.jsx(p,{children:i.displayMonths.map(function(v,g){return a.jsx(NB,{displayIndex:g,displayMonth:v},g)})})}))}function EB(e){var t=e.children,r=J7(e,["children"]);return a.jsx(v9,{initialProps:r,children:a.jsx(C9,{children:a.jsx(lB,{initialProps:r,children:a.jsx(L9,{initialProps:r,children:a.jsx(z9,{initialProps:r,children:a.jsx(Y9,{children:a.jsx(aB,{children:t})})})})})})})}function PB(e){return a.jsx(EB,re({},e,{children:a.jsx(CB,{initialProps:e})}))}function r2({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(PB,{showOutsideDays:r,className:O("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:O(wl({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:O(wl({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(kg,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(Ha,{className:"h-4 w-4"})},...n})}r2.displayName="Calendar";var u0="Popover",[n2,sq]=ut(u0,[ks]),oc=ks(),[RB,Os]=n2(u0),s2=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=oc(t),c=m.useRef(null),[u,d]=m.useState(!1),[f=!1,h]=_t({prop:n,defaultProp:s,onChange:o});return a.jsx(Ed,{...l,children:a.jsx(RB,{scope:t,contentId:Ft(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:i,children:r})})};s2.displayName=u0;var o2="PopoverAnchor",TB=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Os(o2,r),o=oc(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(Ll,{...o,...n,ref:t})});TB.displayName=o2;var a2="PopoverTrigger",i2=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Os(a2,r),o=oc(r),i=te(t,s.triggerRef),l=a.jsx(V.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":f2(s.open),...n,ref:i,onClick:D(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Ll,{asChild:!0,...o,children:l})});i2.displayName=a2;var d0="PopoverPortal",[AB,OB]=n2(d0,{forceMount:void 0}),l2=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Os(d0,t);return a.jsx(AB,{scope:t,forceMount:r,children:a.jsx(Qe,{present:r||o.open,children:a.jsx(Va,{asChild:!0,container:s,children:n})})})};l2.displayName=d0;var za="PopoverContent",c2=m.forwardRef((e,t)=>{const r=OB(za,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Os(za,e.__scopePopover);return a.jsx(Qe,{present:n||o.open,children:o.modal?a.jsx(MB,{...s,ref:t}):a.jsx(DB,{...s,ref:t})})});c2.displayName=za;var MB=m.forwardRef((e,t)=>{const r=Os(za,e.__scopePopover),n=m.useRef(null),s=te(t,n),o=m.useRef(!1);return m.useEffect(()=>{const i=n.current;if(i)return Kd(i)},[]),a.jsx(Hl,{as:St,allowPinchZoom:!0,children:a.jsx(u2,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:D(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:D(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:D(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),DB=m.forwardRef((e,t)=>{const r=Os(za,e.__scopePopover),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(u2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),u2=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Os(za,r),p=oc(r);return Vd(),a.jsx(Vl,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(po,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Pd,{"data-state":f2(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),d2="PopoverClose",IB=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Os(d2,r);return a.jsx(V.button,{type:"button",...n,ref:t,onClick:D(e.onClick,()=>s.onOpenChange(!1))})});IB.displayName=d2;var LB="PopoverArrow",$B=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=oc(r);return a.jsx(Rd,{...s,...n,ref:t})});$B.displayName=LB;function f2(e){return e?"open":"closed"}var FB=s2,zB=i2,UB=l2,h2=c2;const BB=FB,WB=zB,m2=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(UB,{children:a.jsx(h2,{ref:s,align:t,sideOffset:r,className:O("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));m2.displayName=h2.displayName;const qB=({selected:e,onSelect:t,placeholder:r="Pick a date range",className:n})=>a.jsx("div",{className:O("grid gap-2",n),children:a.jsxs(BB,{children:[a.jsx(WB,{asChild:!0,children:a.jsxs(J,{id:"date",variant:"outline",className:O("w-full justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[a.jsx(Z1,{className:"mr-2 h-4 w-4"}),e!=null&&e.from?e.to?a.jsxs(a.Fragment,{children:[Zr(e.from,"LLL dd, y")," -"," ",Zr(e.to,"LLL dd, y")]}):Zr(e.from,"LLL dd, y"):a.jsx("span",{children:r})]})}),a.jsx(m2,{className:"w-auto p-0",align:"start",children:a.jsx(r2,{initialFocus:!0,mode:"range",defaultMonth:e==null?void 0:e.from,selected:e,onSelect:t,numberOfMonths:2})})]})}),p2=m.createContext(void 0),VB=({children:e})=>{const[t,r]=m.useState();return a.jsx(p2.Provider,{value:{dateRange:t,setDateRange:r},children:e})},g2=()=>{const e=m.useContext(p2);if(e===void 0)throw new Error("useDashboard must be used within a DashboardProvider");return e},HB=(e,t,r)=>{const n={},s=t.length,o=r>0?s/r*100:0;return t.forEach(i=>{const l=String(i.response_value||"No Response");n[l]=(n[l]||0)+1}),{distribution:n,insights:KB(e,n,s),totalResponses:s,completionRate:o}},KB=(e,t,r)=>{switch(e.toLowerCase()){case"star rating":return YB(t,r);case"nps score":return GB(t,r);case"single choice":case"multiple choice":return QB(t,r);case"likert scale":return XB(t,r);case"emoji rating":return JB(t,r);case"slider":return ZB(t,r);case"text input":return eW(t,r);default:return[`${r} responses collected`]}},YB=(e,t)=>{const r=[],n=Object.entries(e).map(([u,d])=>({rating:parseInt(u)||0,count:d})),s=n.filter(u=>u.rating>=4).reduce((u,d)=>u+d.count,0),o=n.filter(u=>u.rating<=2).reduce((u,d)=>u+d.count,0),i=Math.round(s/t*100),l=Math.round(o/t*100);i>60&&r.push(`Strong satisfaction: ${i}% gave 4+ stars`),l>20&&r.push(`${l}% gave low ratings (1-2 stars)`);const c=n.sort((u,d)=>d.count-u.count)[0];return c&&r.push(`Most common rating: ${c.rating} stars (${Math.round(c.count/t*100)}%)`),r.length>0?r:[`${t} star ratings collected`]},GB=(e,t)=>{const r=[];let n=0,s=0;Object.entries(e).forEach(([c,u])=>{const d=parseInt(c)||0;d>=9?n+=u:d>=7||(s+=u)});const o=t>0?Math.round((n-s)/t*100):0,i=Math.round(n/t*100),l=Math.round(s/t*100);return r.push(`NPS Score: ${o}`),r.push(`${i}% promoters, ${l}% detractors`),o>50?r.push("Excellent customer loyalty"):o>0?r.push("Positive overall sentiment"):r.push("Room for improvement in customer satisfaction"),r},QB=(e,t)=>{const r=[],n=Object.entries(e).sort((s,o)=>o[1]-s[1]);if(n.length>0){const s=n[0],o=Math.round(s[1]/t*100);r.push(`Most popular: "${s[0]}" (${o}%)`),o>60?r.push("Clear preference identified"):o<30&&r.push("Even distribution across options")}if(n.length>1){const s=n[1],o=Math.round(s[1]/t*100);r.push(`Second choice: "${s[0]}" (${o}%)`)}return r},XB=(e,t)=>{const r=[];let n=0,s=0;Object.entries(e).forEach(([l,c])=>{const u=l.toLowerCase();u.includes("agree")&&!u.includes("disagree")?n+=c:u.includes("disagree")&&(s+=c)});const o=Math.round(n/t*100),i=Math.round(s/t*100);return r.push(`${o}% agreement, ${i}% disagreement`),o>70?r.push("Strong consensus in favor"):i>50?r.push("Majority disagrees with statement"):r.push("Mixed opinions on this topic"),r},JB=(e,t)=>{const r=[],n=Object.entries(e).sort((i,l)=>l[1]-i[1]);if(n.length>0){const i=n[0],l=Math.round(i[1]/t*100);r.push(`Most used: ${i[0]} (${l}%)`)}let s=0;Object.entries(e).forEach(([i,l])=>{["😊","😍","🥰","😄","👍","❤️","😀","🎉"].includes(i)&&(s+=l)});const o=Math.round(s/t*100);return r.push(`${o}% positive emotional responses`),r},ZB=(e,t)=>{const r=[],n=Object.entries(e).map(([s,o])=>({value:parseFloat(s)||0,count:o})).filter(s=>!isNaN(s.value));if(n.length>0){const o=n.reduce((d,f)=>d+f.value*f.count,0)/t;r.push(`Average value: ${o.toFixed(1)}`);const i=n.sort((d,f)=>d.value-f.value),l=i[0].value,u=i[i.length-1].value-l;if(u>0){const d=(o-l)/u*100;d>75?r.push("Values tend toward upper range"):d<25?r.push("Values tend toward lower range"):r.push("Balanced distribution of values")}}return r},eW=(e,t)=>{const r=[];r.push(`${t} text responses collected`);let n=0,s=0;Object.entries(e).forEach(([l,c])=>{const u=l.length;u<20?n+=c:u>100&&(s+=c)});const o=Math.round(n/t*100),i=Math.round(s/t*100);return i>30&&r.push(`${i}% provided detailed responses`),o>50&&r.push(`${o}% gave brief responses`),r},tW=(e,t,r)=>{if(r===0)return"neutral";switch(e==null?void 0:e.toLowerCase()){case"star rating":{const o=Object.entries(t).filter(([i])=>parseInt(i)>=4).reduce((i,[,l])=>i+l,0)/r*100;return o>60?"positive":o<30?"negative":"mixed"}case"nps score":{let n=0,s=0;Object.entries(t).forEach(([i,l])=>{const c=parseInt(i)||0;c>=9?n+=l:c<=6&&(s+=l)});const o=r>0?(n-s)/r*100:0;return o>20?"positive":o<-20?"negative":"mixed"}case"likert scale":{let n=0;Object.entries(t).forEach(([o,i])=>{o.toLowerCase().includes("agree")&&!o.toLowerCase().includes("disagree")&&(n+=i)});const s=n/r*100;return s>60?"positive":s<30?"negative":"mixed"}default:return"neutral"}},rW=(e,t,r)=>{const n=(r==null?void 0:r.length)||0,s=[],o=new Map;if(e)for(const c of e){const u=(t==null?void 0:t.filter(j=>j.question_id===c.id))||[],d=new Set(u.map(j=>j.session_id)),f=u.filter(j=>typeof j.score=="number"),h=f.reduce((j,S)=>j+S.score,0),p=f.length>0?h/f.length:0,v=HB(c.question_type||"text",u,n),g=tW(c.question_type,v.distribution,u.length),x=n>0?d.size/n*100:0,w={id:c.id,question_text:c.question_text,question_type:c.question_type||"text",category:c.category||"General",total_responses:u.length,completion_rate:Math.round(x),avg_score:p,response_distribution:v.distribution,insights:v.insights,trend:g};s.push(w);const y=c.category||"General";o.has(y)||o.set(y,{category:y,total_questions:0,total_responses:0,completion_rate:0,questions:[],avg_score:0});const b=o.get(y);b.total_questions+=1,b.total_responses+=u.length,b.questions.push(w)}const i=[];o.forEach(c=>{const u=c.questions.length>0?c.questions.reduce((h,p)=>h+p.completion_rate,0)/c.questions.length:0,d=c.questions.filter(h=>h.avg_score>0),f=d.length>0?d.reduce((h,p)=>h+p.avg_score,0)/d.length:0;c.completion_rate=Math.round(u),c.avg_score=f,i.push(c)});const l=[];if(r){const c=r.reduce((d,f)=>{const h=new Date(f.created_at).toISOString().split("T")[0];return d[h]||(d[h]={date:h,total_sessions:0,completed_sessions:0,scores:[]}),d[h].total_sessions++,f.status==="completed"&&d[h].completed_sessions++,typeof f.total_score=="number"&&d[h].scores.push(f.total_score),d},{}),u=Object.keys(c).sort((d,f)=>new Date(d).getTime()-new Date(f).getTime());for(const d of u){const f=c[d],h=f.scores.reduce((g,x)=>g+x,0),p=f.scores.length>0?h/f.scores.length:0,v=f.total_sessions>0?f.completed_sessions/f.total_sessions*100:0;l.push({date:new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric"}),total_sessions:f.total_sessions,completed_sessions:f.completed_sessions,completion_rate:Math.round(v),avg_score:Math.round(p)})}}return{questions:s,categories:i,trendData:l}},nW=e=>{const{dateRange:t}=g2();return Ar({queryKey:["analytics-table-data",e,t],queryFn:async()=>{const{data:r}=await q.from("questions").select("*").eq("organization_id",e).eq("is_active",!0).order("category",{ascending:!0}).order("order_index",{ascending:!0});let n=q.from("feedback_responses").select(`
          id,
          question_id,
          response_value,
          question_category,
          session_id,
          created_at,
          score,
          response_time_ms
        `).eq("organization_id",e);if(t!=null&&t.from&&(n=n.gte("created_at",t.from.toISOString())),t!=null&&t.to){const p=new Date(t.to);p.setDate(p.getDate()+1),n=n.lt("created_at",p.toISOString())}const{data:s}=await n;let o=q.from("feedback_sessions").select("id, status, created_at, total_score").eq("organization_id",e);if(t!=null&&t.from&&(o=o.gte("created_at",t.from.toISOString())),t!=null&&t.to){const p=new Date(t.to);p.setDate(p.getDate()+1),o=o.lt("created_at",p.toISOString())}const{data:i}=await o,l=rW(r,s,i);s&&(l.questions.forEach(p=>{const v=s.filter(g=>g.question_id===p.id&&g.response_time_ms!=null);if(v.length>0){const g=v.reduce((x,w)=>x+(w.response_time_ms||0),0);p.avg_response_time_ms=Math.round(g/v.length)}else p.avg_response_time_ms=0}),l.categories.forEach(p=>{const v=l.questions.filter(g=>g.category===p.category&&g.avg_response_time_ms&&g.avg_response_time_ms>0);if(v.length>0){const g=v.reduce((x,w)=>x+(w.avg_response_time_ms||0),0);p.avg_response_time_ms=Math.round(g/v.length)}else p.avg_response_time_ms=0}));const c=(i==null?void 0:i.length)||0,u=(i==null?void 0:i.filter(p=>p.status==="completed").length)||0,d=c>0?u/c*100:0,f=(r==null?void 0:r.length)||0,h=(s==null?void 0:s.length)||0;return{...l,summary:{total_questions:f,total_responses:h,overall_completion_rate:Math.round(d)}}},enabled:!!e,staleTime:5*60*1e3})};function tw(e){if(e==null)return"";const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t}function sW(e,t){if(!e||e.length===0){console.warn("No data available to export.");return}const r=Object.keys(e[0]),n=[r.join(",")];for(const l of e){const c=r.map(u=>{const d=l[u];return tw(typeof d=="object"&&d!==null?JSON.stringify(d):d)});n.push(c.join(","))}const s=new Blob([n.join(`
`)],{type:"text/csv;charset=utf-8;"}),o=window.URL.createObjectURL(s),i=document.createElement("a");i.setAttribute("hidden",""),i.setAttribute("href",o),i.setAttribute("download",t),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o)}const oW=({organizationName:e,organizationId:t,currentPage:r,onNavigate:n})=>{const{dateRange:s,setDateRange:o}=g2(),{data:i,isLoading:l}=nW(t),c=()=>{if(i){const u=new Date().toISOString().split("T")[0];sW(i.questions,`questions-analytics-${u}.csv`)}};return a.jsxs("div",{className:"flex flex-col space-y-4 mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(mE,{}),a.jsx(X7,{organizationName:e,currentPage:r})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end items-center gap-4",children:[a.jsx(qB,{selected:s,onSelect:o,className:"w-full sm:w-auto",placeholder:"Filter by date range"}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s&&a.jsx(J,{variant:"ghost",onClick:()=>o(void 0),className:"w-full sm:w-auto",children:"Clear"}),a.jsxs(J,{onClick:c,disabled:l||!(i!=null&&i.questions.length),className:"w-full sm:w-auto",children:[a.jsx(tA,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})]})]})},aW=A.lazy(()=>Ct(()=>import("./MembersTab-BTSRacMh.js"),__vite__mapDeps([0,1]))),iW=A.lazy(()=>Ct(()=>import("./InboxTab-CIqbEhRj.js"),__vite__mapDeps([2,1]))),lW=A.lazy(()=>Ct(()=>import("./AdvancedDashboardTab-BVXPwd4F.js"),__vite__mapDeps([3,4,5,6,1]))),cW=A.lazy(()=>Ct(()=>import("./CustomerInsightsTab-BGEBJuW9.js"),__vite__mapDeps([7,4,5,8,1]))),uW=A.lazy(()=>Ct(()=>import("./SentimentTab-CwnaTIbb.js"),__vite__mapDeps([9,4,1]))),dW=A.lazy(()=>Ct(()=>import("./PerformanceTab-CVhjRtYy.js"),__vite__mapDeps([10,4,1]))),fW=A.lazy(()=>Ct(()=>import("./FeedbackTab-19MZf6Yr.js"),__vite__mapDeps([11,5,8,6,1]))),hW=A.lazy(()=>Ct(()=>import("./IntegrationsTab-grslYCmt.js"),__vite__mapDeps([12,13,4]))),mW=A.lazy(()=>Ct(()=>import("./QuestionsTab-P3gztEp8.js"),__vite__mapDeps([14,1]))),pW=A.lazy(()=>Ct(()=>import("./SettingsTab-BhDJcYT-.js"),__vite__mapDeps([15,13,1]))),gW=({activeTab:e,setActiveTab:t,organization:r,stats:n,isLiveActivity:s,setIsLiveActivity:o,handleQuickActions:i})=>a.jsx("div",{children:a.jsxs(zl,{value:e,onValueChange:t,className:"space-y-6",children:[a.jsx(qe,{value:"overview",className:"space-y-6",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading advanced dashboard…"}),children:a.jsx(lW,{organization:r,stats:n,activeTab:e,setActiveTab:t,isLiveActivity:s,setIsLiveActivity:o,handleQuickActions:i})})}),a.jsx(qe,{value:"customer-insights",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading customer insights…"}),children:a.jsx(cW,{organizationId:r.id})})}),a.jsx(qe,{value:"sentiment",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading sentiment…"}),children:a.jsx(uW,{organizationId:r.id})})}),a.jsx(qe,{value:"performance",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading performance…"}),children:a.jsx(dW,{organizationId:r.id})})}),a.jsx(qe,{value:"members",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading members…"}),children:a.jsx(aW,{organization:r})})}),a.jsx(qe,{value:"feedback",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading feedback…"}),children:a.jsx(fW,{organizationId:r.id})})}),a.jsx(qe,{value:"inbox",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading inbox…"}),children:a.jsx(iW,{organizationId:r.id})})}),a.jsx(qe,{value:"questions",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading questions…"}),children:a.jsx(mW,{})})}),a.jsx(qe,{value:"settings",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading settings…"}),children:a.jsx(pW,{organization:r})})}),a.jsx(qe,{value:"integrations",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading integrations…"}),children:a.jsx(hW,{})})})]})}),vW=({setActiveTab:e})=>({handleNavigate:s=>{s.includes("members")?e("members"):s.includes("questions")?e("questions"):s.includes("feedback")?e("feedback"):s.includes("inbox")?e("inbox"):s.includes("settings")&&e("settings")},getTabLabel:s=>({overview:"Overview",members:"Members",feedback:"Feedback Analytics",inbox:"Feedback Inbox",questions:"Questions Management",settings:"Settings"})[s]||"Dashboard",handleQuickActions:{onCreateQuestion:()=>e("questions"),onViewSettings:()=>e("settings"),onInviteUser:()=>{},onExportData:()=>{}}}),xW=e=>Ar({queryKey:["enhanced-organization-stats",e],queryFn:async()=>{const{data:t,error:r}=await q.rpc("get_organization_stats_enhanced",{org_id:e});if(r)throw r;return t},enabled:!!e,staleTime:3e4,refetchInterval:6e4}),yW=e=>{const t=sn();m.useEffect(()=>{if(!e)return;console.log("Setting up realtime updates for organization:",e);const r=q.channel("feedback-updates").on("postgres_changes",{event:"*",schema:"public",table:"feedback_sessions",filter:`organization_id=eq.${e}`},n=>{console.log("Feedback session updated:",n),t.invalidateQueries({queryKey:["enhanced-organization-stats",e]}),t.invalidateQueries({queryKey:["organization-stats",e]})}).on("postgres_changes",{event:"*",schema:"public",table:"feedback_responses",filter:`organization_id=eq.${e}`},n=>{console.log("Feedback response updated:",n),t.invalidateQueries({queryKey:["enhanced-organization-stats",e]})}).on("postgres_changes",{event:"*",schema:"public",table:"organization_users",filter:`organization_id=eq.${e}`},n=>{console.log("Organization user updated:",n),t.invalidateQueries({queryKey:["paginated-users"]}),t.invalidateQueries({queryKey:["organization-members",e]})}).subscribe();return()=>{console.log("Cleaning up realtime subscriptions"),q.removeChannel(r)}},[e,t])},wW=()=>{const{slug:e}=fS();Pn();const[t,r]=m.useState("overview"),[n,s]=m.useState(!0),{data:o,isLoading:i,error:l}=Ar({queryKey:["organization",e],queryFn:async()=>{console.log("Fetching organization by slug:",e);const{data:p,error:v}=await q.from("organizations").select("*").eq("slug",e).single();if(v)throw console.error("Error fetching organization:",v),v;return console.log("Organization fetched successfully:",p),p},enabled:!!e,retry:2,staleTime:5*60*1e3}),{data:c,isLoading:u}=xW((o==null?void 0:o.id)||"");yW((o==null?void 0:o.id)||"");const{handleNavigate:d,getTabLabel:f,handleQuickActions:h}=vW({setActiveTab:r});return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(bl,{size:"lg",text:"Loading organization dashboard..."})}):l||!o?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l?"Error Loading Organization":"Organization Not Found"}),a.jsx("p",{className:"text-gray-600",children:l?"There was an error loading the organization. Please try again.":"The organization you're looking for doesn't exist."}),l&&a.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error: ",l.message]})]})}):a.jsx(VB,{children:a.jsx(Q7,{children:a.jsx(fE,{children:a.jsxs("div",{className:"min-h-screen flex w-full bg-warm-gray-50",children:[a.jsx(G7,{organizationName:o.name,activeTab:t,onTabChange:r,stats:c,isLoading:u}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(H7,{organization:o}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx(oW,{organizationName:o.name,organizationId:o.id,currentPage:f(t),onNavigate:d}),a.jsx(gW,{activeTab:t,setActiveTab:r,organization:o,stats:c,isLiveActivity:n,setIsLiveActivity:s,handleQuickActions:h})]})})]})]})})})})},bW=()=>a.jsx(wW,{}),jW=()=>{const e=on();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},SW=()=>{const{pathname:e}=on();return m.useEffect(()=>{e!=="/"&&document.documentElement.classList.remove("dark")},[e]),null},_W=()=>a.jsxs("div",{className:"bg-white dark:bg-background",children:[a.jsx(Rv,{}),a.jsxs("main",{className:"max-w-4xl mx-auto pt-32 pb-16 px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-8",children:"Terms of Service"}),a.jsxs("div",{className:"prose dark:prose-invert max-w-none text-warm-gray-600 dark:text-dark-warm-600 space-y-4",children:[a.jsx("p",{children:"Last updated: June 15, 2025"}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"1. Agreement to Terms"}),a.jsx("p",{children:"By using our services, you agree to be bound by these Terms of Service. If you do not agree to these Terms, do not use the services."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"2. Use of Services"}),a.jsx("p",{children:"You may use our services only in compliance with these Terms and all applicable laws. We grant you a limited, non-exclusive, non-transferable, revocable license to use the services."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"3. Accounts"}),a.jsx("p",{children:"When you create an account with us, you must provide us with information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"4. Termination"}),a.jsx("p",{children:"We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"5. Governing Law"}),a.jsx("p",{children:"These Terms shall be governed by the laws of Kenya, without regard to its conflict of law provisions."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"6. Contact Us"}),a.jsx("p",{children:"If you have any questions about these Terms, please contact us at info@pulsify.bunisystems.com."})]})]}),a.jsx(Tv,{})]}),NW=()=>a.jsxs("div",{className:"bg-white dark:bg-background",children:[a.jsx(Rv,{}),a.jsxs("main",{className:"max-w-4xl mx-auto pt-32 pb-16 px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-8",children:"Privacy Policy"}),a.jsxs("div",{className:"prose dark:prose-invert max-w-none text-warm-gray-600 dark:text-dark-warm-600 space-y-4",children:[a.jsx("p",{children:"Last updated: June 15, 2025"}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"1. Introduction"}),a.jsx("p",{children:"Welcome to Pulsify. We are committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"2. Information We Collect"}),a.jsx("p",{children:"We may collect personal identification information (Name, email address, phone number, etc.) and non-personal information (browser type, etc.) from you in a variety of ways."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"3. How We Use Your Information"}),a.jsx("p",{children:"We use the information we collect to operate and maintain our services, send you marketing communications, respond to your comments and questions, and provide you with user support."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"4. Data Security"}),a.jsx("p",{children:"We take data security very seriously. Our platform is SOC 2 compliant, and all data is encrypted end-to-end. We follow industry best practices to ensure your data is safe and private. We implement a variety of security measures to maintain the safety of your personal information."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"5. Changes to This Privacy Policy"}),a.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"6. Contact Us"}),a.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at info@pulsify.bunisystems.com."})]})]}),a.jsx(Tv,{})]}),kW=()=>{const e=Dr(),[t]=Yg(),[r,n]=m.useState(!0),[s,o]=m.useState(null);m.useEffect(()=>{const l=async()=>{var u;try{console.log("Auth callback started");const{data:d,error:f}=await q.auth.getSession();if(f){console.error("Auth callback error:",f),o(f.message),setTimeout(()=>e("/auth?error="+encodeURIComponent(f.message)),2e3);return}if((u=d.session)!=null&&u.user){const h=d.session.user.email,p=t.get("type"),v=p==="signup",g=p==="recovery",x=t.get("org"),w=t.get("invitation")==="true";if(console.log("Auth callback - User:",h),console.log("Auth callback - Type:",p),console.log("Auth callback - Org slug:",x),console.log("Auth callback - Is invitation:",w),console.log("Auth callback - Is email confirmation:",v),console.log("Auth callback - Is password reset:",g),g){console.log("Processing password reset"),e("/auth?reset=true");return}if(w&&h&&x&&v){console.log("Processing invitation signup for:",h,"to org:",x),e("/auth?reset=true&invitation=true&org="+x);return}if(w&&h&&x&&!v){console.log("Processing invitation for existing user:",h,"to org:",x),await c(d,x,h);return}console.log("Processing standard auth flow"),await new Promise(b=>setTimeout(b,1e3));const y=await Ki.handlePostAuthRedirect(d.session.user);console.log("Redirecting to:",y),e(y)}else console.log("No session found, redirecting to auth"),e("/auth")}catch(d){console.error("Callback processing error:",d),o("Authentication failed. Please try again."),setTimeout(()=>e("/auth?error="+encodeURIComponent("Authentication failed")),2e3)}finally{n(!1)}},c=async(u,d,f)=>{try{if(!i(d)){console.error("Invalid organization slug:",d),o("Invalid organization invitation"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Invalid organization invitation")),2e3);return}const{data:h}=await q.from("organizations").select("id, name, slug").eq("slug",d).single();if(!h){console.error("Organization not found:",d),o("Organization not found"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Organization not found")),2e3);return}const p=u.session.user.user_metadata,v=(p==null?void 0:p.role)||"member",g=(p==null?void 0:p.enhanced_role)||v;console.log("Invitation details from metadata:",{role:v,enhancedRole:g});const{data:x}=await q.from("organization_users").select("id").eq("user_id",u.session.user.id).eq("organization_id",h.id).maybeSingle();if(x)console.log("User already in organization");else{const{error:y}=await q.from("organization_users").insert({user_id:u.session.user.id,organization_id:h.id,email:f,role:v,enhanced_role:g,status:"active",accepted_at:new Date().toISOString()});if(y){console.error("Error adding user to organization:",y),o("Failed to join organization"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Failed to join organization")),2e3);return}console.log("User successfully added to organization")}const{error:w}=await q.from("user_invitations").update({status:"accepted",updated_at:new Date().toISOString()}).eq("email",f.toLowerCase().trim()).eq("organization_id",h.id);w&&console.warn("Could not update invitation status:",w),console.log("Redirecting to organization dashboard:",d),e(`/admin/${d}`)}catch(h){console.error("Error handling invitation flow:",h),o("Failed to process invitation"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Failed to process invitation")),2e3)}};l()},[e,t]);const i=l=>{const c=["auth-callback","auth","admin","api","callback","login","signup"],u=/^[a-z0-9]+(?:-[a-z0-9]+)*$/;return l&&l.length>=2&&l.length<=50&&!c.includes(l)&&u.test(l)};return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 text-xl mb-4",children:"Authentication Error"}),a.jsx("p",{className:"text-gray-600 mb-4",children:s}),a.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you back to login..."})]})}):r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(bl,{text:"Processing authentication..."}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Setting up your account access..."})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx(bl,{text:"Redirecting..."})})})},CW=new vD;function EW(){return a.jsx(jD,{client:CW,children:a.jsxs(qj,{children:[a.jsx(JA,{}),a.jsx(CO,{}),a.jsxs(P4,{children:[a.jsx(SW,{}),a.jsx(n3,{children:a.jsx(Z5,{children:a.jsxs(b4,{children:[a.jsx(Wt,{path:"/",element:a.jsx(o8,{})}),a.jsx(Wt,{path:"/terms-of-service",element:a.jsx(_W,{})}),a.jsx(Wt,{path:"/privacy-policy",element:a.jsx(NW,{})}),a.jsx(Wt,{path:"/admin/login",element:a.jsx(E3,{})}),a.jsx(Wt,{path:"/admin",element:a.jsx(ih,{requireAdmin:!0,children:a.jsx(NF,{})})}),a.jsx(Wt,{path:"/auth",element:a.jsx(C3,{})}),a.jsx(Wt,{path:"/auth-callback",element:a.jsx(kW,{})}),a.jsx(Wt,{path:"/create-organization",element:a.jsx(ih,{children:a.jsx(kF,{})})}),a.jsx(Wt,{path:"/admin/:slug",element:a.jsx(ih,{requireOrgAdmin:!0,children:a.jsx(bW,{})})}),a.jsx(Wt,{path:"/:orgSlug",element:a.jsx(Uy,{})}),a.jsx(Wt,{path:"/org/:slug",element:a.jsx(Uy,{})}),a.jsx(Wt,{path:"*",element:a.jsx(jW,{})})]})})})]})]})})}C1(document.getElementById("root")).render(a.jsx(A.StrictMode,{children:a.jsx(EW,{})}));export{js as $,De as A,er as B,ge as C,nq as D,ql as E,Ie as F,Ha as G,ta as H,Yt as I,tj as J,Gt as K,Pr as L,Pa as M,Cg as N,nW as O,xW as P,u_ as Q,A as R,Sp as S,vo as T,yF as U,GT as V,X1 as W,fr as X,fw as Y,oE as Z,sn as _,Ar as a,pe as a0,nj as a1,Zr as a2,vv as a3,xv as a4,Jd as a5,Zd as a6,tf as a7,rf as a8,ef as a9,Ev as aA,Z1 as aB,gp as aC,wi as aD,SN as aE,hv as aF,_N as aG,mv as aH,pv as aI,V as aJ,Ya as aK,rn as aL,tq as aM,ut as aN,te as aO,_t as aP,D as aQ,Yd as aR,Cd as aS,lp as aT,sj as aU,sf as aa,nf as ab,Jl as ac,si as ad,oi as ae,ai as af,QL as ag,GL as ah,VW as ai,jd as aj,Ur as ak,ce as al,ij as am,gA as an,Ec as ao,Ko as ap,XT as aq,cA as ar,WC as as,pA as at,Pn as au,lA as av,aj as aw,zk as ax,Uk as ay,Cv as az,rt as b,Q as c,nt as d,yl as e,ve as f,_7 as g,J as h,O as i,a as j,Ea as k,Er as l,Q7 as m,ej as n,Dl as o,Jr as p,zl as q,m as r,q as s,Ul as t,xF as u,cr as v,qe as w,Bl as x,Wl as y,kn as z};
